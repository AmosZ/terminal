cscope 15 $HOME/Project/terminator-0.96/terminatorlib -q 0000003320 0000390080
	@/home/zq/Project/terminator-0.96/terminatorlib/__init__.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü - 
muÉË
 
gnome
 
‹rmš®s
 
š
 
Úe
 
wšdow


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


	@/home/zq/Project/terminator-0.96/terminatorlib/borg.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
	gh‰p
:

6 
AùiveS‹
's…olicy‡ppearso behat snippets

7 
exi¡
 
to
 
’cou¿ge
 
»
-
u£
, 
but
 
I
 
ÿn
 
nÙ
 
fšd
 
ªy


8 
¥ecific
 
liûncšg
 
	g‹rms
.

11 
äom
 
ut
 
impÜt
 
	gdbg


13 #pylšt: 
di§bË
-
msg
=
R0903


14 #pylšt: 
di§bË
-
msg
=
R0921


15 
şass
 
	gBÜg
:

17 
thus
:

19 
äom
 
bÜg
 
impÜt
 
BÜg


20 
şass
 
	$foo
(
BÜg
):

21 #AÎ 
©Œibu‹s
 
Ú
 
a
 
bÜg
 
şass
 *
mu¡
* = 
NÚe


22 
©Œibu‹
 = 
NÚe


24 
def
 
	$__š™__
(
£lf
):

25 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

27 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

28 
nÙ
 
£lf
.
©Œibu‹
:

29 
£lf
.
©Œibu‹
 = []

31 
b¬
 = 
	$foo
()

32 
b¬
.
	$´•¬e_©Œibu‹s
()

34 
The
 
impÜÁ
 
thšg
 
to
 
nÙe
 
is
 
th©
 
®l
 
©Œibu‹s
 
of
 
bÜg
 
şas£s
 *
mu¡
* 
be


35 
deş¬ed
 
as
 
bešg
 
NÚe
. 
If
 
you
 
©‹m±
 
to
 
u£
 
şass
 
©Œibu‹s
 you

36 
wl
 
g‘
 
uÅ»diùed
 
behaviour
. 
In¡—d
, 
	$´•¬e_©Œibu‹s
(è
mu¡
 
be
 
ÿÎed


37 
which
 
wl
 
th’
 
£e
 
the
 
©Œibu‹s
 
š
h
sh¬ed
 
¡©e
, 
ªd
 
š™Ÿli£
 
them


38 
Ãûs§ry
."""

39 
__sh¬ed_¡©e
 = {
	}
}

41 
def
 
	$__š™__
(
£lf
, 
bÜgty³
=
NÚe
):

43 
¡©e
. 
This
 
makes
 
us
 
id’tiÿl
 
to
 
ev”y
 
Ùh”
 
š¡ªû
 
of
 
this
 
şass


44 
ty³
."""

45 
bÜgty³
 
is
 
NÚe
:

46 
¿i£
 
	`Ty³E¼Ü
('Borg::__init__: You must…ass‡ borgtype')

47 
nÙ
 
£lf
.
__sh¬ed_¡©e
.
	$has_key
(
bÜgty³
):

48 
	`dbg
('BÜg::__š™__: P»·ršg bÜg s‹ fÜ %s' % 
bÜgty³
)

49 
£lf
.
__sh¬ed_¡©e
[
bÜgty³
] = {
	}
}

50 
£lf
.
__diù__
 = s–f.
__sh¬ed_¡©e
[
bÜgty³
]

52 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

54 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('prepare_attributes')

	@/home/zq/Project/terminator-0.96/terminatorlib/config.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©ÜCÚfig - 
Ïy”ed
 
cÚfig
 
şas£s


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
CÏs£s
 
»Ïtšg
 
to
 
	gcÚfigu¿tiÚ


19 >>> 
	gDEFAULTS
['global_config']['focus']

21 >>> 
	gcÚfig
 = 
CÚfig
()

22 >>> 
cÚfig
['focus'] = 'sloppy'

23 >>> 
cÚfig
['focus']

25 >>> 
DEFAULTS
['global_config']['focus']

27 >>> 
cÚfig2
 = 
CÚfig
()

28 >>> 
cÚfig2
['focus']

30 >>> 
cÚfig2
['focus'] = 'click'

31 >>> 
cÚfig2
['focus']

33 >>> 
cÚfig
['focus']

35 >>> 
cÚfig
['geom‘ry_hštšg'].
__şass__
.
__Çme__


37 >>> 
¶ugš‹¡
 = {}

38 >>> 
¶ugš‹¡
['foo'] = 'bar'

39 >>> 
cÚfig
.
¶ugš_£t_cÚfig
('‹¡¶ugš', 
¶ugš‹¡
)

40 >>> 
	gcÚfig
.
¶ugš_g‘_cÚfig
('testplugin')

42 >>> 
cÚfig
.
¶ugš_g‘
('testplugin', 'foo')

44 >>> 
	gcÚfig
.
g‘_´ofe
()

46 >>> 
	gcÚfig
.
£t_´ofe
('my_first_new_testing_profile')

47 >>> 
	gcÚfig
.
g‘_´ofe
()

49 >>> 
	gcÚfig
.
d–_´ofe
('my_first_new_testing_profile')

50 >>> 
	gcÚfig
.
g‘_´ofe
()

52 >>> 
	gcÚfig
.
li¡_´ofes
().
	g__şass__
.
	g__Çme__


54 >>> 
	gcÚfig
.
İtiÚs_£t
({})

55 >>> 
	gcÚfig
.
	$İtiÚs_g‘
()

56 {
	}
}

61 
impÜt
 
¶©fÜm


62 
impÜt
 
os


63 
äom
 
cİy
 
impÜt
 copy

64 
äom
 
	gcÚfigobj
.
cÚfigobj
 
impÜt
 
	gCÚfigObj
, 
æ©‹n_”rÜs


65 
äom
 
	gcÚfigobj
.
v®id©e
 
impÜt
 
V®id©Ü


66 
äom
 
bÜg
 
impÜt
 
BÜg


67 
äom
 
ut
 
impÜt
 
	gdbg
, 
	g”r
, 
	gDEBUG
, 
	gg‘_cÚfig_dœ
, 
diù_diff


69 
	gŒy
:

70 
impÜt
 
gcÚf


71 
exû±
 
ImpÜtE¼Ü
:

72 
dbg
('Unableo import gconf, GNOME defaults unavailable')

74 
DEFAULTS
 = {

76 'dbus' : 
F®£
,

79 'geom‘ry_hštšg' : 
True
,

81 'bÜd”Ëss' : 
F®£
,

83 'şo£_bu‰Ú_Ú_b' : 
True
,

84 'hide_bb¬' : 
F®£
,

85 'süŞl_bb¬' : 
F®£
,

86 'hide_äom_skb¬' : 
F®£
,

87 '®ways_Ú_tİ' : 
F®£
,

88 'hide_Ú_lo£_focus' : 
F®£
,

89 '¡icky' : 
F®£
,

90 'Œy_posix_»gexp' : 
¶©fÜm
.
sy¡em
() != 'Linux',

91 't™Ë_hide_siz‘ext' : 
F®£
,

159 '®low_bŞd' : 
True
,

160 'ªtŸlŸs' : 
True
,

161 'audibË_b–l' : 
F®£
,

162 'visibË_b–l' : 
F®£
,

163 'urg’t_b–l' : 
F®£
,

164 'icÚ_b–l' : 
True
,

168 'background_image' : 
NÚe
,

172 'cursÜ_blšk' : 
True
,

178 'show_t™Ëb¬' : 
True
,

180 'süŞl_background' : 
True
,

181 'süŞl_Ú_key¡roke' : 
True
,

182 'süŞl_Ú_ouut' : 
True
,

184 'süŞlback_šfš™e' : 
F®£
,

190 'mou£_autohide' : 
True
,

191 'upd©e_»cÜds' : 
True
,

192 'logš_sh–l' : 
F®£
,

193 'u£_cu¡om_commªd' : 
F®£
,

195 'u£_sy¡em_fÚt' : 
True
,

196 'u£_theme_cŞÜs' : 
F®£
,

200 'fÜû_no_b–l' : 
F®£
,

201 'cyşe_‹rm_b' : 
True
,

202 'cİy_Ú_£ËùiÚ' : 
F®£
,

203 '®‹º©e_sü“n_süŞl': 
True
,

204 '¥l™_to_group' : 
F®£
,

205 'autoş—n_groups' : 
True
,

226 
şass
 
	$CÚfig
(
objeù
):

228 
ba£
 = 
NÚe


229 
´ofe
 = 
NÚe


230 
gcÚf
 = 
NÚe


231 
sy¡em_fÚt
 = 
NÚe


232 
sy¡em_focus
 = 
NÚe


233 
šhib™ed
 = 
NÚe


235 
def
 
	`__š™__
(
£lf
, 
´ofe
='default'):

236 
£lf
.
ba£
 = 
	$CÚfigBa£
()

237 
£lf
.
	$£t_´ofe
(
´ofe
)

238 
£lf
.
šhib™ed
 = 
F®£


240 
def
 
	$__g‘™em__
(
£lf
, 
key
):

242 (
£lf
.
ba£
.
	$g‘_™em
(
key
, 
£lf
.
´ofe
))

244 
def
 
	$__£t™em__
(
£lf
, 
key
, 
v®ue
):

246 (
£lf
.
ba£
.
	$£t_™em
(
key
, 
v®ue
, 
£lf
.
´ofe
))

248 
def
 
	$g‘_´ofe
(
£lf
):

250 (
£lf
.
´ofe
)

252 
def
 
	$£t_´ofe
(
£lf
, 
´ofe
, 
fÜû
=
F®£
):

254 
İtiÚs
 = 
£lf
.
	$İtiÚs_g‘
()

255 
nÙ
 
fÜû
 
ªd
 
İtiÚs
‡nd o±iÚs.
´ofe
‡nd…rofile == 'default':

256 
	`dbg
('ov”ridšg deçuÉ…roftØ%s' % 
İtiÚs
.
´ofe
)

257 
´ofe
 = 
İtiÚs
.profile

258 
	`dbg
('CÚfig::£t_´ofe: Chªgšg…roftØ%s' % 
´ofe
)

259 
£lf
.
´ofe
 =…rofile

260 
nÙ
 
£lf
.
ba£
.
´ofes
.
	$has_key
(
´ofe
):

261 
	`dbg
('CÚfig::£t_´ofe: % dÛ nÙƒxi¡, c»©šg' % 
´ofe
)

262 
£lf
.
ba£
.
´ofes
[
´ofe
] = 
	`cİy
(
DEFAULTS
['profiles']['default'])

264 
def
 
	$add_´ofe
(
£lf
, 
´ofe
):

266 (
£lf
.
ba£
.
	$add_´ofe
(
´ofe
))

268 
def
 
	$d–_´ofe
(
£lf
, 
´ofe
):

270 
´ofe
 =ğ
£lf
.profile:

271 #FIXME: 
We
 
should
 
sŞve
 
this
 
´obËm
 
by
 
upd©šg
 
‹rmš®s
 
wh’
 
we


272 #»mov
a
 
´ofe


273 
	`”r
('CÚfig::d–_´ofe: D–‘šg in-u£…rof%s.' % 
´ofe
)

274 
£lf
.
	`£t_´ofe
('default')

275 
£lf
.
ba£
.
´ofes
.
	$has_key
(
´ofe
):

276 
	$d–
(
£lf
.
ba£
.
´ofes
[
´ofe
])

277 
İtiÚs
 = 
£lf
.
	$İtiÚs_g‘
()

278 
İtiÚs
 
ªd
 o±iÚs.
´ofe
 ==…rofile:

279 
İtiÚs
.
´ofe
 = 
NÚe


280 
£lf
.
	$İtiÚs_£t
(
İtiÚs
)

282 
def
 
	$»Çme_´ofe
(
£lf
, 
´ofe
, 
ÃwÇme
):

284 
£lf
.
ba£
.
´ofes
.
	$has_key
(
´ofe
):

285 
£lf
.
ba£
.
´ofes
[
ÃwÇme
] = s–f.ba£.´ofes[
´ofe
]

286 
	$d–
(
£lf
.
ba£
.
´ofes
[
´ofe
])

287 
´ofe
 =ğ
£lf
.profile:

288 
£lf
.
´ofe
 = 
ÃwÇme


290 
def
 
	$li¡_´ofes
(
£lf
):

292 (
£lf
.
ba£
.
´ofes
.
	$keys
())

294 
def
 
	$add_Ïyout
(
£lf
, 
Çme
, 
Ïyout
):

296 (
£lf
.
ba£
.
	$add_Ïyout
(
Çme
, 
Ïyout
))

298 
def
 
	$d–_Ïyout
(
£lf
, 
Ïyout
):

300 
£lf
.
ba£
.
Ïyouts
.
	$has_key
(
Ïyout
):

301 
	$d–
(
£lf
.
ba£
.
Ïyouts
[
Ïyout
])

303 
def
 
	$»Çme_Ïyout
(
£lf
, 
Ïyout
, 
ÃwÇme
):

305 
£lf
.
ba£
.
Ïyouts
.
	$has_key
(
Ïyout
):

306 
£lf
.
ba£
.
Ïyouts
[
ÃwÇme
] = s–f.ba£.Ïyouts[
Ïyout
]

307 
	$d–
(
£lf
.
ba£
.
Ïyouts
[
Ïyout
])

309 
def
 
	$li¡_Ïyouts
(
£lf
):

311 (
£lf
.
ba£
.
Ïyouts
.
	$keys
())

313 
def
 
	$g‘_sy¡em_fÚt
(
£lf
):

315 
£lf
.
sy¡em_fÚt
 
is
 
nÙ
 
NÚe
:

316 (
£lf
.
sy¡em_fÚt
)

317 
–if
 'gcÚf' 
nÙ
 
š
 
	$glob®s
():

320 
£lf
.
gcÚf
 
is
 
NÚe
:

321 
£lf
.
gcÚf
 = gcÚf.
	$ş›Á_g‘_deçuÉ
()

323 
v®ue
 = 
£lf
.
gcÚf
.
	`g‘
(

325 
£lf
.
sy¡em_fÚt
 = 
v®ue
.
	$g‘_¡ršg
()

326 
£lf
.
gcÚf
.
	`nÙify_add
(

328 
£lf
.
Ú_gcÚf_nÙify
)

329 (
£lf
.
sy¡em_fÚt
)

331 
def
 
	$g‘_sy¡em_focus
(
£lf
):

333 
£lf
.
sy¡em_focus
 
is
 
nÙ
 
NÚe
:

334 (
£lf
.
sy¡em_focus
)

335 
–if
 'gcÚf' 
nÙ
 
š
 
	$glob®s
():

338 
£lf
.
gcÚf
 
is
 
NÚe
:

339 
£lf
.
gcÚf
 = gcÚf.
	$ş›Á_g‘_deçuÉ
()

341 
v®ue
 = 
£lf
.
gcÚf
.
	`g‘
('/apps/metacity/general/focus_mode')

342 
£lf
.
sy¡em_focus
 = 
v®ue
.
	$g‘_¡ršg
()

343 
£lf
.
gcÚf
.
	`nÙify_add
('/apps/metacity/general/focus_mode',

344 
£lf
.
Ú_gcÚf_nÙify
)

345 (
£lf
.
sy¡em_focus
)

347 
def
 
	$Ú_gcÚf_nÙify
(
£lf
, 
_ş›Á
, 
_úxn_id
, 
_’Œy
, 
_wh©
):

349 
	`dbg
('GConf‚otification„eceived. Invalidating caches')

350 
£lf
.
sy¡em_focus
 = 
NÚe


351 
£lf
.
sy¡em_fÚt
 = 
NÚe


353 
def
 
	$§ve
(
£lf
):

355 
£lf
.
šhib™ed
 
is
 
True
:

356 (
True
)

358 (
£lf
.
ba£
.
	$§ve
())

360 
def
 
	$šhib™_§ve
(
£lf
):

362 
£lf
.
šhib™ed
 = 
True


364 
def
 
	$unšhib™_§ve
(
£lf
):

366 
£lf
.
šhib™ed
 = 
F®£


368 
def
 
	$İtiÚs_£t
(
£lf
, 
İtiÚs
):

370 
£lf
.
ba£
.
commªd_lše_İtiÚs
 = 
İtiÚs


372 
def
 
	$İtiÚs_g‘
(
£lf
):

374 (
£lf
.
ba£
.
commªd_lše_İtiÚs
)

376 
def
 
	$¶ugš_g‘
(
£lf
, 
¶ugšÇme
, 
key
):

378 (
£lf
.
ba£
.
	$g‘_™em
(
key
, 
¶ugš
=
¶ugšÇme
))

380 
def
 
	$¶ugš_£t
(
£lf
, 
¶ugšÇme
, 
key
, 
v®ue
):

382 (
£lf
.
ba£
.
	$£t_™em
(
key
, 
v®ue
, 
¶ugš
=
¶ugšÇme
))

384 
def
 
	$¶ugš_g‘_cÚfig
(
£lf
, 
¶ugš
):

386 (
£lf
.
ba£
.
	$g‘_¶ugš
(
¶ugš
))

388 
def
 
	$¶ugš_£t_cÚfig
(
£lf
, 
¶ugš
, 
Œ“
):

390 (
£lf
.
ba£
.
	$£t_¶ugš
(
¶ugš
, 
Œ“
))

392 
def
 
	$Ïyout_g‘_cÚfig
(
£lf
, 
Ïyout
):

394 (
£lf
.
ba£
.
	$g‘_Ïyout
(
Ïyout
))

396 
def
 
	$Ïyout_£t_cÚfig
(
£lf
, 
Ïyout
, 
Œ“
):

398 (
£lf
.
ba£
.
	$£t_Ïyout
(
Ïyout
, 
Œ“
))

400 
şass
 
	$CÚfigBa£
(
BÜg
):

402 
lßded
 = 
NÚe


403 
whšed
 = 
NÚe


404 
£ùiÚs
 = 
NÚe


405 
glob®_cÚfig
 = 
NÚe


406 
´ofes
 = 
NÚe


407 
keybšdšgs
 = 
NÚe


408 
¶ugšs
 = 
NÚe


409 
Ïyouts
 = 
NÚe


410 
commªd_lše_İtiÚs
 = 
NÚe


412 
def
 
	$__š™__
(
£lf
):

415 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

417 
£lf
.
	$´•¬e_©Œibu‹s
()

418 
£lf
.
	$lßd
()

420 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

422 
£lf
.
lßded
 
is
 
NÚe
:

423 
£lf
.
lßded
 = 
F®£


424 
£lf
.
whšed
 
is
 
NÚe
:

425 
£lf
.
whšed
 = 
F®£


426 
£lf
.
£ùiÚs
 
is
 
NÚe
:

427 
£lf
.
£ùiÚs
 = ['global_config', 'keybindings', 'profiles',

429 
£lf
.
glob®_cÚfig
 
is
 
NÚe
:

430 
£lf
.
glob®_cÚfig
 = 
	`cİy
(
DEFAULTS
['global_config'])

431 
£lf
.
´ofes
 
is
 
NÚe
:

432 
£lf
.
´ofes
 = {
	}
}

433 
£lf
.
´ofes
['deçuÉ'] = 
cİy
(
DEFAULTS
['profiles']['default'])

434 
£lf
.
keybšdšgs
 
is
 
NÚe
:

435 
£lf
.
keybšdšgs
 = 
cİy
(
DEFAULTS
['keybindings'])

436 
£lf
.
¶ugšs
 
is
 
NÚe
:

437 
£lf
.
¶ugšs
 = {}

438 
£lf
.
Ïyouts
 
is
 
NÚe
:

439 
£lf
.
Ïyouts
 = {}

440 
Ïyout
 
š
 
DEFAULTS
['layouts']:

441 
£lf
.
Ïyouts
[
Ïyout
] = 
cİy
(
DEFAULTS
['layouts'][layout])

443 
def
 
	$deçuÉs_to_cÚfig¥ec
(
£lf
):

445 
¥ecifiÿtiÚ
"""

446 
cÚfig¥ecd©a
 = {
	}
}

448 
keym­
 = {

454 
£ùiÚ
 = {}

455 
key
 
š
 
DEFAULTS
['global_config']:

456 
keyty³
 = 
DEFAULTS
['glob®_cÚfig'][
key
].
__şass__
.
__Çme__


457 
v®ue
 = 
DEFAULTS
['glob®_cÚfig'][
key
]

458 
keyty³
 
š
 
keym­
:

459 
keyty³
 = 
keym­
[keytype]

460 
–if
 
keyty³
 == 'list':

461 
v®ue
 = 'li¡(%s)' % ','.
	$još
(
v®ue
)

463 
keyty³
 = '%s(deçuÉ=%s)' % (keyty³, 
v®ue
)

465 
£ùiÚ
[
key
] = 
keyty³


466 
cÚfig¥ecd©a
['glob®_cÚfig'] = 
£ùiÚ


468 
£ùiÚ
 = {
	}
}

469 
key
 
š
 
DEFAULTS
['keybindings']:

470 
v®ue
 = 
DEFAULTS
['keybšdšgs'][
key
]

471 
v®ue
 
is
 
NÚe
 
Ü
 value == '':

473 
£ùiÚ
[
key
] = '¡ršg(deçuÉ=%s)' % 
v®ue


474 
cÚfig¥ecd©a
['keybšdšgs'] = 
£ùiÚ


476 
£ùiÚ
 = {}

477 
key
 
š
 
DEFAULTS
['profiles']['default']:

478 
keyty³
 = 
DEFAULTS
['´ofes']['deçuÉ'][
key
].
__şass__
.
__Çme__


479 
v®ue
 = 
DEFAULTS
['´ofes']['deçuÉ'][
key
]

480 
keyty³
 
š
 
keym­
:

481 
keyty³
 = 
keym­
[keytype]

482 
–if
 
keyty³
 == 'list':

483 
v®ue
 = 'li¡(%s)' % ','.
	$još
(
v®ue
)

484 
keyty³
 == 'string':

485 
v®ue
 = '"%s"' % value

487 
keyty³
 = '%s(deçuÉ=%s)' % (keyty³, 
v®ue
)

489 
£ùiÚ
[
key
] = 
keyty³


490 
cÚfig¥ecd©a
['´ofes'] = {
	}
}

491 
cÚfig¥ecd©a
['´ofes']['__mªy__'] = 
£ùiÚ


493 
£ùiÚ
 = {}

494 
£ùiÚ
['type'] = 'string'

495 
£ùiÚ
['parent'] = 'string'

496 
£ùiÚ
['profile'] = 'string(default=default)'

497 
£ùiÚ
['command'] = 'string(default="")'

498 
£ùiÚ
['position'] = 'string(default="")'

499 
£ùiÚ
['size'] = 'list(default=list(-1,-1))'

500 
cÚfig¥ecd©a
['layouts'] = {}

501 
cÚfig¥ecd©a
['layouts']['__many__'] = {}

502 
cÚfig¥ecd©a
['Ïyouts']['__mªy__']['__mªy__'] = 
£ùiÚ


504 
cÚfig¥ecd©a
['plugins'] = {}

506 
cÚfig¥ec
 = 
	$CÚfigObj
(
cÚfig¥ecd©a
)

507 
DEBUG
 =ğ
True
:

508 
cÚfig¥ec
.
	`wr™e
(
	`İ’
('/tmp/terminator_configspec_debug.txt', 'w'))

509 (
cÚfig¥ec
)

511 
def
 
	$lßd
(
£lf
):

513 
£lf
.
lßded
 
is
 
True
:

514 
	`dbg
('ConfigBase::load: config‡lready†oaded')

517 
f’ame
 = 
os
.
·th
.
	`još
(
	`g‘_cÚfig_dœ
(), 'config')

518 
	`dbg
('lookšg fÜ cÚfig fe: %s' % 
f’ame
)

519 
Œy
:

520 
cÚfigfe
 = 
	`İ’
(
f’ame
, 'r')

521 
exû±
 
Exû±iÚ
, 
ex
:

522 
nÙ
 
£lf
.
whšed
:

523 
	`”r
('CÚfigBa£::lßd: UÇbËØİ’ % (%s)' % (
f’ame
, 
ex
))

524 
£lf
.
whšed
 = 
True


526 #Ià
we
 
have
 
sucûssfuÎy
 
lßded
 
a
 
cÚfig
, 
®low
 
futu»
 
whššg


527 
£lf
.
whšed
 = 
F®£


529 
Œy
:

530 
cÚfig¥ec
 = 
£lf
.
	$deçuÉs_to_cÚfig¥ec
()

531 
·r£r
 = 
	$CÚfigObj
(
cÚfigfe
, 
cÚfig¥ec
=configspec)

532 
v®id©Ü
 = 
	$V®id©Ü
()

533 
»suÉ
 = 
·r£r
.
	$v®id©e
(
v®id©Ü
, 
´e£rve_”rÜs
=
True
)

534 
exû±
 
Exû±iÚ
, 
ex
:

535 
	`”r
('UÇbËØlßd cÚfigu¿tiÚ: %s' % 
ex
)

538 
»suÉ
 !ğ
True
:

539 
	`”r
('ConfigBase::load: config format is‚ot valid')

540 
£ùiÚ_li¡
, 
key
, 
_Ùh”
è
š
 
	$æ©‹n_”rÜs
(
·r£r
, 
»suÉ
):

541 
key
 
is
 
nÙ
 
NÚe
:

542 
	`”r
('[%s]: % i šv®id' % (','.
	`još
(
£ùiÚ_li¡
), 
key
))

544 
	`”r
('[%s] missšg' % ','.
	$još
(
£ùiÚ_li¡
))

546 
	`dbg
('config validated successfully')

548 
£ùiÚ_Çme
 
š
 
£lf
.
£ùiÚs
:

549 
	`dbg
('CÚfigBa£::lßd: Proûssšg seùiÚ: %s' % 
£ùiÚ_Çme
)

550 
£ùiÚ
 = 
	$g‘©Œ
(
£lf
, 
£ùiÚ_Çme
)

551 
£ùiÚ_Çme
 == 'profiles':

552 
´ofe
 
š
 
·r£r
[
£ùiÚ_Çme
]:

553 
	`dbg
('CÚfigBa£::lßd: Proûssšg…rofe: %s' % 
´ofe
)

554 
nÙ
 
£ùiÚ
.
	$has_key
(
£ùiÚ_Çme
):

555 #FIXME: 
Should
 
this
 
be
 
outside
 
the
 
loİ
?

556 
£ùiÚ
[
´ofe
] = 
	`cİy
(
DEFAULTS
['profiles']['default'])

557 
£ùiÚ
[
´ofe
].
	$upd©e
(
·r£r
[
£ùiÚ_Çme
][
´ofe
])

558 
–if
 
£ùiÚ_Çme
 == 'plugins':

559 
nÙ
 
·r£r
.
	$has_key
(
£ùiÚ_Çme
):

561 
·¹
 
š
 
·r£r
[
£ùiÚ_Çme
]:

562 
	`dbg
('CÚfigBa£::lßd: Proûssšg %s: %s' % (
£ùiÚ_Çme
,

563 
·¹
))

564 
£ùiÚ
[
·¹
] = 
·r£r
[
£ùiÚ_Çme
][part]

565 
–if
 
£ùiÚ_Çme
 == 'layouts':

566 
Ïyout
 
š
 
·r£r
[
£ùiÚ_Çme
]:

567 
	`dbg
('CÚfigBa£::lßd: Proûssšg %s: %s' % (
£ùiÚ_Çme
,

568 
Ïyout
))

569 
Ïyout
 =ğ'deçuÉ' 
ªd
 \

570 
·r£r
[
£ùiÚ_Çme
][
Ïyout
] =ğ{
	}
}:

572 
£ùiÚ
[
Ïyout
] = 
·r£r
[
£ùiÚ_Çme
][layout]

574 
Œy
:

575 
£ùiÚ
.
	$upd©e
(
·r£r
[
£ùiÚ_Çme
])

576 
exû±
 
KeyE¼Ü
, 
ex
:

577 
	`dbg
('ConfigBase::load: skipping missing section %s' %

578 
£ùiÚ_Çme
)

580 
£lf
.
lßded
 = 
True


582 
def
 
	$§ve
(
£lf
):

584 
	`dbg
('ConfigBase::save: saving config')

585 
·r£r
 = 
	$CÚfigObj
()

586 
·r£r
.
šd’t_ty³
 = ' '

588 
£ùiÚ_Çme
 
š
 ['global_config', 'keybindings']:

589 
	`dbg
('CÚfigBa£::§ve: Proûssšg seùiÚ: %s' % 
£ùiÚ_Çme
)

590 
£ùiÚ
 = 
	$g‘©Œ
(
£lf
, 
£ùiÚ_Çme
)

591 
·r£r
[
£ùiÚ_Çme
] = 
	$diù_diff
(
DEFAULTS
[
£ùiÚ_Çme
], 
£ùiÚ
)

593 
·r£r
['´ofes'] = {
	}
}

594 
´ofe
 
š
 
£lf
.
´ofes
:

595 
dbg
('CÚfigBa£::§ve: Proûssšg…rofe: %s' % 
´ofe
)

596 
·r£r
['´ofes'][
´ofe
] = 
diù_diff
(

597 
DEFAULTS
['´ofes']['deçuÉ'], 
£lf
.
´ofes
[
´ofe
])

599 
	g·r£r
['layouts'] = {}

600 
Ïyout
 
š
 
£lf
.
Ïyouts
:

601 
dbg
('CÚfigBa£::§ve: Proûssšg†ayout: %s' % 
Ïyout
)

602 
·r£r
['Ïyouts'][
Ïyout
] = 
£lf
.
Ïyouts
[layout]

604 
·r£r
['plugins'] = {}

605 
¶ugš
 
š
 
£lf
.
¶ugšs
:

606 
dbg
('CÚfigBa£::§ve: Proûssšg…lugš: %s' % 
¶ugš
)

607 
·r£r
['¶ugšs'][
¶ugš
] = 
£lf
.
¶ugšs
[plugin]

609 
cÚfig_dœ
 = 
	$g‘_cÚfig_dœ
()

610 
nÙ
 
os
.
·th
.
	$isdœ
(
cÚfig_dœ
):

611 
os
.
	$makedœs
(
cÚfig_dœ
)

612 
Œy
:

613 
·r£r
.
	`wr™e
(
	`İ’
(
os
.
·th
.
	`još
(
cÚfig_dœ
, 'config'), 'w'))

614 
exû±
 
Exû±iÚ
, 
ex
:

615 
	`”r
('CÚfigBa£::§ve: UÇbËØ§vcÚfig: %s' % 
ex
)

617 
def
 
	`g‘_™em
(
£lf
, 
key
, 
´ofe
='deçuÉ', 
¶ugš
=
NÚe
):

619 
nÙ
 
£lf
.
´ofes
.
	$has_key
(
´ofe
):

620 #H™tšg 
this
 
g’”®ly
 
im¶›s
 
a
 
bug


621 
´ofe
 = 'default'

623 
£lf
.
glob®_cÚfig
.
	$has_key
(
key
):

624 
	`dbg
('ConfigBase::get_item: %s found in globals: %s' %

625 (
key
, 
£lf
.
glob®_cÚfig
[key]))

626 (
£lf
.
glob®_cÚfig
[
key
])

627 
–if
 
£lf
.
´ofes
[
´ofe
].
	$has_key
(
key
):

628 
	`dbg
('ConfigBase::get_item: %s found in…rofile %s: %s' % (

629 
key
, 
´ofe
, 
£lf
.
´ofes
[profile][key]))

630 (
£lf
.
´ofes
[
´ofe
][
key
])

631 
–if
 
key
 == 'keybindings':

632 (
£lf
.
keybšdšgs
)

633 
–if
 
¶ugš
 
is
 
nÙ
 
NÚe
 
ªd
 
£lf
.
¶ugšs
[¶ugš].
	$has_key
(
key
):

634 
	`dbg
('ConfigBase::get_item: %s found in…lugin %s: %s' % (

635 
key
, 
¶ugš
, 
£lf
.
¶ugšs
[plugin][key]))

636 (
£lf
.
¶ugšs
[
¶ugš
][
key
])

638 
¿i£
 
	`KeyE¼Ü
('CÚfigBa£::g‘_™em: unknowÀkey %s' % 
key
)

640 
def
 
	`£t_™em
(
£lf
, 
key
, 
v®ue
, 
´ofe
='deçuÉ', 
¶ugš
=
NÚe
):

642 
	`dbg
('ConfigBase::set_item: Setting %s=%s (profile=%s,…lugin=%s)' %

643 (
key
, 
v®ue
, 
´ofe
, 
¶ugš
))

645 
£lf
.
glob®_cÚfig
.
	$has_key
(
key
):

646 
£lf
.
glob®_cÚfig
[
key
] = 
v®ue


647 
–if
 
£lf
.
´ofes
[
´ofe
].
	$has_key
(
key
):

648 
£lf
.
´ofes
[
´ofe
][
key
] = 
v®ue


649 
–if
 
key
 == 'keybindings':

650 
£lf
.
keybšdšgs
 = 
v®ue


651 
–if
 
¶ugš
 
is
 
nÙ
 
NÚe
:

652 
nÙ
 
£lf
.
¶ugšs
.
	$has_key
(
¶ugš
):

653 
£lf
.
¶ugšs
[
¶ugš
] = {
	}
}

654 
£lf
.
¶ugšs
[
¶ugš
][
key
] = 
v®ue


656 
¿i£
 
KeyE¼Ü
('CÚfigBa£::£t_™em: unknowÀkey %s' % 
key
)

658 (
True
)

660 
def
 
	$g‘_¶ugš
(
£lf
, 
¶ugš
):

662 
£lf
.
¶ugšs
.
	$has_key
(
¶ugš
):

663 (
£lf
.
¶ugšs
[
¶ugš
])

665 
def
 
	$£t_¶ugš
(
£lf
, 
¶ugš
, 
Œ“
):

667 
£lf
.
¶ugšs
[
¶ugš
] = 
Œ“


669 
def
 
	$add_´ofe
(
£lf
, 
´ofe
):

671 
´ofe
 
š
 
£lf
.
´ofes
:

672 (
F®£
)

673 
£lf
.
´ofes
[
´ofe
] = 
	`cİy
(
DEFAULTS
['profiles']['default'])

674 (
True
)

676 
def
 
	$add_Ïyout
(
£lf
, 
Çme
, 
Ïyout
):

678 
Çme
 
š
 
£lf
.
Ïyouts
:

679 (
F®£
)

680 
£lf
.
Ïyouts
[
Çme
] = 
Ïyout


681 (
True
)

683 
def
 
	$g‘_Ïyout
(
£lf
, 
Ïyout
):

685 
£lf
.
Ïyouts
.
	$has_key
(
Ïyout
):

686 (
£lf
.
Ïyouts
[
Ïyout
])

688 
	`”r
('ÏyouˆdÛ nÙƒxi¡: %s' % 
Ïyout
)

690 
def
 
	$£t_Ïyout
(
£lf
, 
Ïyout
, 
Œ“
):

692 
£lf
.
Ïyouts
[
Ïyout
] = 
Œ“


	@/home/zq/Project/terminator-0.96/terminatorlib/configobj/__init__.py

	@/home/zq/Project/terminator-0.96/terminatorlib/configobj/configobj.py

1 #cÚfigobj.
py


2 #A 
cÚfig
 
fe
 
»ad”
/
wr™”
 
th©
 
suµÜts
 
Ã¡ed
 
£ùiÚs
 
š
 cÚfig 
fes
.

3 #Cİyrighˆ(
C
è2005-2010 
Mich«l
 
FoÜd
, 
NicŞa
 
L¬o§


4 #E-
ma
: 
fuzzymª
 
AT
 
void¥aû
 
DOT
 
Üg
 DOT 
uk


5 #nicØ
AT
 
‹kNico
 
DOT
 
Ãt


10 #R–—£d 
subjeù
 
to
 
the
 
BSD
 
Liûn£


11 #PËa£ 
£e
 
h‰p
:

13 #Süt 
maššed
 
©
 
h‰p
:

14 #FÜ 
šfÜm©iÚ
 
about
 
bugfixes
, 
upd©es
 
ªd
 
suµÜt
, 
¶—£
 
još
 
the


15 #CÚfigObj 
mašg
 
li¡
:

17 #Comm’ts, 
sugge¡iÚs
 
ªd
 
bug
 
»pÜts
 
w–come
.

19 
äom
 
__futu»__
 
impÜt
 
g’”©Üs


21 
impÜt
 
os


22 
impÜt
 
»


23 
impÜt
 
sys


25 
äom
 
codecs
 
impÜt
 
	gBOM_UTF8
, 
	gBOM_UTF16
, 
	gBOM_UTF16_BE
, 
	gBOM_UTF16_LE


28 #impÜ‹d 
Ïzy
 
to
 
avoid
 
¡¬tup
 
³rfÜmªû
 
h™
 
™
 
i¢
't used

29 
	gcomp”
 = 
NÚe


31 #A 
diùiÚ¬y
 
m­pšg
 
BOM
 
to


32 #th
’codšg
 
to
 
decode
 
w™h
, 
ªd
 
wh©
Ø
£t
 
the


33 #’codšg 
©Œibu‹
 
to
.

34 
	gBOMS
 = {

35 
BOM_UTF8
: ('utf_8', 
NÚe
),

36 
BOM_UTF16_BE
: ('utf16_be', 'utf_16'),

37 
BOM_UTF16_LE
: ('utf16_le', 'utf_16'),

38 
BOM_UTF16
: ('utf_16', 'utf_16'),

40 #AÎ 
Ëg®
 
v¬ŸÁs
 
of
 
the
 
BOM
 
codecs
.

41 #TODO: 
the
 
li¡
 
of
 
®Ÿ£s
 
is
 
nÙ
 
m—Á
 
to
 
be
 
exhau¡ive
, i 
th”e
 
a


42 #b‘‹¸
way
 ?

43 
	gBOM_LIST
 = {

61 #M­ 
of
 
’codšgs
 
to
 
the
 
BOM
Ø
wr™e
.

62 
BOM_SET
 = {

63 'utf_8': 
BOM_UTF8
,

64 'utf_16': 
BOM_UTF16
,

65 'utf16_be': 
BOM_UTF16_BE
,

66 'utf16_Ë': 
BOM_UTF16_LE
,

67 
NÚe
: 
BOM_UTF8


71 
def
 
	$m©ch_utf8
(
’codšg
):

72  
BOM_LIST
.
	`g‘
(
’codšg
.
	`low”
()) == 'utf_8'

75 #QuÙ
¡ršgs
 
u£d
 
wr™šg
 
v®ues


76 
squÙ
 = "'%s'"

77 
dquÙ
 = '"%s"'

78 
noquÙ
 = "%s"

79 
w¥aû_¶us
 = ' \r\n\v\t\'"'

80 
tsquÙ
 = '"""%s"""'

81 
tdquÙ
 = "'''%s'''"

83 #S’tš– 
u£
 
š
 
g‘©Œ
 
ÿÎs
 
to
 
»¶aû
 
ha§‰r


84 
MISSING
 = 
	$objeù
()

86 
__v”siÚ__
 = '4.7.2'

88 
Œy
:

89 
ªy


90 
exû±
 
NameE¼Ü
:

91 
def
 
	$ªy
(
™”abË
):

92 
’Œy
 
š
 
™”abË
:

93 
’Œy
:

94  
True


95  
F®£


98 
__®l__
 = (

120 
DEFAULT_INTERPOLATION
 = 'configparser'

121 
DEFAULT_INDENT_TYPE
 = ' '

122 
MAX_INTERPOL_DEPTH
 = 10

124 
OPTION_DEFAULTS
 = {

125 'š‹½Ş©iÚ': 
True
,

126 '¿i£_”rÜs': 
F®£
,

127 'li¡_v®ues': 
True
,

128 'ü—‹_em±y': 
F®£
,

129 'fe_”rÜ': 
F®£
,

130 'cÚfig¥ec': 
NÚe
,

131 '¡ršgify': 
True
,

132 #İtiÚ 
may
 
be
 
£t
 
to
 
Úe
 
	`of
 ('', ' ', '\t')

133 'šd’t_ty³': 
NÚe
,

134 '’codšg': 
NÚe
,

135 'deçuÉ_’codšg': 
NÚe
,

136 'uÄ•r': 
F®£
,

137 'wr™e_em±y_v®ues': 
F®£
,

138 
	}
}

142 
def
 
	$g‘Obj
(
s
):

143 
glob®
 
comp”


144 
comp”
 
is
 
NÚe
:

145 
impÜt
 
comp”


146 
s
 = "a=" + s

147 
p
 = 
comp”
.
	$·r£
(
s
)

148  
p
.
	`g‘Chd»n
()[1].getChildren()[0].getChildren()[1]

151 
şass
 
	$UnknownTy³
(
Exû±iÚ
):

152 
·ss


155 
şass
 
	$Bud”
(
objeù
):

157 
def
 
	$bud
(
£lf
, 
o
):

158 
m
 = 
	`g‘©Œ
(
£lf
, 'bud_' + 
o
.
__şass__
.
__Çme__
, 
NÚe
)

159 
m
 
is
 
NÚe
:

160 
¿i£
 
	$UnknownTy³
(
o
.
__şass__
.
__Çme__
)

161  
	$m
(
o
)

163 
def
 
	$bud_Li¡
(
£lf
, 
o
):

164  
	`m­
(
£lf
.
bud
, 
o
.
	$g‘Chd»n
())

166 
def
 
	$bud_CÚ¡
(
£lf
, 
o
):

167  
o
.
v®ue


169 
def
 
	$bud_Diù
(
£lf
, 
o
):

170 
d
 = {
	}
}

171 
i
 = 
™”
(
m­
(
£lf
.
bud
, 
o
.
	$g‘Chd»n
()))

172 
–
 
š
 
i
:

173 
d
[
–
] = 
i
.
	$Ãxt
()

174  
d


176 
def
 
	$bud_Tu¶e
(
£lf
, 
o
):

177  
	`tu¶e
(
£lf
.
	$bud_Li¡
(
o
))

179 
def
 
	$bud_Name
(
£lf
, 
o
):

180 
o
.
Çme
 == 'None':

181  
NÚe


182 
o
.
Çme
 == 'True':

183  
True


184 
o
.
Çme
 == 'False':

185  
F®£


187 #AÀ
undefšed
 
Name


188 
¿i£
 
	`UnknownTy³
('Undefined Name')

190 
def
 
	$bud_Add
(
£lf
, 
o
):

191 
»®
, 
imag
 = 
	`m­
(
£lf
.
bud_CÚ¡
, 
o
.
	$g‘Chd»n
())

192 
Œy
:

193 
»®
 = (real)

194 
exû±
 
Ty³E¼Ü
:

195 
¿i£
 
	`UnknownTy³
('Add')

196 
nÙ
 
	$isš¡ªû
(
imag
, 
com¶ex
è
Ü
 imag.
»®
 != 0.0:

197 
¿i£
 
	`UnknownTy³
('Add')

198  
»®
+
imag


200 
def
 
	$bud_G‘©Œ
(
£lf
, 
o
):

201 
·»Á
 = 
£lf
.
	$bud
(
o
.
ex´
)

202  
	$g‘©Œ
(
·»Á
, 
o
.
©ŒÇme
)

204 
def
 
	$bud_UÇrySub
(
£lf
, 
o
):

205  -
£lf
.
	`bud_CÚ¡
(
o
.
	`g‘Chd»n
()[0])

207 
def
 
	$bud_UÇryAdd
(
£lf
, 
o
):

208  
£lf
.
	`bud_CÚ¡
(
o
.
	`g‘Chd»n
()[0])

211 
_bud”
 = 
	$Bud”
()

214 
def
 
	$uÄ•r
(
s
):

215 
nÙ
 
s
:

216  
s


217  
_bud”
.
	`bud
(
	$g‘Obj
(
s
))

221 
şass
 
	$CÚfigObjE¼Ü
(
SyÁaxE¼Ü
):

223 
This
 
is
 
the
 
ba£
 
şass
 
®l
 
”rÜs
 
th©
 
CÚfigObj
 
¿i£s
.

224 
It
 
is
 
a
 
subşass
 
of
 
SyÁaxE¼Ü
.

226 
def
 
	`__š™__
(
£lf
, 
mes§ge
='', 
lše_numb”
=
NÚe
, 
lše
=''):

227 
£lf
.
lše
 =†ine

228 
£lf
.
lše_numb”
 =†ine_number

229 
SyÁaxE¼Ü
.
	$__š™__
(
£lf
, 
mes§ge
)

232 
şass
 
	$Ne¡šgE¼Ü
(
CÚfigObjE¼Ü
):

234 
This
 
”rÜ
 
šdiÿ‹s
 
a
 
Ëv–
 
of
 
Ã¡šg
 
th©
 
dÛ¢
't match.

238 
şass
 
	$P¬£E¼Ü
(
CÚfigObjE¼Ü
):

240 
This
 
”rÜ
 
šdiÿ‹s
 
th©
 
a
 
lše
 
is
 
badly
 
wr™‹n
.

241 
It
 
is
 
Ã™h”
 
a
 
v®id
 ``
key
 = 
v®ue
`` 
lše
,

242 
nÜ
 
a
 
v®id
 
£ùiÚ
 
m¬k”
 
lše
.

246 
şass
 
	$R–ßdE¼Ü
(
IOE¼Ü
):

248 
A
 '»lßd' 
İ”©iÚ
 
çed
.

249 
This
 
exû±iÚ
 
is
 
a
 
subşass
 
of
 ``
IOE¼Ü
``.

251 
def
 
	$__š™__
(
£lf
):

252 
IOE¼Ü
.
	`__š™__
(
£lf
, 'reload failed, filename is‚ot set.')

255 
şass
 
	$Du¶iÿ‹E¼Ü
(
CÚfigObjE¼Ü
):

257 
The
 
keywÜd
 
Ü
 
£ùiÚ
 
¥ecif›d
 
®»ady
 
exi¡s
.

261 
şass
 
	$CÚfig¥ecE¼Ü
(
CÚfigObjE¼Ü
):

263 
An
 
”rÜ
 
occu»d
 
wh¡
 
·rsšg
 
a
 
cÚfig¥ec
.

267 
şass
 
	$IÁ”pŞ©iÚE¼Ü
(
CÚfigObjE¼Ü
):

271 
şass
 
	$IÁ”pŞ©iÚLoİE¼Ü
(
IÁ”pŞ©iÚE¼Ü
):

274 
def
 
	$__š™__
(
£lf
, 
İtiÚ
):

275 
IÁ”pŞ©iÚE¼Ü
.
	`__š™__
(

276 
£lf
,

277 'š‹½Ş©iÚ†oİ d‘eùed iÀv®u"%s".' % 
İtiÚ
)

280 
şass
 
	$R•—tSeùiÚE¼Ü
(
CÚfigObjE¼Ü
):

282 
This
 
”rÜ
 
šdiÿ‹s
 
add™iÚ®
 
£ùiÚs
 
š
 
a
 
£ùiÚ
 
w™h
‡

283 ``
__mªy__
`` (
»³©ed
è
£ùiÚ
.

287 
şass
 
	$MissšgIÁ”pŞ©iÚO±iÚ
(
IÁ”pŞ©iÚE¼Ü
):

289 
def
 
	$__š™__
(
£lf
, 
İtiÚ
):

290 
msg
 = 'missšg o±iÚ "%s" iÀš‹½Ş©iÚ.' % 
İtiÚ


291 
IÁ”pŞ©iÚE¼Ü
.
	$__š™__
(
£lf
, 
msg
)

294 
şass
 
	$UÄ•rE¼Ü
(
CÚfigObjE¼Ü
):

299 
şass
 
	$IÁ”pŞ©iÚEngše
(
objeù
):

301 
A
 
h–³r
 
şass
 
to
 
h–p
 
³rfÜm
 
¡ršg
 
š‹½Ş©iÚ
.

303 
This
 
şass
 
is
 
ª
 
ab¡¿ù
 
ba£
 cÏss; 
™s
 
desûndªts
 
³rfÜm


304 
the
 
aùu®
 
wÜk
.

307 #comped 
»gexp
 
to
 
u£
 
š
 
£lf
.
	`š‹½Ş©e
()

308 
_KEYCRE
 = 
»
.
	`compe
(
r
"%\(([^)]*)\)s")

309 
_cook›
 = '%'

311 
def
 
	$__š™__
(
£lf
, 
£ùiÚ
):

312 #th
SeùiÚ
 
š¡ªû
 
th©
 "owns" 
this
 
’gše


313 
£lf
.
£ùiÚ
 = section

316 
def
 
	$š‹½Ş©e
(
£lf
, 
key
, 
v®ue
):

317 #shÜt-
cut


318 
nÙ
 
£lf
.
_cook›
 
š
 
v®ue
:

319  
v®ue


321 
def
 
	$»cursive_š‹½Ş©e
(
key
, 
v®ue
, 
£ùiÚ
, 
backŒa
):

324 ``
v®ue
``: 
the
 
¡ršg
 
we
'reryingo interpolate.

325 ``
£ùiÚ
``: 
the
 seùiÚ 
š
 
which
 
th©
 
¡ršg
 
was
 
found


326 ``
backŒa
``: 
a
 
diù
 
to
 
k“p
 
Œack
 
of
 
wh”e
 
we
've been,

327 
to
 
d‘eù
 
ªd
 
´ev’t
 
šfš™e
 
»cursiÚ
 
loİs


329 
This
 
is
 
sim¬
 
to
 
a
 
d•th
-
fœ¡
-
£¬ch
 
®gÜ™hm
.

331 #Hav
we
 
b“n
 
h”e
 
®»ady
?

332 ià(
key
, 
£ùiÚ
.
Çme
è
š
 
backŒa
:

333 #Ye - 
šfš™e
 
loİ
 
d‘eùed


334 
¿i£
 
	$IÁ”pŞ©iÚLoİE¼Ü
(
key
)

335 #PÏû 
a
 
m¬k”
 
Ú
 
our
 
backŒa
 
so
 
we
 
wÚ
't come back here‡gain

336 
backŒa
[(
key
, 
£ùiÚ
.
Çme
)] = 1

338 #Now 
¡¬t
 
the
 
aùu®
 
wÜk


339 
m©ch
 = 
£lf
.
_KEYCRE
.
	$£¬ch
(
v®ue
)

340 
m©ch
:

341 #Th
aùu®
 
·rsšg
 
of
 
the
 
m©ch
 
is
 
im¶em’tiÚ
-
d•’d’t
,

342 #sØ
d–eg©e
 
to
 
our
 
h–³r
 
funùiÚ


343 
k
, 
v
, 
s
 = 
£lf
.
	$_·r£_m©ch
(
m©ch
)

344 
k
 
is
 
NÚe
:

346 
»¶aûm’t
 = 
v


348 #Fu¹h” 
š‹½Ş©iÚ
 
may
 
be
 
Ãeded
 
to
 
obš
 
fš®
 
v®ue


349 
»¶aûm’t
 = 
	$»cursive_š‹½Ş©e
(
k
, 
v
, 
s
, 
backŒa
)

350 #R•Ïû 
the
 
m©ched
 
¡ršg
 
w™h
 
™s
 
fš®
 
v®ue


351 
¡¬t
, 
’d
 = 
m©ch
.
	$¥ª
()

352 
v®ue
 = ''.
	`još
((v®ue[:
¡¬t
], 
»¶aûm’t
, v®ue[
’d
:]))

353 
Ãw_£¬ch_¡¬t
 = 
¡¬t
 + 
	$Ën
(
»¶aûm’t
)

354 #Pick 
up
 
the
 
Ãxt
 
š‹½Ş©iÚ
 
key
, 
ªy
, Ãxˆ
time


355 #through 
the
 
loİ


356 
m©ch
 = 
£lf
.
_KEYCRE
.
	$£¬ch
(
v®ue
, 
Ãw_£¬ch_¡¬t
)

358 #Now 
§ã
 
to
 
come
 
back
 
h”e
 
agaš
; 
»move
 
m¬k”
 
äom
 
backŒa


359 
d–
 
backŒa
[(
key
, 
£ùiÚ
.
Çme
)]

361  
v®ue


363 #Back 
š
 
	`š‹½Ş©e
(), 
®l
 
we
 
have
 
to
 dØ
is
 
kick
 
off
 
the
 
»cursive


364 #funùiÚ 
w™h
 
­´İrŸ‹
 
¡¬tšg
 
v®ues


365 
v®ue
 = 
	`»cursive_š‹½Ş©e
(
key
, v®ue, 
£lf
.
£ùiÚ
, {
	}
})

366  
v®ue


369 
def
 
	$_ãtch
(
£lf
, 
key
):

372 
R‘uºs
 
a
 2-
tu¶e
: 
the
 
v®ue
, 
ªd
h
£ùiÚ
 
wh”e
 
™
 
was
 
found
.

374 #sw™ch 
off
 
š‹½Ş©iÚ
 
befÜe
 
we
 
Œy
 
ªd
 
ãtch
 
ªythšg
 !

375 
§ve_š‹½
 = 
£lf
.
£ùiÚ
.
maš
.
š‹½Ş©iÚ


376 
£lf
.
£ùiÚ
.
maš
.
š‹½Ş©iÚ
 = 
F®£


378 #S¹ 
©
 
£ùiÚ
 
th©
 "owns" 
this
 
IÁ”pŞ©iÚEngše


379 
cu¼’t_£ùiÚ
 = 
£lf
.
£ùiÚ


380 
True
:

381 #Œy 
the
 
cu¼’t
 
£ùiÚ
 
fœ¡


382 
v®
 = 
cu¼’t_£ùiÚ
.
	$g‘
(
key
)

383 
v®
 
is
 
nÙ
 
NÚe
 
ªd
‚Ù 
	$isš¡ªû
(
v®
, 
SeùiÚ
):

385 #Œy "DEFAULT" 
Ãxt


386 
v®
 = 
cu¼’t_£ùiÚ
.
	`g‘
('DEFAULT', {
	}
}).
	$g‘
(
key
)

387 
v®
 
is
 
nÙ
 
NÚe
 
ªd
‚Ù 
	$isš¡ªû
(
v®
, 
SeùiÚ
):

389 #mov
up
 
to
 
·»Á
 
ªd
 
Œy
 
agaš


390 #tİ-
Ëv–
's…arent is itself

391 
cu¼’t_£ùiÚ
.
·»Á
 
is
 current_section:

392 #»ached 
tİ
 
Ëv–
, 
time
 
to
 
give
 
up


394 
cu¼’t_£ùiÚ
 = cu¼’t_£ùiÚ.
·»Á


396 #»¡Ü
š‹½Ş©iÚ
 
to
 
´evious
 
v®ue
 
befÜe
 
»tuºšg


397 
£lf
.
£ùiÚ
.
maš
.
š‹½Ş©iÚ
 = 
§ve_š‹½


398 
v®
 
is
 
NÚe
:

399 
¿i£
 
	$MissšgIÁ”pŞ©iÚO±iÚ
(
key
)

400  
v®
, 
cu¼’t_£ùiÚ


403 
def
 
	$_·r£_m©ch
(
£lf
, 
m©ch
):

406 
Wl
 
be
 
·s£d
 
a
 
m©ch
 
objeù
 
cÜ»¥Údšg
 
to
 
the
 
š‹½Ş©iÚ


407 
key
 
we
 
ju¡
 
	`found
 (
e
.
g
., "%(foo)s" 
Ü
 "$foo"). 
Should
 
look
 
up
 
th©


408 
key
 
š
 
the
 
­´İrŸ‹
 
cÚfig
 
fe
 
	`£ùiÚ
 (
usšg
h``
	`_ãtch
()``

409 
h–³r
 
funùiÚ
è
ªd
  
a
 3-
tu¶e
: (
key
, 
v®ue
, 
£ùiÚ
)

411 ``
key
`` 
is
 
the
 
Çme
 
of
hkey 
we
're†ooking for

412 ``
v®ue
`` 
is
 
the
 v®u
found
 
th©
 
key


413 ``
£ùiÚ
`` 
is
 
a
 
»ã»nû
 
to
 
the
 seùiÚ 
wh”e
 
™
 
was
 
found


415 ``
key
`` 
ªd
 ``
£ùiÚ
`` 
should
 
be
 
NÚe
 
no
 
fu¹h”


416 
š‹½Ş©iÚ
 
should
 
be
 
³rfÜmed
 
Ú
 
the
 
»suÉšg
 
v®ue


417 (
e
.
g
., 
we
 
š‹½Ş©ed
 "$$" 
ªd
 
»tuºed
 "$").

419 
¿i£
 
	$NÙIm¶em’‹dE¼Ü
()

423 
şass
 
	$CÚfigP¬£rIÁ”pŞ©iÚ
(
IÁ”pŞ©iÚEngše
):

425 
_cook›
 = '%'

426 
_KEYCRE
 = 
»
.
	`compe
(
r
"%\(([^)]*)\)s")

428 
def
 
	$_·r£_m©ch
(
£lf
, 
m©ch
):

429 
key
 = 
m©ch
.
	$group
(1)

430 
v®ue
, 
£ùiÚ
 = 
£lf
.
	$_ãtch
(
key
)

431  
key
, 
v®ue
, 
£ùiÚ


435 
şass
 
	$Tem¶©eIÁ”pŞ©iÚ
(
IÁ”pŞ©iÚEngše
):

437 
_cook›
 = '$'

438 
_d–im™”
 = '$'

439 
_KEYCRE
 = 
»
.
	`compe
(
r
"""

440 \
	`$
(?:

441 (?
P
<
esÿ³d
>\
$
è| #TwØ$ 
signs


442 (?
P
<
Çmed
>[
_a
-
z
][_a-
z0
-9]*è| #$Çm
fÜm©


443 {(?
P
<
b¿ûd
>[^
	}
}]*)} #${
Çme
} 
fÜm©


447 
def
 
	$_·r£_m©ch
(
£lf
, 
m©ch
):

448 #V®id 
	`Çme
 (
š
 
Ü
 
out
 
of
 
b¿ûs
): 
ãtch
 
v®ue
 
äom
 
£ùiÚ


449 
key
 = 
m©ch
.
	`group
('Çmed'è
Ü
 match.group('braced')

450 
key
 
is
 
nÙ
 
NÚe
:

451 
v®ue
, 
£ùiÚ
 = 
£lf
.
	$_ãtch
(
key
)

452  
key
, 
v®ue
, 
£ùiÚ


453 #Esÿ³d 
	`d–im™”
 (
e
.
g
., 
$$
):  
sšgË
 
d–im™”


454 
m©ch
.
	`group
('esÿ³d'è
is
 
nÙ
 
NÚe
:

455 #R‘uº 
NÚe
 
key
 
ªd
 
£ùiÚ
 
to
 
šdiÿ‹
 
™
'simeo stop

456  
NÚe
, 
£lf
.
_d–im™”
, None

457 #Anythšg : 
ignÜe
 
com¶‘–y
, 
ju¡
  
™
 
unchªged


458  
NÚe
, 
m©ch
.
	`group
(), None

461 
š‹½Ş©iÚ_’gšes
 = {

462 'cÚfig·r£r': 
CÚfigP¬£rIÁ”pŞ©iÚ
,

463 '‹m¶©e': 
Tem¶©eIÁ”pŞ©iÚ
,

464 
	}
}

467 
def
 
	$__Ãwobj__
(
şs
, *
¬gs
):

468 #Hack 
pickË


469  
şs
.
	$__Ãw__
(
şs
, *
¬gs
)

471 
şass
 
	$SeùiÚ
(
diù
):

473 
A
 
diùiÚ¬y
-
like
 
objeù
 
th©
 
»´e£Ás
 
a
 
£ùiÚ
 
š
‡ 
cÚfig
 
fe
.

475 
It
 
dÛs
 
¡ršg
 
š‹½Ş©iÚ
 
the
 'š‹½Ş©iÚ' 
©Œibu‹


476 
of
 
the
 'maš' 
objeù
 
is
 
£t
 
to
 
True
.

478 
IÁ”pŞ©iÚ
 
is
 
Œ›d
 
fœ¡
 
äom
 
this
 
objeù
, 
th’
 from 
the
 'DEFAULT'

479 
£ùiÚ
 
of
 
this
 
objeù
, 
Ãxt
 
äom
 
the
 
·»Á
 
ªd
 
™s
 'DEFAULT' section,

480 
ªd
 
so
 
Ú
 
uÁ
 
the
 
maš
 
objeù
 
is
 
»ached
.

482 
A
 
SeùiÚ
 
wl
 
behave
 
like
 
ª
 
Üd”ed
 
diùiÚ¬y
 - 
fŞlowšg
 
the


483 
Üd”
 
of
 
the
 ``
sÿÏrs
`` 
ªd
 ``
£ùiÚs
`` 
©Œibu‹s
.

484 
You
 
ÿn
 
u£
 
this
 
to
 
chªge
 
the
 
Üd”
 
of
 
memb”s
.

486 
I‹¿tiÚ
 
fŞlows
 
the
 
Üd”
: 
sÿÏrs
, 
th’
 
£ùiÚs
.

490 
def
 
	$__£t¡©e__
(
£lf
, 
¡©e
):

491 
diù
.
	$upd©e
(
£lf
, 
¡©e
[0])

492 
£lf
.
__diù__
.
	$upd©e
(
¡©e
[1])

494 
def
 
	$__»duû__
(
£lf
):

495 
¡©e
 = (
	`diù
(
£lf
), s–f.
__diù__
)

496  (
__Ãwobj__
, (
£lf
.
__şass__
,), 
¡©e
)

499 
def
 
	$__š™__
(
£lf
, 
·»Á
, 
d•th
, 
maš
, 
šdiù
=
NÚe
, 
Çme
=None):

501 * 
·»Á
 
is
 
the
 
£ùiÚ
 
above


502 * 
d•th
 
is
 
the
 d•th 
Ëv–
 
of
 
this
 
£ùiÚ


503 * 
maš
 
is
 
the
 maš 
CÚfigObj


504 * 
šdiù
 
is
 
a
 
diùiÚ¬y
 
to
 
š™Ÿli£
 
the
 
£ùiÚ
 
w™h


506 
šdiù
 
is
 
NÚe
:

507 
šdiù
 = {
	}
}

508 
diù
.
	$__š™__
(
£lf
)

509 #u£d 
Ã¡šg
 
Ëv–
 *
ªd
* 
š‹½Ş©iÚ


510 
£lf
.
·»Á
 =…arent

511 #u£d 
the
 
š‹½Ş©iÚ
 
©Œibu‹


512 
£lf
.
maš
 = main

513 #Ëv– 
of
 
Ã¡šg
 
d•th
 oà
this
 
SeùiÚ


514 
£lf
.
d•th
 = depth

515 #pu»ly 
šfÜm©iÚ


516 
£lf
.
Çme
 =‚ame

517 #
._š™Ÿli£()

518 #wdØ
this
 
ex¶ic™ly
 
so
 
th©
 
__£t™em__
 
is
 
u£d
 
´İ”ly


519 #(
¿th”
 
thª
 
ju¡
 
·ssšg
 
to
 ``
diù
.
__š™__
``)

520 
’Œy
, 
v®ue
 
š
 
šdiù
.
	$™”™ems
():

521 
£lf
[
’Œy
] = 
v®ue


524 
def
 
	$_š™Ÿli£
(
£lf
):

525 #th
£qu’û
 
of
 
sÿÏr
 
v®ues
 
š
 
this
 
SeùiÚ


526 
£lf
.
sÿÏrs
 = []

527 #th
£qu’û
 
of
 
£ùiÚs
 
š
 
this
 
SeùiÚ


528 
£lf
.
£ùiÚs
 = []

529 #fÜ 
comm’ts
 :-)

530 
£lf
.
comm’ts
 = {
	}
}

531 
£lf
.
šlše_comm’ts
 = {}

532 #th
cÚfig¥ec


533 
£lf
.
cÚfig¥ec
 = 
NÚe


534 #fÜ 
deçuÉs


535 
£lf
.
deçuÉs
 = []

536 
£lf
.
deçuÉ_v®ues
 = {}

537 
£lf
.
exŒa_v®ues
 = []

538 
£lf
.
_ü—‹d
 = 
F®£


541 
def
 
	$_š‹½Ş©e
(
£lf
, 
key
, 
v®ue
):

542 
Œy
:

543 #dØ
we
 
®»ady
 
have
 
ª
 
š‹½Ş©iÚ
 
’gše
?

544 
’gše
 = 
£lf
.
_š‹½Ş©iÚ_’gše


545 
exû±
 
A‰ribu‹E¼Ü
:

546 #nÙ 
y‘
: 
fœ¡
 
time
 
ruÂšg
 
	`_š‹½Ş©e
(), 
so
 
pick
 
the
 
’gše


547 
Çme
 = 
£lf
.
maš
.
š‹½Ş©iÚ


548 
Çme
 =ğ
True
: #nÙ
th©
 "iàÇme:" 
would
 
be
 
šcÜ»ù
 
h”e


549 #backw¬ds-
com·tib™y
: 
š‹½Ş©iÚ
=
True
 
m—ns
 
u£
 

550 
Çme
 = 
DEFAULT_INTERPOLATION


551 
Çme
 =‚ame.
	$low”
(è#sØ
th©
 "Tem¶©e", "‹m¶©e", 
‘c
. 
®l
 
wÜk


552 
şass_
 = 
š‹½Ş©iÚ_’gšes
.
	$g‘
(
Çme
, 
NÚe
)

553 
şass_
 
is
 
NÚe
:

554 #šv®id 
v®ue
 
£lf
.
maš
.
š‹½Ş©iÚ


555 
£lf
.
maš
.
š‹½Ş©iÚ
 = 
F®£


556  
v®ue


558 #§v
»ã»nû
 
to
 
’gše
 
so
 
we
 
dÚ
't haveo dohis‡gain

559 
’gše
 = 
£lf
.
_š‹½Ş©iÚ_’gše
 = 
	$şass_
(
£lf
)

560 #Ëˆ
the
 
’gše
 dØth
aùu®
 
wÜk


561  
’gše
.
	$š‹½Ş©e
(
key
, 
v®ue
)

564 
def
 
	$__g‘™em__
(
£lf
, 
key
):

566 
v®
 = 
diù
.
	$__g‘™em__
(
£lf
, 
key
)

567 
£lf
.
maš
.
š‹½Ş©iÚ
:

568 
	$isš¡ªû
(
v®
, 
ba£¡ršg
):

569  
£lf
.
	$_š‹½Ş©e
(
key
, 
v®
)

570 
	$isš¡ªû
(
v®
, 
li¡
):

571 
def
 
	$_check
(
’Œy
):

572 
	$isš¡ªû
(
’Œy
, 
ba£¡ršg
):

573  
£lf
.
	$_š‹½Ş©e
(
key
, 
’Œy
)

574  
’Œy


575 
Ãw
 = [
	$_check
(
’Œy
è’Œy 
š
 
v®
]

576 
Ãw
 !ğ
v®
:

577  
Ãw


578  
v®


581 
def
 
	$__£t™em__
(
£lf
, 
key
, 
v®ue
, 
uÄ•r
=
F®£
):

583 
CÜ»ùly
 
£t
 
a
 
v®ue
.

585 
Makšg
 
diùiÚ¬y
 
v®ues
 
SeùiÚ
 
š¡ªûs
.

586 (
We
 
have
 
to
 
¥ecŸl
 'SeùiÚ' 
š¡ªûs
 - 
which
 
¬e
 
®so
 
diùs
)

588 
Keys
 
mu¡
 
be
 
¡ršgs
.

589 
V®ues
 
Ãed
 
Úly
 
be
 
	$¡ršgs
 (
Ü
 
li¡s
 
of
 
¡ršgs
) 

590 ``
maš
.
¡ršgify
`` 
is
 
£t
.

592 ``
uÄ•r
`` 
mu¡
 
be
 
£t
 
wh’
 
£‰šg
 
a
 
v®ue
 
to
‡ 
diùiÚ¬y
, 
w™hout


593 
ü—tšg
 
a
 
Ãw
 
sub
-
£ùiÚ
.

595 
nÙ
 
	$isš¡ªû
(
key
, 
ba£¡ršg
):

596 
¿i£
 
	`V®ueE¼Ü
('Thkey "%s" i nÙ‡ sŒšg.' % 
key
)

598 #add 
the
 
comm’t


599 
key
 
nÙ
 
š
 
£lf
.
comm’ts
:

600 
£lf
.
comm’ts
[
key
] = []

601 
£lf
.
šlše_comm’ts
[
key
] = ''

602 #»mov
the
 
’Œy
 
äom
 
deçuÉs


603 
key
 
š
 
£lf
.
deçuÉs
:

604 
£lf
.
deçuÉs
.
	$»move
(
key
)

605 #

	`isš¡ªû
(
v®ue
, 
SeùiÚ
):

606 
key
 
nÙ
 
š
 
£lf
:

607 
£lf
.
£ùiÚs
.
	$­³nd
(
key
)

608 
diù
.
	$__£t™em__
(
£lf
, 
key
, 
v®ue
)

609 
–if
 
	$isš¡ªû
(
v®ue
, 
diù
è
ªd
 
nÙ
 
uÄ•r
:

610 #Fœ¡ 
ü—‹
 
the
 
Ãw
 
d•th
 
Ëv–
,

611 #th’ 
ü—‹
 
the
 
£ùiÚ


612 
key
 
nÙ
 
š
 
£lf
:

613 
£lf
.
£ùiÚs
.
	$­³nd
(
key
)

614 
Ãw_d•th
 = 
£lf
.
d•th
 + 1

615 
diù
.
	`__£t™em__
(

616 
£lf
,

617 
key
,

618 
	$SeùiÚ
(

619 
£lf
,

620 
Ãw_d•th
,

621 
£lf
.
maš
,

622 
šdiù
=
v®ue
,

623 
Çme
=
key
))

625 
key
 
nÙ
 
š
 
£lf
:

626 
£lf
.
sÿÏrs
.
	$­³nd
(
key
)

627 
nÙ
 
£lf
.
maš
.
¡ršgify
:

628 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

629 
·ss


630 
–if
 
	`isš¡ªû
(
v®ue
, (
li¡
, 
tu¶e
)):

631 
’Œy
 
š
 
v®ue
:

632 
nÙ
 
	$isš¡ªû
(
’Œy
, 
ba£¡ršg
):

633 
¿i£
 
	`Ty³E¼Ü
('V®ui nÙ‡ sŒšg "%s".' % 
’Œy
)

635 
¿i£
 
	`Ty³E¼Ü
('V®ui nÙ‡ sŒšg "%s".' % 
v®ue
)

636 
diù
.
	$__£t™em__
(
£lf
, 
key
, 
v®ue
)

639 
def
 
	$__d–™em__
(
£lf
, 
key
):

641 
diù
. 
	$__d–™em__
(
£lf
, 
key
)

642 
key
 
š
 
£lf
.
sÿÏrs
:

643 
£lf
.
sÿÏrs
.
	$»move
(
key
)

645 
£lf
.
£ùiÚs
.
	$»move
(
key
)

646 
d–
 
£lf
.
comm’ts
[
key
]

647 
d–
 
£lf
.
šlše_comm’ts
[
key
]

650 
def
 
	$g‘
(
£lf
, 
key
, =
NÚe
):

652 
Œy
:

653  
£lf
[
key
]

654 
exû±
 
KeyE¼Ü
:

658 
def
 
	$upd©e
(
£lf
, 
šdiù
):

660 
A
 
v”siÚ
 
of
 
upd©e
 
th©
 
u£s
 
our
 ``
__£t™em__
``.

662 
’Œy
 
š
 
šdiù
:

663 
£lf
[
’Œy
] = 
šdiù
[entry]

666 
def
 
	$pİ
(
£lf
, 
key
, =
MISSING
):

669 
If
 
key
 
is
 
nÙ
 
found
, 
d
 i 
»tuºed
 
giv’
, 
Ùh”wi£
 
KeyE¼Ü
 i 
¿i£d
'

671 
Œy
:

672 
v®
 = 
£lf
[
key
]

673 
exû±
 
KeyE¼Ü
:

674  
is
 
MISSING
:

675 
¿i£


676 
v®
 = 

678 
d–
 
£lf
[
key
]

679  
v®


682 
def
 
	$pİ™em
(
£lf
):

684 
£qu’û
 = (
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
)

685 
nÙ
 
£qu’û
:

686 
¿i£
 
	`KeyE¼Ü
(": 'popitem(): dictionary isƒmpty'")

687 
key
 = 
£qu’û
[0]

688 
v®
 = 
£lf
[
key
]

689 
d–
 
£lf
[
key
]

690  
key
, 
v®


693 
def
 
	$ş—r
(
£lf
):

695 
A
 
v”siÚ
 
of
 
ş—r
 
th©
 
®so
 
afãùs
 
sÿÏrs
/
£ùiÚs


696 
Also
 
ş—rs
 
comm’ts
 
ªd
 
cÚfig¥ec
.

698 
L—ves
 
Ùh”
 
©Œibu‹s
 
®Úe
 :

699 
d•th
/
maš
/
·»Á
 
¬e
 
nÙ
 
afãùed


701 
diù
.
	$ş—r
(
£lf
)

702 
£lf
.
sÿÏrs
 = []

703 
£lf
.
£ùiÚs
 = []

704 
£lf
.
comm’ts
 = {
	}
}

705 
£lf
.
šlše_comm’ts
 = {}

706 
£lf
.
cÚfig¥ec
 = 
NÚe


707 
£lf
.
deçuÉs
 = []

708 
£lf
.
exŒa_v®ues
 = []

711 
def
 
	$£tdeçuÉ
(
£lf
, 
key
, =
NÚe
):

713 
Œy
:

714  
£lf
[
key
]

715 
exû±
 
KeyE¼Ü
:

716 
£lf
[
key
] = 

717  
£lf
[
key
]

720 
def
 
	$™ems
(
£lf
):

722  
	`z
((
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
), s–f.
	$v®ues
())

725 
def
 
	$keys
(
£lf
):

727  (
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
)

730 
def
 
	$v®ues
(
£lf
):

732  [
£lf
[
key
] key 
	`š
 (£lf.
sÿÏrs
 + s–f.
£ùiÚs
)]

735 
def
 
	$™”™ems
(
£lf
):

737  
	`™”
(
£lf
.
	$™ems
())

740 
def
 
	$™”keys
(
£lf
):

742  
	`™”
((
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
))

744 
__™”__
 = 
™”keys


747 
def
 
	$™”v®ues
(
£lf
):

749  
	`™”
(
£lf
.
	$v®ues
())

752 
def
 
	$__»´__
(
£lf
):

754 
def
 
	$_g‘v®
(
key
):

755 
Œy
:

756  
£lf
[
key
]

757 
exû±
 
MissšgIÁ”pŞ©iÚO±iÚ
:

758  
diù
.
	$__g‘™em__
(
£lf
, 
key
)

759  '{%s}' % ', '.
	`još
([('%s: %s' % (
	`»´
(
key
),„•r(
	$_g‘v®
(
key
))))

760 
key
 
	`š
 (
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
)])

762 
__¡r__
 = 
__»´__


763 
__¡r__
.
__doc__
 = "x.__str__() <==> str(x)"

766 #ExŒ¨
m‘hods
 - 
nÙ
 
š
 
a
 
nÜm®
 
diùiÚ¬y


768 
def
 
	$diù
(
£lf
):

770 
R‘uº
 
a
 
d“pcİy
 
of
 
£lf
 
as
‡ 
diùiÚ¬y
.

772 
AÎ
 
memb”s
 
th©
 
¬e
 ``
SeùiÚ
`` 
š¡ªûs
‡» 
»cursiv–y
 
tuºed
 
to


773 
Üdš¬y
 
diùiÚ¬›s
 - 
by
 
ÿÎšg
 
theœ
 ``
diù
`` 
m‘hod
.

775 >>> 
n
 = 
a
.
	`diù
()

776 >>> 
n
 =ğ
a


778 >>> 
n
 
is
 
a


781 
Ãwdiù
 = {
	}
}

782 
’Œy
 
š
 
£lf
:

783 
this_’Œy
 = 
£lf
[
’Œy
]

784 
	$isš¡ªû
(
this_’Œy
, 
SeùiÚ
):

785 
this_’Œy
 =his_’Œy.
	$diù
()

786 
–if
 
	$isš¡ªû
(
this_’Œy
, 
li¡
):

787 #ü—‹ 
a
 
cİy
 
¿th”
 
thª
‡ 
»ã»nû


788 
this_’Œy
 = 
	$li¡
(
this_’Œy
)

789 
–if
 
	$isš¡ªû
(
this_’Œy
, 
tu¶e
):

790 #ü—‹ 
a
 
cİy
 
¿th”
 
thª
‡ 
»ã»nû


791 
this_’Œy
 = 
	$tu¶e
(
this_’Œy
)

792 
Ãwdiù
[
’Œy
] = 
this_’Œy


793  
Ãwdiù


796 
def
 
	$m”ge
(
£lf
, 
šdiù
):

798 
A
 
»cursive
 
upd©e
 - 
u£ful
 
m”gšg
 
cÚfig
 
fes
.

800 >>> 
a
 = '''[section1]

801 ... 
İtiÚ1
 = 
True


802 ... [[
sub£ùiÚ
]]

803 ... 
mÜe_İtiÚs
 = 
F®£


804 ... #’d 
of
 
fe
'''.splitlines()

805 >>> 
b
 = '''# File is user.ini

806 ... [
£ùiÚ1
]

807 ... 
İtiÚ1
 = 
F®£


808 ... #’d 
of
 
fe
'''.splitlines()

809 >>> 
c1
 = 
	`CÚfigObj
(
b
)

810 >>> 
c2
 = 
	`CÚfigObj
(
a
)

811 >>> 
c2
.
	`m”ge
(
c1
)

812 >>> 
c2


813 
	`CÚfigObj
({'£ùiÚ1': {'İtiÚ1': 'F®£', 'sub£ùiÚ': {'mÜe_İtiÚs': 'F®£'}}
	}
})

815 
key
, 
v®
 
š
 
	gšdiù
.
	$™ems
():

816 ià(
key
 
š
 
£lf
 
ªd
 
	$isš¡ªû
(
£lf
[
key
], 
diù
è
ªd


817 
	$isš¡ªû
(
v®
, 
diù
)):

818 
£lf
[
key
].
	$m”ge
(
v®
)

820 
£lf
[
key
] = 
v®


823 
def
 
	$»Çme
(
£lf
, 
Şdkey
, 
Ãwkey
):

825 
Chªge
 
a
 
keyÇme
 
to
 
ªÙh”
, 
w™hout
 
chªgšg
 
pos™iÚ
 
š
 
£qu’û
.

827 
Im¶em’‹d
 
so
 
th©
 
ŒªsfÜm©iÚs
 
ÿn
 
be
 
made
 
Ú
 
keys
,

828 
as
 
w–l
‡ 
Ú
 
v®ues
. (
u£d
 
by
 
’code
 
ªd
 
decode
)

830 
Also
 
»Çmes
 
comm’ts
.

832 
Şdkey
 
š
 
£lf
.
sÿÏrs
:

833 
the_li¡
 = 
£lf
.
sÿÏrs


834 
–if
 
Şdkey
 
š
 
£lf
.
£ùiÚs
:

835 
the_li¡
 = 
£lf
.
£ùiÚs


837 
¿i£
 
	`KeyE¼Ü
('Key "%s"‚Ù found.' % 
Şdkey
)

838 
pos
 = 
the_li¡
.
	$šdex
(
Şdkey
)

839 #
 = s–f[Şdkey]

840 
diù
.
	$__d–™em__
(
£lf
, 
Şdkey
)

841 
diù
.
	$__£t™em__
(
£lf
, 
Ãwkey
, 
v®
)

842 
the_li¡
.
	$»move
(
Şdkey
)

843 
the_li¡
.
	$š£¹
(
pos
, 
Ãwkey
)

844 
comm
 = 
£lf
.
comm’ts
[
Şdkey
]

845 
šlše_comm’t
 = 
£lf
.
šlše_comm’ts
[
Şdkey
]

846 
d–
 
£lf
.
comm’ts
[
Şdkey
]

847 
d–
 
£lf
.
šlše_comm’ts
[
Şdkey
]

848 
£lf
.
comm’ts
[
Ãwkey
] = 
comm


849 
£lf
.
šlše_comm’ts
[
Ãwkey
] = 
šlše_comm’t


852 
def
 
	$w®k
(
£lf
, 
funùiÚ
, 
¿i£_”rÜs
=
True
,

853 
ÿÎ_Ú_£ùiÚs
=
F®£
, **
keyw¬gs
):

855 
W®k
 
ev”y
 
memb”
 
ªd
 
ÿÎ
 
a
 
funùiÚ
 
Ú
 
the
 
keywÜd
‡nd 
v®ue
.

857 
R‘uº
 
a
 
diùiÚ¬y
 
of
 
the
  
v®ues


859 
If
 
the
 
funùiÚ
 
¿i£s
 
ª
 
exû±iÚ
, 
¿i£
h
”¼Ü


860 
uÆess
 ``
¿i£_”rÜs
=
F®£
``, 
š
 
which
 
£t
 
the
  
v®ue
 
to


861 ``
F®£
``.

863 
Any
 
uÄecogni£d
 
keywÜd
 
¬gum’ts
 
you
 
·ss
 
to
 
w®k
, 
wl
 
be
 
·£d
 
Ú


864 
to
 
the
 
funùiÚ
 
you
 
·ss
 
š
.

866 
NÙe
: ``
ÿÎ_Ú_£ùiÚs
`` 
is
 ``
True
`` 
th’
 - 
Ú
 
’couÁ”šg
 
a


867 
sub£ùiÚ
, *
fœ¡
* 
the
 
funùiÚ
 
is
 
ÿÎed
 th*
whŞe
* subsection,

868 
ªd
 
th’
 
»cur£s
 
što
 
™
's members. This means your function must be

869 
abË
 
to
 
hªdË
 
¡ršgs
, 
diùiÚ¬›s
 
ªd
 
li¡s
. 
This
 
®lows
 
you


870 
to
 
chªge
 
the
 
key
 
of
 
sub£ùiÚs
 
as
 
w–l
‡ 
Üdš¬y
 
memb”s
. 
The


871  
v®ue
 
wh’
 
ÿÎed
 
Ú
 
the
 
whŞe
 
sub£ùiÚ
 
has
 
to
 
be
 
disÿrded
.

873 
S“
 
the
 
’code
 
ªd
 
decode
 
m‘hods
 
exam¶es
, 
šşudšg
 
funùiÚs
.

875 .. 
admÚ™iÚ
:: 
ÿutiÚ


877 
You
 
ÿn
 
u£
 ``
w®k
`` 
to
 
ŒªsfÜm
 
the
 
Çmes
 
of
 
memb”s
 oà
a
 
£ùiÚ


878 
but
 
you
 
mu¡n
't‡dd or delete members.

880 >>> 
cÚfig
 = '''[XXXXsection]

881 ... 
XXXXkey
 = 
XXXXv®ue
'''.splitlines()

882 >>> 
cfg
 = 
	`CÚfigObj
(
cÚfig
)

883 >>> 
cfg


884 
	`CÚfigObj
({'XXXX£ùiÚ': {'XXXXkey': 'XXXXv®ue'}
	}
})

885 >>> 
def
 
	$ŒªsfÜm
(
£ùiÚ
, 
key
):

886 ... 
v®
 = 
£ùiÚ
[
key
]

887 ... 
Ãwkey
 = 
key
.
	`»¶aû
('XXXX', 'CLIENT1')

888 ... 
£ùiÚ
.
	`»Çme
(
key
, 
Ãwkey
)

889 ... 
	`isš¡ªû
(
v®
, (
tu¶e
, 
li¡
, 
diù
)):

890 ... 
·ss


892 ... 
v®
 = v®.
	`»¶aû
('XXXX', 'CLIENT1')

893 ... 
£ùiÚ
[
Ãwkey
] = 
v®


894 >>> 
cfg
.
	$w®k
(
ŒªsfÜm
, 
ÿÎ_Ú_£ùiÚs
=
True
)

895 {'CLIENT1£ùiÚ': {'CLIENT1key': 
NÚe
}
	}
}

896 >>> 
cfg


897 
CÚfigObj
({'CLIENT1section': {'CLIENT1key': 'CLIENT1value'}})

899 
out
 = {}

900 #sÿÏr 
fœ¡


901 
i
 
š
 
¿nge
(
	$Ën
(
£lf
.
sÿÏrs
)):

902 
’Œy
 = 
£lf
.
sÿÏrs
[
i
]

903 
Œy
:

904 
v®
 = 
	$funùiÚ
(
£lf
, 
’Œy
, **
keyw¬gs
)

905 #bound 
agaš
 
š
 
Çme
 
has
 
chªged


906 
’Œy
 = 
£lf
.
sÿÏrs
[
i
]

907 
out
[
’Œy
] = 
v®


908 
exû±
 
Exû±iÚ
:

909 
¿i£_”rÜs
:

910 
¿i£


912 
’Œy
 = 
£lf
.
sÿÏrs
[
i
]

913 
out
[
’Œy
] = 
F®£


914 #th’ 
£ùiÚs


915 
i
 
š
 
	`¿nge
(
	$Ën
(
£lf
.
£ùiÚs
)):

916 
’Œy
 = 
£lf
.
£ùiÚs
[
i
]

917 
ÿÎ_Ú_£ùiÚs
:

918 
Œy
:

919 
	$funùiÚ
(
£lf
, 
’Œy
, **
keyw¬gs
)

920 
exû±
 
Exû±iÚ
:

921 
¿i£_”rÜs
:

922 
¿i£


924 
’Œy
 = 
£lf
.
£ùiÚs
[
i
]

925 
out
[
’Œy
] = 
F®£


926 #bound 
agaš
 
š
 
Çme
 
has
 
chªged


927 
’Œy
 = 
£lf
.
£ùiÚs
[
i
]

928 #´eviou 
»suÉ
 
is
 
disÿrded


929 
out
[
’Œy
] = 
£lf
[’Œy].
	$w®k
(

930 
funùiÚ
,

931 
¿i£_”rÜs
=raise_errors,

932 
ÿÎ_Ú_£ùiÚs
=call_on_sections,

933 **
keyw¬gs
)

934  
out


937 
def
 
	$as_boŞ
(
£lf
, 
key
):

939 
Acû±s
 
a
 
key
 
as
 
šput
. 
The
 
cÜ»¥Údšg
 
v®ue
 
mu¡
 
be
‡ 
¡ršg
 
Ü


940 
the
 
	`objeùs
 (``
True
`` 
Ü
 1è
	`Ü
 (``
F®£
`` o¸0). 
We
 
®low
 0 
ªd
 1 
to


941 
»š
 
com·tib™y
 
w™h
 
PythÚ
 2.2.

943 
If
 
the
 
¡ršg
 
is
 
Úe
 
of
 ``
True
``, ``
On
``, ``
Yes
``, 
Ü
 ``1`` 
™
 
»tuºs


944 ``
True
``.

946 
If
 
the
 
¡ršg
 
is
 
Úe
 
of
 ``
F®£
``, ``
Off
``, ``
No
``, 
Ü
 ``0`` 
™
 
»tuºs


947 ``
F®£
``.

949 ``
as_boŞ
`` 
is
 
nÙ
 
£ns™ive
.

951 
Any
 
Ùh”
 
šput
 
wl
 
¿i£
 
a
 ``
V®ueE¼Ü
``.

953 >>> 
a
 = 
	`CÚfigObj
()

954 >>> 
a
['a'] = 'fish'

955 >>> 
a
.
	`as_boŞ
('a')

956 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

957 
V®ueE¼Ü
: 
V®ue
 "fish" 
is
 
Ã™h”
 
True
 
nÜ
 
F®£


958 >>> 
a
['b'] = 'True'

959 >>> 
a
.
	`as_boŞ
('b')

961 >>> 
a
['b'] = 'off'

962 >>> 
a
.
	`as_boŞ
('b')

965 
v®
 = 
£lf
[
key
]

966 
v®
 =ğ
True
:

967  
True


968 
–if
 
v®
 =ğ
F®£
:

969  
F®£


971 
Œy
:

972 
nÙ
 
	$isš¡ªû
(
v®
, 
ba£¡ršg
):

973 #TODO: 
Why
 dØ
we
 
¿i£
 
a
 
KeyE¼Ü
 
h”e
?

974 
¿i£
 
	$KeyE¼Ü
()

976  
£lf
.
maš
.
_boŞs
[
v®
.
	`low”
()]

977 
exû±
 
KeyE¼Ü
:

978 
¿i£
 
	`V®ueE¼Ü
('V®u"%s" i Ã™h” TrunÜ F®£' % 
v®
)

981 
def
 
	$as_št
(
£lf
, 
key
):

983 
A
 
cÚv’›nû
 
m‘hod
 
which
 
cÛrûs
 
the
 
¥ecif›d
 
v®ue
 
to
 
ª
 
š‹g”
.

985 
If
 
the
 
v®ue
 
is
 
ª
 
šv®id
 
l™”®
 ````, 
a
 ``
V®ueE¼Ü
`` 
wl


986 
be
 
¿i£d
.

988 >>> 
a
 = 
	`CÚfigObj
()

989 >>> 
a
['a'] = 'fish'

990 >>> 
a
.
	`as_št
('a')

991 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

992 
V®ueE¼Ü
: 
šv®id
 
l™”®
 (è
w™h
 
ba£
 10: 'fish'

993 >>> 
a
['b'] = '1'

994 >>> 
a
.
	`as_št
('b')

996 >>> 
a
['b'] = '3.2'

997 >>> 
a
.
	`as_št
('b')

998 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

999 
V®ueE¼Ü
: 
šv®id
 
l™”®
 (è
w™h
 
ba£
 10: '3.2'

1001  (
£lf
[
key
])

1004 
def
 
	$as_æßt
(
£lf
, 
key
):

1006 
A
 
cÚv’›nû
 
m‘hod
 
which
 
cÛrûs
 
the
 
¥ecif›d
 
v®ue
 
to
 
a
 .

1008 
If
 
the
 
v®ue
 
is
 
ª
 
šv®id
 
l™”®
 ````, 
a
 ``
V®ueE¼Ü
`` 
wl


1009 
be
 
¿i£d
.

1011 >>> 
a
 = 
	`CÚfigObj
()

1012 >>> 
a
['a'] = 'fish'

1013 >>> 
a
.
	`as_æßt
('a')

1014 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1015 
V®ueE¼Ü
: 
šv®id
 
l™”®
 (): 
fish


1016 >>> 
a
['b'] = '1'

1017 >>> 
a
.
	`as_æßt
('b')

1019 >>> 
a
['b'] = '3.2'

1020 >>> 
a
.
	`as_æßt
('b')

1023  (
£lf
[
key
])

1026 
def
 
	$as_li¡
(
£lf
, 
key
):

1028 
A
 
cÚv’›nû
 
m‘hod
 
which
 
ãtches
 
the
 
¥ecif›d
 
v®ue
, 
gu¬ª‹ešg


1029 
th©
 
™
 
is
 
a
 
li¡
.

1031 >>> 
a
 = 
	`CÚfigObj
()

1032 >>> 
a
['a'] = 1

1033 >>> 
a
.
	`as_li¡
('a')

1035 >>> 
a
['a'] = (1,)

1036 >>> 
a
.
	`as_li¡
('a')

1038 >>> 
a
['a'] = [1]

1039 >>> 
a
.
	`as_li¡
('a')

1042 
»suÉ
 = 
£lf
[
key
]

1043 
	`isš¡ªû
(
»suÉ
, (
tu¶e
, 
li¡
)):

1044  
	$li¡
(
»suÉ
)

1045  [
»suÉ
]

1048 
def
 
	$»¡Üe_deçuÉ
(
£lf
, 
key
):

1050 
	$Re¡Üe
 (
ªd
 è 
v®ue
 
the
 
¥ecif›d
 
key
.

1052 
This
 
m‘hod
 
wl
 
Úly
 
wÜk
 
a
 
CÚfigObj
 
th©
 
was
 
ü—‹d


1053 
w™h
 
a
 
cÚfig¥ec
 
ªd
 
has
 
b“n
 
v®id©ed
.

1055 
If
 
th”e
 
is
 
no
  
v®ue
 
this
 
key
, ``
KeyE¼Ü
`` i 
¿i£d
.

1057  = 
£lf
.
deçuÉ_v®ues
[
key
]

1058 
diù
.
	$__£t™em__
(
£lf
, 
key
, )

1059 
key
 
nÙ
 
š
 
£lf
.
deçuÉs
:

1060 
£lf
.
deçuÉs
.
	$­³nd
(
key
)

1064 
def
 
	$»¡Üe_deçuÉs
(
£lf
):

1066 
Recursiv–y
 
»¡Üe
  
v®ues
 
to
 
®l
 
memb”s


1067 
th©
 
have
 
them
.

1069 
This
 
m‘hod
 
wl
 
Úly
 
wÜk
 
a
 
CÚfigObj
 
th©
 
was
 
ü—‹d


1070 
w™h
 
a
 
cÚfig¥ec
 
ªd
 
has
 
b“n
 
v®id©ed
.

1072 
It
 
dÛ¢
't delete or modifyƒntries without default values.

1074 
key
 
š
 
£lf
.
deçuÉ_v®ues
:

1075 
£lf
.
	$»¡Üe_deçuÉ
(
key
)

1077 
£ùiÚ
 
š
 
£lf
.
£ùiÚs
:

1078 
£lf
[
£ùiÚ
].
	$»¡Üe_deçuÉs
()

1081 
şass
 
	$CÚfigObj
(
SeùiÚ
):

1084 
_keywÜd
 = 
»
.
	`compe
(
r
'''^ #†ine start

1085 (\
s
*) #indentation

1087 (?:".*?")| #doubË 
quÙes


1088 (?:'.*?')| #sšgË 
quÙes


1091 \
s
*=\s* #divider

1092 (.*è#v®u(
šşudšg
 
li¡
 
v®ues
 
ªd
 
comm’ts
)

1093 
$
 #lš
’d


1095 
»
.
VERBOSE
)

1097 
_£ùiÚm¬k”
 = 
»
.
	`compe
(
r
'''^

1098 (\
s
*è#1: 
šd’tiÚ


1099 ((?:\[\
s
*)+è#2: 
£ùiÚ
 
m¬k”
 
İ’


1100 Ğ#3: 
£ùiÚ
 
Çme
 
İ’


1101 (?:"\s*\S.*?\s*")| #© 
Ëa¡
 
Úe
 
nÚ
-
¥aû
 
w™h
 
quÙes


1102 (?:'\s*\S.*?\s*')| #© 
Ëa¡
 
Úe
 
nÚ
-
¥aû
 
w™h
 
sšgË
 
quÙes


1104 è#£ùiÚ 
Çme
 
şo£


1105 ((?:\
s
*\])+è#4: 
£ùiÚ
 
m¬k”
 
şo£


1106 \
s
*(\#.*)? #5: 
İtiÚ®
 
comm’t


1107 
$
''',

1108 
»
.
VERBOSE
)

1110 #thi 
»gexp
 
puÎs
 
li¡
 
v®ues
 
out
 
as
 
a
 
sšgË
 
¡ršg


1111 #Ü 
sšgË
 
v®ues
 
ªd
 
comm’ts


1112 #FIXME: 
this
 
»gex
 
adds
 
a
 '' 
to
 
the
 
’d
 
of
 
comma
 
‹rmš©ed
 
li¡s


1113 #wÜk¬ound 
š
 ``
_hªdË_v®ue
``

1114 
_v®u“xp
 = 
»
.
	`compe
(
r
'''^

1120 (?:".*?")| #doubË 
quÙes


1121 (?:'.*?')| #sšgË 
quÙes


1124 \
s
*,\s* #comma

1125 )* #m©ch 
®l
 
li¡
 
™ems
 
’dšg
 
š
 
a
 
	`comma
 (
ªy
)

1128 (?:".*?")| #doubË 
quÙes


1129 (?:'.*?')| #sšgË 
quÙes


1131 (?:(?<!,)è#Em±y 
v®ue


1132 )? #Ï¡ 
™em
 
š
 
a
 
li¡
 - 
Ü
 
¡ršg
 
v®ue


1134 (,è#®‹º©iv–y 
a
 
sšgË
 
comma
 - 
em±y
 
li¡


1136 \
s
*(\#.*)? #İtiÚ® 
comm’t


1137 
$
''',

1138 
»
.
VERBOSE
)

1140 #u£ 
fšd®l
 
to
 
g‘
 
the
 
memb”s
 
of
 
a
 
li¡
 
v®ue


1141 
_li¡v®u“xp
 = 
»
.
	`compe
(
r
'''

1143 (?:".*?")| #doubË 
quÙes


1144 (?:'.*?')| #sšgË 
quÙes


1147 \
s
*,\s* #comma

1149 
»
.
VERBOSE
)

1151 #thi 
»gexp
 
is
 
u£d
 
the
 
v®ue


1152 #wh’ 
li¡s
 
¬e
 
sw™ched
 
off


1153 
_nŞi¡v®ue
 = 
»
.
	`compe
(
r
'''^

1155 (?:".*?")| #doubË 
quÙes


1156 (?:'.*?')| #sšgË 
quÙes


1158 (?:è#Em±y 
v®ue


1160 \
s
*(\#.*)? #İtiÚ® 
comm’t


1161 
$
''',

1162 
»
.
VERBOSE
)

1164 #»gexe 
fšdšg
 
ŒË
 
quÙed
 
v®ues
 
Ú
 
Úe
 
lše


1165 
_sšgË_lše_sšgË
 = 
»
.
	`compe
(
r
"^'''(.*?)'''\s*(#.*)?$")

1166 
_sšgË_lše_doubË
 = 
»
.
	`compe
(
r
'^"""(.*?)"""\s*(#.*)?$')

1167 
_muÉi_lše_sšgË
 = 
»
.
	`compe
(
r
"^(.*?)'''\s*(#.*)?$")

1168 
_muÉi_lše_doubË
 = 
»
.
	`compe
(
r
'^(.*?)"""\s*(#.*)?$')

1170 
_ŒË_quÙe
 = {

1171 "'''": (
_sšgË_lše_sšgË
, 
_muÉi_lše_sšgË
),

1172 '"""': (
_sšgË_lše_doubË
, 
_muÉi_lše_doubË
),

1173 
	}
}

1175 #U£d 
by
 
the
 ``
i¡rue
`` 
SeùiÚ
 
m‘hod


1176 
_boŞs
 = {

1177 'yes': 
True
, 'no': 
F®£
,

1178 'Ú': 
True
, 'off': 
F®£
,

1179 '1': 
True
, '0': 
F®£
,

1180 'Œue': 
True
, 'çl£': 
F®£
,

1184 
def
 
	$__š™__
(
£lf
, 
šfe
=
NÚe
, 
İtiÚs
=NÚe, 
cÚfig¥ec
=NÚe, 
’codšg
=None,

1185 
š‹½Ş©iÚ
=
True
, 
¿i£_”rÜs
=
F®£
, 
li¡_v®ues
=True,

1186 
ü—‹_em±y
=
F®£
, 
fe_”rÜ
=F®£, 
¡ršgify
=
True
,

1187 
šd’t_ty³
=
NÚe
, 
deçuÉ_’codšg
=NÚe, 
uÄ•r
=
F®£
,

1188 
wr™e_em±y_v®ues
=
F®£
, 
_š¥ec
=False):

1190 
P¬£
 
a
 
cÚfig
 
fe
 
Ü
 
ü—‹
‡ cÚfig f
objeù
.

1192 ``
	`CÚfigObj
(
šfe
=
NÚe
, 
cÚfig¥ec
=NÚe, 
’codšg
=None,

1193 
š‹½Ş©iÚ
=
True
, 
¿i£_”rÜs
=
F®£
, 
li¡_v®ues
=True,

1194 
ü—‹_em±y
=
F®£
, 
fe_”rÜ
=F®£, 
¡ršgify
=
True
,

1195 
šd’t_ty³
=
NÚe
, 
deçuÉ_’codšg
=NÚe, 
uÄ•r
=
F®£
,

1196 
wr™e_em±y_v®ues
=
F®£
, 
_š¥ec
=False)``

1198 
£lf
.
_š¥ec
 = _inspec

1199 #š™ 
the
 
su³rşass


1200 
SeùiÚ
.
	$__š™__
(
£lf
, self, 0, self)

1202 
šfe
 = inf
Ü
 []

1204 
_İtiÚs
 = {'cÚfig¥ec': 
cÚfig¥ec
,

1205 '’codšg': 
’codšg
, 'š‹½Ş©iÚ': 
š‹½Ş©iÚ
,

1206 '¿i£_”rÜs': 
¿i£_”rÜs
, 'li¡_v®ues': 
li¡_v®ues
,

1207 'ü—‹_em±y': 
ü—‹_em±y
, 'fe_”rÜ': 
fe_”rÜ
,

1208 '¡ršgify': 
¡ršgify
, 'šd’t_ty³': 
šd’t_ty³
,

1209 'deçuÉ_’codšg': 
deçuÉ_’codšg
, 'uÄ•r': 
uÄ•r
,

1210 'wr™e_em±y_v®ues': 
wr™e_em±y_v®ues
}

1212 
İtiÚs
 
is
 
NÚe
:

1213 
İtiÚs
 = 
_İtiÚs


1215 
impÜt
 
w¬nšgs


1216 
w¬nšgs
.
w¬n
('Passing in‡n options dictionaryo ConfigObj() is '

1218 
D•»ÿtiÚW¬nšg
, 
¡ackËv–
=2)

1220 #TODO: 
check
 
the
 
v®ues
 
too
.

1221 
’Œy
 
š
 
İtiÚs
:

1222 
’Œy
 
nÙ
 
š
 
OPTION_DEFAULTS
:

1223 
¿i£
 
Ty³E¼Ü
('UÄecogni£d o±iÚ "%s".' % 
’Œy
)

1224 
’Œy
, 
v®ue
 
š
 
	gOPTION_DEFAULTS
.
	$™ems
():

1225 
’Œy
 
nÙ
 
š
 
İtiÚs
:

1226 
İtiÚs
[
’Œy
] = 
v®ue


1227 
keywÜd_v®ue
 = 
_İtiÚs
[
’Œy
]

1228 
v®ue
 !ğ
keywÜd_v®ue
:

1229 
İtiÚs
[
’Œy
] = 
keywÜd_v®ue


1231 #XXXX 
this
 
ignÜes
 
ª
 
ex¶ic™
 
li¡_v®ues
 = 
True
 
š
 
combš©iÚ


1232 #w™h 
_š¥ec
. 
The
 
u£r
 
should
 *
Ãv”
* dØ
th©
 
ªyway
, 
but
 
¡l
...

1233 
_š¥ec
:

1234 
İtiÚs
['li¡_v®ues'] = 
F®£


1236 
£lf
.
	$_š™Ÿli£
(
İtiÚs
)

1237 
cÚfig¥ec
 = 
İtiÚs
['configspec']

1238 
£lf
.
_Üigš®_cÚfig¥ec
 = 
cÚfig¥ec


1239 
£lf
.
	$_lßd
(
šfe
, 
cÚfig¥ec
)

1242 
def
 
	$_lßd
(
£lf
, 
šfe
, 
cÚfig¥ec
):

1243 
	$isš¡ªû
(
šfe
, 
ba£¡ršg
):

1244 
£lf
.
f’ame
 = 
šfe


1245 
os
.
·th
.
	$isfe
(
šfe
):

1246 
h
 = 
	`İ’
(
šfe
, 'rb')

1247 
šfe
 = 
h
.
	$»ad
(è
Ü
 []

1248 
h
.
	$şo£
()

1249 
–if
 
£lf
.
fe_”rÜ
:

1250 #¿i£ 
ª
 
”rÜ
 
the
 
fe
 
dÛ¢
'tƒxist

1251 
¿i£
 
	`IOE¼Ü
('CÚfig fnÙ found: "%s".' % 
£lf
.
f’ame
)

1253 #f
dÛ¢
't‡lreadyƒxist

1254 
£lf
.
ü—‹_em±y
:

1255 #thi 
is
 
a
 
good
 
‹¡
 
th©
 
the
 
f’ame
 
¥ecif›d


1257 
h
 = 
	`İ’
(
šfe
, 'w')

1258 
h
.
	`wr™e
('')

1259 
h
.
	$şo£
()

1260 
šfe
 = []

1262 
–if
 
	`isš¡ªû
(
šfe
, (
li¡
, 
tu¶e
)):

1263 
šfe
 = 
	$li¡
(
šfe
)

1265 
–if
 
	$isš¡ªû
(
šfe
, 
diù
):

1266 #š™Ÿli£ 
£lf


1267 #th
SeùiÚ
 
şass
 
hªdËs
 
ü—tšg
 
sub£ùiÚs


1268 
	$isš¡ªû
(
šfe
, 
CÚfigObj
):

1269 #g‘ 
a
 
cİy
 
of
 
our
 
CÚfigObj


1270 
def
 
	$£t_£ùiÚ
(
š_£ùiÚ
, 
this_£ùiÚ
):

1271 
’Œy
 
š
 
š_£ùiÚ
.
sÿÏrs
:

1272 
this_£ùiÚ
[
’Œy
] = 
š_£ùiÚ
[entry]

1273 
£ùiÚ
 
š
 
š_£ùiÚ
.
£ùiÚs
:

1274 
this_£ùiÚ
[
£ùiÚ
] = {
	}
}

1275 
	$£t_£ùiÚ
(
š_£ùiÚ
[
£ùiÚ
], 
this_£ùiÚ
[section])

1276 
	$£t_£ùiÚ
(
šfe
, 
£lf
)

1279 
’Œy
 
š
 
šfe
:

1280 
£lf
[
’Œy
] = 
šfe
[entry]

1281 
d–
 
£lf
.
_”rÜs


1283 
cÚfig¥ec
 
is
 
nÙ
 
NÚe
:

1284 
£lf
.
	$_hªdË_cÚfig¥ec
(
cÚfig¥ec
)

1286 
£lf
.
cÚfig¥ec
 = 
NÚe


1289 
–if
 
	`g‘©Œ
(
šfe
, '»ad', 
MISSING
è
is
 
nÙ
 MISSING:

1290 #Thi 
suµÜts
 
fe
 
like
 
objeùs


1291 
šfe
 = infe.
	$»ad
(è
Ü
 []

1292 #Ãed 
¥l™tšg
 
što
 
lšes
 - 
but
 
Ãeds
 
došg
 *
aá”
* 
decodšg


1293 #š 
™
's‚ot‡n 8 bitƒncoding

1295 
¿i£
 
	`Ty³E¼Ü
('infile must be‡ filename, file†ike object, or†ist of†ines.')

1297 
šfe
:

1299 
šfe
 = 
£lf
.
	$_hªdË_bom
(
šfe
)

1300 #šf
is
 
now
 *
®ways
* 
a
 
li¡


1301 #
#S‘ 
the
 
Ãwlšes
 
	`©Œibu‹
 (
fœ¡
 
lše
 
’dšg
 
™
 
fšds
)

1302 #ªd 
¡r
 
Œašg
 '\n' 
Ü
 '\r' 
äom
 
lšes


1303 
lše
 
š
 
šfe
:

1304 ià(
nÙ
 
lše
è
	`Ü
 (lše[-1]‚Ù 
	`š
 ('\r', '\n', '\r\n')):

1306 
’d
 
	`š
 ('\r\n', '\n', '\r'):

1307 
lše
.
	$’dsw™h
(
’d
):

1308 
£lf
.
Ãwlšes
 = 
’d


1312 
šfe
 = [
lše
.
	`r¡r
('\r\n'èlš
š
 infile]

1314 
£lf
.
	$_·r£
(
šfe
)

1315 #ià
we
 
had
 
ªy
 
”rÜs
, 
now
 
is
 
the
 
time
 
to
 
¿i£
 
them


1316 
£lf
.
_”rÜs
:

1317 
šfo
 = "©†š%s." % 
£lf
.
_”rÜs
[0].
lše_numb”


1318 
	`Ën
(
£lf
.
_”rÜs
) > 1:

1319 
msg
 = "P¬sšg faed w™h sev”®ƒ¼Üs.\nFœ¡ƒ¼Ü %s" % 
šfo


1320 
”rÜ
 = 
	$CÚfigObjE¼Ü
(
msg
)

1322 
”rÜ
 = 
£lf
.
_”rÜs
[0]

1323 #£ˆ
the
 
”rÜs
 
©Œibu‹
; 
™
's‡†ist ofuples:

1324 #(
”rÜ_ty³
, 
mes§ge
, 
lše_numb”
)

1325 
”rÜ
.
”rÜs
 = 
£lf
.
_”rÜs


1326 #£ˆ
the
 
cÚfig
 
©Œibu‹


1327 
”rÜ
.
cÚfig
 = 
£lf


1328 
¿i£
 
”rÜ


1329 #d–‘
´iv©e
 
©Œibu‹s


1330 
d–
 
£lf
.
_”rÜs


1332 
cÚfig¥ec
 
is
 
NÚe
:

1333 
£lf
.
cÚfig¥ec
 = 
NÚe


1335 
£lf
.
	$_hªdË_cÚfig¥ec
(
cÚfig¥ec
)

1338 
def
 
	$_š™Ÿli£
(
£lf
, 
İtiÚs
=
NÚe
):

1339 
İtiÚs
 
is
 
NÚe
:

1340 
İtiÚs
 = 
OPTION_DEFAULTS


1342 #š™Ÿli£ 
a
 
ãw
 
v¬ŸbËs


1343 
£lf
.
f’ame
 = 
NÚe


1344 
£lf
.
_”rÜs
 = []

1345 
£lf
.
¿i£_”rÜs
 = 
İtiÚs
['raise_errors']

1346 
£lf
.
š‹½Ş©iÚ
 = 
İtiÚs
['interpolation']

1347 
£lf
.
li¡_v®ues
 = 
İtiÚs
['list_values']

1348 
£lf
.
ü—‹_em±y
 = 
İtiÚs
['create_empty']

1349 
£lf
.
fe_”rÜ
 = 
İtiÚs
['file_error']

1350 
£lf
.
¡ršgify
 = 
İtiÚs
['stringify']

1351 
£lf
.
šd’t_ty³
 = 
İtiÚs
['indent_type']

1352 
£lf
.
’codšg
 = 
İtiÚs
['encoding']

1353 
£lf
.
deçuÉ_’codšg
 = 
İtiÚs
['default_encoding']

1354 
£lf
.
BOM
 = 
F®£


1355 
£lf
.
Ãwlšes
 = 
NÚe


1356 
£lf
.
wr™e_em±y_v®ues
 = 
İtiÚs
['write_empty_values']

1357 
£lf
.
uÄ•r
 = 
İtiÚs
['unrepr']

1359 
£lf
.
š™Ÿl_comm’t
 = []

1360 
£lf
.
fš®_comm’t
 = []

1361 
£lf
.
cÚfig¥ec
 = 
NÚe


1363 
£lf
.
_š¥ec
:

1364 
£lf
.
li¡_v®ues
 = 
F®£


1366 #CË¬ 
£ùiÚ
 
©Œibu‹s
 
as
 
w–l


1367 
SeùiÚ
.
	$_š™Ÿli£
(
£lf
)

1370 
def
 
	$__»´__
(
£lf
):

1371 
def
 
	$_g‘v®
(
key
):

1372 
Œy
:

1373  
£lf
[
key
]

1374 
exû±
 
MissšgIÁ”pŞ©iÚO±iÚ
:

1375  
diù
.
	$__g‘™em__
(
£lf
, 
key
)

1377 ', '.
	`još
([('%s: %s' % (
	`»´
(
key
),„•r(
	$_g‘v®
(
key
))))

1378 
key
 
	`š
 (
£lf
.
sÿÏrs
 + s–f.
£ùiÚs
)]))

1381 
def
 
	$_hªdË_bom
(
£lf
, 
šfe
):

1383 
HªdË
 
ªy
 
BOM
, 
ªd
 
decode
 
Ãûs§ry
.

1385 
If
 
ª
 
’codšg
 
is
 
¥ecif›d
, 
th©
 *
mu¡
* 
be
 
u£d
 - 
but
 
the
 
BOM
 
should


1386 
¡l
 
be
 
	`»moved
 (
ªd
 
the
 
BOM
 
©Œibu‹
 
£t
).

1388 (
If
 
the
 
’codšg
 
is
 
wrÚgly
 
¥ecif›d
, 
th’
 
a
 
BOM
 
ª
 
®‹º©ive


1389 
’codšg
 
wÚ
't be discovered or„emoved.)

1391 
If
 
ª
 
’codšg
 
is
 
nÙ
 
¥ecif›d
, 
UTF8
 
Ü
 
UTF16
 
BOM
 
wl
 
be
 
d‘eùed
 
ªd


1392 
»moved
. 
The
 
BOM
 
©Œibu‹
 
wl
 
be
 
£t
. 
UTF16
 wÈb
decoded
 
to


1393 
unicode
.

1395 
NOTE
: 
This
 
m‘hod
 
mu¡
 
nÙ
 
be
 
ÿÎed
 
w™h
 
ª
 
em±y
 ``
šfe
``.

1397 
S³cifyšg
 
the
 *
wrÚg
* 
’codšg
 
is
 
lik–y
 
to
 
ÿu£
 
a


1398 ``
UnicodeDecodeE¼Ü
``.

1400 ``
šfe
`` 
mu¡
 
®ways
 
be
 
»tuºed
 
as
 
a
 
li¡
 
of
 
lšes
, 
but
 
may
 be

1401 
·s£d
 
š
 
as
 
a
 
sšgË
 
¡ršg
.

1403 ià((
£lf
.
’codšg
 
is
 
nÙ
 
NÚe
è
ªd


1404 (
£lf
.
’codšg
.
	$low”
(è
nÙ
 
š
 
BOM_LIST
)):

1405 #NØ
Ãed
 
to
 
check
 
a
 
BOM


1406 #th
’codšg
 
¥ecif›d
 
dÛ¢
't have one

1407 #ju¡ 
decode


1408  
£lf
.
	$_decode
(
šfe
, 
£lf
.
’codšg
)

1410 
	`isš¡ªû
(
šfe
, (
li¡
, 
tu¶e
)):

1411 
lše
 = 
šfe
[0]

1413 
lše
 = 
šfe


1414 
£lf
.
’codšg
 
is
 
nÙ
 
NÚe
:

1415 #’codšg 
ex¶ic™ly
 
suµl›d


1416 #And 
™
 
could
 
have
 
ª
 
assocŸ‹d
 
BOM


1417 #TODO: 
’codšg
 
is
 
ju¡
 
UTF16
 - 
we
 
ought
 
to
 
check
 
bÙh


1418 #TODO: 
big
 
’dŸn
 
ªd
 
l™e
ƒndŸÀ
v”siÚs
.

1419 
’c
 = 
BOM_LIST
[
£lf
.
’codšg
.
	`low”
()]

1420 
’c
 == 'utf_16':

1421 #FÜ 
UTF16
 
we
 
Œy
 
big
 
’dŸn
 
ªd
 
l™e
ƒndian

1422 
BOM
, (
’codšg
, 
fš®_’codšg
è
š
 
BOMS
.
	$™ems
():

1423 
nÙ
 
fš®_’codšg
:

1424 #sk 
UTF8


1426 
šfe
.
	$¡¬tsw™h
(
BOM
):

1427 ###BOM 
discov”ed


1428 ##
£lf
.
BOM
 = 
True


1430  
£lf
.
	$_decode
(
šfe
, 
’codšg
)

1432 #Ià
we
 
g‘
 
this
 
çr
, 
wl
 *
´obably
* 
¿i£
 
a
 
DecodeE¼Ü


1433 #A 
™
 
dÛ¢
't‡ppearo start with‡ BOM

1434  
£lf
.
	$_decode
(
šfe
, 
£lf
.
’codšg
)

1436 #Mu¡ 
be
 
UTF8


1437 
BOM
 = 
BOM_SET
[
’c
]

1438 
nÙ
 
lše
.
	$¡¬tsw™h
(
BOM
):

1439  
£lf
.
	$_decode
(
šfe
, 
£lf
.
’codšg
)

1441 
Ãwlše
 = 
lše
[
	$Ën
(
BOM
):]

1443 #BOM 
»moved


1444 
	`isš¡ªû
(
šfe
, (
li¡
, 
tu¶e
)):

1445 
šfe
[0] = 
Ãwlše


1447 
šfe
 = 
Ãwlše


1448 
£lf
.
BOM
 = 
True


1449  
£lf
.
	$_decode
(
šfe
, 
£lf
.
’codšg
)

1451 #NØ
’codšg
 
¥ecif›d
 - 
so
 
we
 
Ãed
 
to
 
check
 
UTF8
/
UTF16


1452 
BOM
, (
’codšg
, 
fš®_’codšg
è
š
 
BOMS
.
	$™ems
():

1453 
nÙ
 
lše
.
	$¡¬tsw™h
(
BOM
):

1456 #BOM 
discov”ed


1457 
£lf
.
’codšg
 = 
fš®_’codšg


1458 
nÙ
 
fš®_’codšg
:

1459 
£lf
.
BOM
 = 
True


1461 #»mov
BOM


1462 
Ãwlše
 = 
lše
[
	$Ën
(
BOM
):]

1463 
	`isš¡ªû
(
šfe
, (
li¡
, 
tu¶e
)):

1464 
šfe
[0] = 
Ãwlše


1466 
šfe
 = 
Ãwlše


1467 #UTF8 - 
dÚ
't decode

1468 
	$isš¡ªû
(
šfe
, 
ba£¡ršg
):

1469  
šfe
.
	$¥l™lšes
(
True
)

1471  
šfe


1472 #UTF16 - 
have
 
to
 
decode


1473  
£lf
.
	$_decode
(
šfe
, 
’codšg
)

1475 #NØ
BOM
 
discov”ed
 
ªd
 
no
 
’codšg
 
¥ecif›d
, 
ju¡
 

1476 
	$isš¡ªû
(
šfe
, 
ba£¡ršg
):

1477 #šf
»ad
 
äom
 
a
 
fe
 
wl
 
be
‡ 
sšgË
 
¡ršg


1478  
šfe
.
	$¥l™lšes
(
True
)

1479  
šfe


1482 
def
 
	$_a_to_u
(
£lf
, 
aSŒšg
):

1484 
£lf
.
’codšg
:

1485  
aSŒšg
.
	`decode
('ascii')

1487  
aSŒšg


1490 
def
 
	$_decode
(
£lf
, 
šfe
, 
’codšg
):

1492 
Decode
 
šfe
 
to
 
unicode
. 
Usšg
 
the
 
¥ecif›d
 
’codšg
.

1494 
is
 
a
 
¡ršg
, 
™
 
®so
 
Ãeds
 
cÚv”tšg
 
to
‡ 
li¡
.

1496 
	$isš¡ªû
(
šfe
, 
ba£¡ršg
):

1498 #NOTE: 
Could
 
¿i£
 
a
 ``
UnicodeDecodeE¼Ü
``

1499  
šfe
.
	`decode
(
’codšg
).
	$¥l™lšes
(
True
)

1500 
i
, 
lše
 
š
 
	$’um”©e
(
šfe
):

1501 
nÙ
 
	$isš¡ªû
(
lše
, 
unicode
):

1502 #NOTE: 
The
 
isš¡ªû
 
‹¡
 
h”e
 
hªdËs
 
mixed
 
li¡s
 
of
 
unicode
/
¡ršg


1503 #NOTE: 
But
 
the
 
decode
 
wl
  
Ú
 
ªy
 
nÚ
-
¡ršg
 
v®ues


1504 #NOTE: 
Or
 
could
 
¿i£
 
a
 ``
UnicodeDecodeE¼Ü
``

1505 
šfe
[
i
] = 
lše
.
	$decode
(
’codšg
)

1506  
šfe


1509 
def
 
	$_decode_–em’t
(
£lf
, 
lše
):

1511 
nÙ
 
£lf
.
’codšg
:

1512  
lše


1513 
	$isš¡ªû
(
lše
, 
¡r
è
ªd
 
£lf
.
deçuÉ_’codšg
:

1514  
lše
.
	$decode
(
£lf
.
deçuÉ_’codšg
)

1515  
lše


1518 
def
 
	$_¡r
(
£lf
, 
v®ue
):

1520 
U£d
 
by
 ``
¡ršgify
`` 
w™hš
 
v®id©e
, 
to
 
tuº
 
nÚ
-
¡ršg
 
v®ues


1521 
što
 
¡ršgs
.

1523 
nÙ
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1524  
	$¡r
(
v®ue
)

1526  
v®ue


1529 
def
 
	$_·r£
(
£lf
, 
šfe
):

1531 
‹mp_li¡_v®ues
 = 
£lf
.
li¡_v®ues


1532 
£lf
.
uÄ•r
:

1533 
£lf
.
li¡_v®ues
 = 
F®£


1535 
comm’t_li¡
 = []

1536 
dÚe_¡¬t
 = 
F®£


1537 
this_£ùiÚ
 = 
£lf


1538 
maxlše
 = 
	`Ën
(
šfe
) - 1

1539 
cur_šdex
 = -1

1540 
»£t_comm’t
 = 
F®£


1542 
cur_šdex
 < 
maxlše
:

1543 
»£t_comm’t
:

1544 
comm’t_li¡
 = []

1545 
cur_šdex
 += 1

1546 
lše
 = 
šfe
[
cur_šdex
]

1547 
¦še
 = 
lše
.
	$¡r
()

1548 #dØ
we
 
have
 
ªythšg
 
Ú
 
the
 
lše
 ?

1549 
nÙ
 
¦še
 
Ü
 slše.
	`¡¬tsw™h
('#'):

1550 
»£t_comm’t
 = 
F®£


1551 
comm’t_li¡
.
	$­³nd
(
lše
)

1554 
nÙ
 
dÚe_¡¬t
:

1555 #´e£rv
š™Ÿl
 
comm’t


1556 
£lf
.
š™Ÿl_comm’t
 = 
comm’t_li¡


1557 
comm’t_li¡
 = []

1558 
dÚe_¡¬t
 = 
True


1560 
»£t_comm’t
 = 
True


1561 #fœ¡ 
we
 
check
 
™
's‡ section marker

1562 
m©
 = 
£lf
.
_£ùiÚm¬k”
.
	$m©ch
(
lše
)

1563 
m©
 
is
 
nÙ
 
NÚe
:

1564 #i 
a
 
£ùiÚ
 
lše


1565 (
šd’t
, 
£ù_İ’
, 
£ù_Çme
, 
£ù_şo£
, 
comm’t
èğ
m©
.
	$groups
()

1566 
šd’t
 
	$ªd
 (
£lf
.
šd’t_ty³
 
is
 
NÚe
):

1567 
£lf
.
šd’t_ty³
 = 
šd’t


1568 
cur_d•th
 = 
£ù_İ’
.
	`couÁ
('[')

1569 
cur_d•th
 !ğ
£ù_şo£
.
	`couÁ
(']'):

1570 
£lf
.
	`_hªdË_”rÜ
("Cannot computehe section depth‡t†ine %s.",

1571 
Ne¡šgE¼Ü
, 
šfe
, 
cur_šdex
)

1574 
cur_d•th
 < 
this_£ùiÚ
.
d•th
:

1575 #th
Ãw
 
£ùiÚ
 
is
 
drİpšg
 
back
 
to
 
a
 
´evious
 
Ëv–


1576 
Œy
:

1577 
·»Á
 = 
£lf
.
	`_m©ch_d•th
(
this_£ùiÚ
,

1578 
cur_d•th
).
·»Á


1579 
exû±
 
SyÁaxE¼Ü
:

1580 
£lf
.
	`_hªdË_”rÜ
("Cannot compute‚esting†evel‡t†ine %s.",

1581 
Ne¡šgE¼Ü
, 
šfe
, 
cur_šdex
)

1583 
–if
 
cur_d•th
 =ğ
this_£ùiÚ
.
d•th
:

1584 #th
Ãw
 
£ùiÚ
 
is
 
a
 
siblšg
 
of
 
the
 
cu¼’t
 section

1585 
·»Á
 = 
this_£ùiÚ
.parent

1586 
–if
 
cur_d•th
 =ğ
this_£ùiÚ
.
d•th
 + 1:

1587 #th
Ãw
 
£ùiÚ
 
is
 
a
 
chd
 
the
 
cu¼’t
 section

1588 
·»Á
 = 
this_£ùiÚ


1590 
£lf
.
	`_hªdË_”rÜ
("Sectionoo‚ested‡t†ine %s.",

1591 
Ne¡šgE¼Ü
, 
šfe
, 
cur_šdex
)

1593 
£ù_Çme
 = 
£lf
.
	$_unquÙe
(
£ù_Çme
)

1594 
£ù_Çme
 
š
 
·»Á
:

1595 
£lf
.
	`_hªdË_”rÜ
('Duplicate section‚ame‡t†ine %s.',

1596 
Du¶iÿ‹E¼Ü
, 
šfe
, 
cur_šdex
)

1599 #ü—‹ 
the
 
Ãw
 
£ùiÚ


1600 
this_£ùiÚ
 = 
	$SeùiÚ
(

1601 
·»Á
,

1602 
cur_d•th
,

1603 
£lf
,

1604 
Çme
=
£ù_Çme
)

1605 
·»Á
[
£ù_Çme
] = 
this_£ùiÚ


1606 
·»Á
.
šlše_comm’ts
[
£ù_Çme
] = 
comm’t


1607 
·»Á
.
comm’ts
[
£ù_Çme
] = 
comm’t_li¡


1610 #sØ
™
 
should
 
be
 
a
 
v®id
 ``
key
 = 
v®ue
`` 
lše


1611 
m©
 = 
£lf
.
_keywÜd
.
	$m©ch
(
lše
)

1612 
m©
 
is
 
NÚe
:

1613 #™ 
Ã™h”
 
m©ched
 
as
 
a
 
keywÜd


1614 #Ü 
a
 
£ùiÚ
 
m¬k”


1615 
£lf
.
	`_hªdË_”rÜ
(

1617 
P¬£E¼Ü
, 
šfe
, 
cur_šdex
)

1619 #i 
a
 
keywÜd
 
v®ue


1620 #v®u
wl
 
šşude
 
ªy
 
šlše
 
comm’t


1621 (
šd’t
, 
key
, 
v®ue
èğ
m©
.
	$groups
()

1622 
šd’t
 
	$ªd
 (
£lf
.
šd’t_ty³
 
is
 
NÚe
):

1623 
£lf
.
šd’t_ty³
 = 
šd’t


1624 #check 
a
 
muÉše
 
v®ue


1625 
v®ue
[:3] 
š
 ['"""', "'''"]:

1626 
Œy
:

1627 
v®ue
, 
comm’t
, 
cur_šdex
 = 
£lf
.
	$_muÉše
(

1628 
v®ue
, 
šfe
, 
cur_šdex
, 
maxlše
)

1629 
exû±
 
SyÁaxE¼Ü
:

1630 
£lf
.
	`_hªdË_”rÜ
(

1632 
P¬£E¼Ü
, 
šfe
, 
cur_šdex
)

1635 
£lf
.
uÄ•r
:

1636 
comm’t
 = ''

1637 
Œy
:

1638 
v®ue
 = 
	$uÄ•r
(
v®ue
)

1639 
exû±
 
Exû±iÚ
, 
e
:

1640 
	`ty³
(
e
è=ğ
UnknownTy³
:

1641 
msg
 = 'Unknown‚ame orype in value‡t†ine %s.'

1643 
msg
 = 'Parseƒrror in value‡t†ine %s.'

1644 
£lf
.
	$_hªdË_”rÜ
(
msg
, 
UÄ•rE¼Ü
, 
šfe
,

1645 
cur_šdex
)

1648 
£lf
.
uÄ•r
:

1649 
comm’t
 = ''

1650 
Œy
:

1651 
v®ue
 = 
	$uÄ•r
(
v®ue
)

1652 
exû±
 
Exû±iÚ
, 
e
:

1653 
	$isš¡ªû
(
e
, 
UnknownTy³
):

1654 
msg
 = 'Unknown‚ame orype in value‡t†ine %s.'

1656 
msg
 = 'Parseƒrror in value‡t†ine %s.'

1657 
£lf
.
	$_hªdË_”rÜ
(
msg
, 
UÄ•rE¼Ü
, 
šfe
,

1658 
cur_šdex
)

1661 #exŒaù 
comm’t
 
ªd
 
li¡s


1662 
Œy
:

1663 (
v®ue
, 
comm’t
èğ
£lf
.
	$_hªdË_v®ue
(
v®ue
)

1664 
exû±
 
SyÁaxE¼Ü
:

1665 
£lf
.
	`_hªdË_”rÜ
(

1667 
P¬£E¼Ü
, 
šfe
, 
cur_šdex
)

1669 #
 = s–f._unquÙe(key)

1670 
key
 
š
 
this_£ùiÚ
:

1671 
£lf
.
	`_hªdË_”rÜ
(

1673 
Du¶iÿ‹E¼Ü
, 
šfe
, 
cur_šdex
)

1675 #add 
the
 
key
.

1676 #w
£t
 
uÄ•r
 
beÿu£
 
we
 
have
 
gÙ
 
this
 
çr
 w
wl
 
Ãv”


1677 #b
ü—tšg
 
a
 
Ãw
 
£ùiÚ


1678 
this_£ùiÚ
.
	$__£t™em__
(
key
, 
v®ue
, 
uÄ•r
=
True
)

1679 
this_£ùiÚ
.
šlše_comm’ts
[
key
] = 
comm’t


1680 
this_£ùiÚ
.
comm’ts
[
key
] = 
comm’t_li¡


1682 #

£lf
.
šd’t_ty³
 
is
 
NÚe
:

1683 #nØ
šd’tiÚ
 
u£d
, 
£t
 
the
 
ty³
 
accÜdšgly


1684 
£lf
.
šd’t_ty³
 = ''

1686 #´e£rv
the
 
fš®
 
comm’t


1687 
nÙ
 
£lf
 
ªd
‚Ù s–f.
š™Ÿl_comm’t
:

1688 
£lf
.
š™Ÿl_comm’t
 = 
comm’t_li¡


1689 
–if
 
nÙ
 
»£t_comm’t
:

1690 
£lf
.
fš®_comm’t
 = 
comm’t_li¡


1691 
£lf
.
li¡_v®ues
 = 
‹mp_li¡_v®ues


1694 
def
 
	$_m©ch_d•th
(
£lf
, 
£ù
, 
d•th
):

1696 
Giv’
 
a
 
£ùiÚ
 
ªd
‡ 
d•th
 
Ëv–
, 
w®k
 
back
 
through
 
the
 
£ùiÚs


1697 
·»Ás
 
to
 
£e
 
the
 
d•th
 
Ëv–
 
m©ches
 
a
 
´evious
 
£ùiÚ
.

1699 
R‘uº
 
a
 
»ã»nû
 
to
 
the
 
right
 
£ùiÚ
,

1700 
Ü
 
¿i£
 
a
 
SyÁaxE¼Ü
.

1702 
d•th
 < 
£ù
.depth:

1703 
£ù
 
is
 seù.
·»Á
:

1705 
¿i£
 
	$SyÁaxE¼Ü
()

1706 
£ù
 = seù.
·»Á


1707 
£ù
.
d•th
 == depth:

1708  
£ù


1710 
¿i£
 
	$SyÁaxE¼Ü
()

1713 
def
 
	$_hªdË_”rÜ
(
£lf
, 
‹xt
, 
E¼ÜCÏss
, 
šfe
, 
cur_šdex
):

1715 
HªdË
 
ª
 
”rÜ
 
accÜdšg
 
to
 
the
ƒ¼Ü 
£‰šgs
.

1717 
E™h”
 
¿i£
 
the
 
”rÜ
 
Ü
 
¡Üe
 
™
.

1718 
The
 
”rÜ
 
wl
 
have
 
occu»d
 
©
 ``
cur_šdex
``

1720 
lše
 = 
šfe
[
cur_šdex
]

1721 
cur_šdex
 += 1

1722 
mes§ge
 = 
‹xt
 % 
cur_šdex


1723 
”rÜ
 = 
	$E¼ÜCÏss
(
mes§ge
, 
cur_šdex
, 
lše
)

1724 
£lf
.
¿i£_”rÜs
:

1725 #¿i£ 
the
 
”rÜ
 - 
·rsšg
 
¡İs
 
h”e


1726 
¿i£
 
”rÜ


1727 #¡Ü
the
 
”rÜ


1728 #»¿i£ 
wh’
 
·rsšg
 
has
 
fšished


1729 
£lf
.
_”rÜs
.
	$­³nd
(
”rÜ
)

1732 
def
 
	$_unquÙe
(
£lf
, 
v®ue
):

1734 
nÙ
 
v®ue
:

1735 #should 
Úly
 
h­³n
 
duršg
 
·rsšg
 
of
 
li¡s


1736 
¿i£
 
SyÁaxE¼Ü


1737 ià(
v®ue
[0] =ğv®ue[-1]è
	`ªd
 (v®ue[0] 
	`š
 ('"', "'")):

1738 
v®ue
 = value[1:-1]

1739  
v®ue


1742 
def
 
	$_quÙe
(
£lf
, 
v®ue
, 
muÉše
=
True
):

1744 
R‘uº
 
a
 
§ãly
 
quÙed
 
v”siÚ
 
of
‡ 
v®ue
.

1746 
Rai£
 
a
 
CÚfigObjE¼Ü
 
the
 
v®ue
 
ÿÂÙ
 
be
 
§ãly
 
quÙed
.

1747 
If
 
muÉše
 
is
 ``
True
`` (è
th’
 
u£
 
ŒË
 
quÙes


1748 
Ãûs§ry
.

1750 * 
DÚ
'ˆquÙv®ue th© dÚ'
t
 
Ãed
 
™
.

1751 * 
Recursiv–y
 
quÙe
 
memb”s
 
of
 
a
 
li¡
 
ªd
 ‡ 
comma
 
jošed
†ist.

1752 * 
MuÉše
 
is
 ``
F®£
`` 
li¡s
.

1753 * 
Obey
 
li¡
 
syÁax
 
em±y
 
ªd
 
sšgË
 
memb”
 
li¡s
.

1755 
If
 ``
li¡_v®ues
=
F®£
`` 
th’
 
the
 
v®ue
 
is
 
Úly
 
quÙed
 
™
 
cÚšs


1756 
a
 ``\\
n
`` (
is
 
muÉše
è
Ü
 '#'.

1758 
If
 ``
wr™e_em±y_v®ues
`` 
is
 
£t
, 
ªd
 
the
 
v®ue
 i 
ª
 
em±y
 
¡ršg
, 
™


1759 
wÚ
't be quoted.

1761 
muÉše
 
ªd
 
£lf
.
wr™e_em±y_v®ues
‡nd 
v®ue
 == '':

1762 #OÆy 
muÉše
 
is
 
£t
, 
so
 
th©
 
™
 i 
u£d
 
v®ues
 
nÙ


1763 #keys, 
ªd
 
nÙ
 
v®ues
 
th©
 
¬e
 
·¹
 
of
 
a
 
li¡


1766 
muÉše
 
ªd
 
	`isš¡ªû
(
v®ue
, (
li¡
, 
tu¶e
)):

1767 
nÙ
 
v®ue
:

1769 
–if
 
	`Ën
(
v®ue
) == 1:

1770  
£lf
.
	`_quÙe
(
v®ue
[0], 
muÉše
=
F®£
) + ','

1771  ', '.
	`još
([
£lf
.
	$_quÙe
(
v®
, 
muÉše
=
F®£
)

1772 
v®
 
š
 
v®ue
])

1773 
nÙ
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1774 
£lf
.
¡ršgify
:

1775 
v®ue
 = 
	$¡r
(
v®ue
)

1777 
¿i£
 
	`Ty³E¼Ü
('V®u"%s" i nÙ‡ sŒšg.' % 
v®ue
)

1779 
nÙ
 
v®ue
:

1782 
no_li¡s_no_quÙes
 = 
nÙ
 
£lf
.
li¡_v®ues
 
ªd
 '\n'‚Ù 
š
 
v®ue
‡nd '#'‚ot in value

1783 
Ãed_ŒË
 = 
muÉše
 
	`ªd
 ((("'" 
š
 
v®ue
èªd ('"' iÀv®ue)è
	`Ü
 ('\n' in value ))

1784 
hash_ŒË_quÙe
 = 
muÉše
 
ªd
 
nÙ
 
Ãed_ŒË
 
	`ªd
 ("'" 
š
 
v®ue
)‡nd ('"' in value)‡nd ('#' in value)

1785 
check_fÜ_sšgË
 = (
no_li¡s_no_quÙes
 
Ü
 
nÙ
 
Ãed_ŒË
è
ªd
‚Ù 
hash_ŒË_quÙe


1787 
check_fÜ_sšgË
:

1788 
nÙ
 
£lf
.
li¡_v®ues
:

1789 #w
dÚ
't quote if ``list_values=False``

1790 
quÙ
 = 
noquÙ


1791 #fÜ 
nÜm®
 
v®ues
 
e™h”
 
sšgË
 
Ü
 
quÙes
 
wl
 do

1792 
–if
 '\n' 
š
 
v®ue
:

1793 #wÈ
Úly
 
h­³n
 
muÉše
 
is
 
off
 - 
e
.
g
. '\n' 
š
 
key


1794 
¿i£
 
	`CÚfigObjE¼Ü
('V®u"%s" cªnÙ b§ãly quÙed.' % 
v®ue
)

1795 
	`–if
 ((
v®ue
[0] 
nÙ
 
š
 
w¥aû_¶us
è
ªd


1796 (
v®ue
[-1] 
nÙ
 
š
 
w¥aû_¶us
è
ªd


1797 (',' 
nÙ
 
š
 
v®ue
)):

1798 
quÙ
 = 
noquÙ


1800 
quÙ
 = 
£lf
.
	$_g‘_sšgË_quÙe
(
v®ue
)

1802 #ià
v®ue
 
has
 '\n' 
Ü
 "'" *
ªd
* '"', 
™
 
wl
 
Ãed
 
ŒË
 
quÙes


1803 
quÙ
 = 
£lf
.
	$_g‘_ŒË_quÙe
(
v®ue
)

1805 
quÙ
 =ğ
noquÙ
 
ªd
 '#' 
š
 
v®ue
‡nd 
£lf
.
li¡_v®ues
:

1806 
quÙ
 = 
£lf
.
	$_g‘_sšgË_quÙe
(
v®ue
)

1808  
quÙ
 % 
v®ue


1811 
def
 
	$_g‘_sšgË_quÙe
(
£lf
, 
v®ue
):

1812 ià("'" 
š
 
v®ue
è
	`ªd
 ('"' in value):

1813 
¿i£
 
	`CÚfigObjE¼Ü
('V®u"%s" cªnÙ b§ãly quÙed.' % 
v®ue
)

1814 
–if
 '"' 
š
 
v®ue
:

1815 
quÙ
 = 
squÙ


1817 
quÙ
 = 
dquÙ


1818  
quÙ


1821 
def
 
	$_g‘_ŒË_quÙe
(
£lf
, 
v®ue
):

1822 ià(
v®ue
.
	`fšd
('"""'è!ğ-1è
	`ªd
 (value.find("'''") != -1):

1823 
¿i£
 
	`CÚfigObjE¼Ü
('V®u"%s" cªnÙ b§ãly quÙed.' % 
v®ue
)

1824 
v®ue
.
	`fšd
('"""') == -1:

1825 
quÙ
 = 
tdquÙ


1827 
quÙ
 = 
tsquÙ


1828  
quÙ


1831 
def
 
	$_hªdË_v®ue
(
£lf
, 
v®ue
):

1833 
Giv’
 
a
 
v®ue
 
¡ršg
, 
unquÙe
, 
»move
 
comm’t
,

1834 
hªdË
 
li¡s
. (
šşudšg
 
em±y
 
ªd
 
sšgË
 
memb”
†ists)

1836 
£lf
.
_š¥ec
:

1837 #P¬sšg 
a
 
cÚfig¥ec
 
so
 
dÚ
't handle comments

1838  (
v®ue
, '')

1839 #dØ
we
 
look
 
li¡s
 
š
 
v®ues
 ?

1840 
nÙ
 
£lf
.
li¡_v®ues
:

1841 
m©
 = 
£lf
.
_nŞi¡v®ue
.
	$m©ch
(
v®ue
)

1842 
m©
 
is
 
NÚe
:

1843 
¿i£
 
	$SyÁaxE¼Ü
()

1844 #NOTE: 
we
 
dÚ
't unquote here

1845  
m©
.
	$groups
()

1846 #
 = s–f._v®u“xp.m©ch(v®ue)

1847 
m©
 
is
 
NÚe
:

1848 #th
v®ue
 
is
 
badly
 
cÚ¡ruùed
, 
´obably
 badly 
quÙed
,

1849 #Ü 
ª
 
šv®id
 
li¡


1850 
¿i£
 
	$SyÁaxE¼Ü
()

1851 (
li¡_v®ues
, 
sšgË
, 
em±y_li¡
, 
comm’t
èğ
m©
.
	$groups
()

1852 ià(
li¡_v®ues
 =ğ''è
	$ªd
 (
sšgË
 
is
 
NÚe
):

1853 #chªg
this
 
you
 
wªt
 
to
 
acû±
 
em±y
 
v®ues


1854 
¿i£
 
	$SyÁaxE¼Ü
()

1855 #NOTE: 
nÙe
 
th”e
 
is
 
no
 
”rÜ
 
hªdlšg
 
äom
 
h”e
 
the
 
»gex


1856 #i 
wrÚg
: 
th’
 
šcÜ»ù
 
v®ues
 
wl
 
¦
 
through


1857 
em±y_li¡
 
is
 
nÙ
 
NÚe
:

1858 #th
sšgË
 
comma
 - 
m—nšg
 
ª
 
em±y
 
li¡


1859  ([], 
comm’t
)

1860 
sšgË
 
is
 
nÙ
 
NÚe
:

1861 #hªdË 
em±y
 
v®ues


1862 
li¡_v®ues
 
ªd
 
nÙ
 
sšgË
:

1863 #FIXME: 
the
 '' 
is
 
a
 
wÜk¬ound
 
beÿu£
 
our
 
»gex
 
now
 
m©ches


1865 
sšgË
 = 
NÚe


1867 
sšgË
 = sšgË 
Ü
 '""'

1868 
sšgË
 = 
£lf
.
	$_unquÙe
(
sšgË
)

1869 
li¡_v®ues
 == '':

1870 #nÙ 
a
 
li¡
 
v®ue


1871  (
sšgË
, 
comm’t
)

1872 
the_li¡
 = 
£lf
.
_li¡v®u“xp
.
	$fšd®l
(
li¡_v®ues
)

1873 
the_li¡
 = [
£lf
.
	$_unquÙe
(
v®
èv® 
š
 
the_li¡
]

1874 
sšgË
 
is
 
nÙ
 
NÚe
:

1875 
the_li¡
 +ğ[
sšgË
]

1876  (
the_li¡
, 
comm’t
)

1879 
def
 
	$_muÉše
(
£lf
, 
v®ue
, 
šfe
, 
cur_šdex
, 
maxlše
):

1881 
quÙ
 = 
v®ue
[:3]

1882 
Ãwv®ue
 = 
v®ue
[3:]

1883 
sšgË_lše
 = 
£lf
.
_ŒË_quÙe
[
quÙ
][0]

1884 
muÉi_lše
 = 
£lf
.
_ŒË_quÙe
[
quÙ
][1]

1885 
m©
 = 
sšgË_lše
.
	$m©ch
(
v®ue
)

1886 
m©
 
is
 
nÙ
 
NÚe
:

1887 
»tv®
 = 
	`li¡
(
m©
.
	$groups
())

1888 
»tv®
.
	$­³nd
(
cur_šdex
)

1889  
»tv®


1890 
–if
 
Ãwv®ue
.
	`fšd
(
quÙ
) != -1:

1891 #somehow 
the
 
ŒË
 
quÙe
 
is
 
missšg


1892 
¿i£
 
	$SyÁaxE¼Ü
()

1893 #

cur_šdex
 < 
maxlše
:

1894 
cur_šdex
 += 1

1895 
Ãwv®ue
 += '\n'

1896 
lše
 = 
šfe
[
cur_šdex
]

1897 
lše
.
	`fšd
(
quÙ
) == -1:

1898 
Ãwv®ue
 +ğ
lše


1900 #’d 
of
 
muÉše
, 
´oûss
 
™


1904 
¿i£
 
	$SyÁaxE¼Ü
()

1905 
m©
 = 
muÉi_lše
.
	$m©ch
(
lše
)

1906 
m©
 
is
 
NÚe
:

1907 #¨
badly
 
fÜmed
 
lše


1908 
¿i£
 
	$SyÁaxE¼Ü
()

1909 (
v®ue
, 
comm’t
èğ
m©
.
	$groups
()

1910  (
Ãwv®ue
 + 
v®ue
, 
comm’t
, 
cur_šdex
)

1913 
def
 
	$_hªdË_cÚfig¥ec
(
£lf
, 
cÚfig¥ec
):

1915 #FIXME: 
Should
 
we
 
check
 
th©
 
the
 
cÚfig¥ec
 
was
 
ü—‹d
 
w™h
he

1916 #cÜ»ù 
£‰šgs
 ? (
i
.
e
. ``
li¡_v®ues
=
F®£
``)

1917 
nÙ
 
	$isš¡ªû
(
cÚfig¥ec
, 
CÚfigObj
):

1918 
Œy
:

1919 
cÚfig¥ec
 = 
	$CÚfigObj
(
cÚfig¥ec
,

1920 
¿i£_”rÜs
=
True
,

1921 
fe_”rÜ
=
True
,

1922 
_š¥ec
=
True
)

1923 
exû±
 
CÚfigObjE¼Ü
, 
e
:

1924 #FIXME: 
Should
 
the£
 
”rÜs
 
have
 
a
 
»ã»nû


1925 #tØ
the
 
®»ady
 
·r£d
 
CÚfigObj
 ?

1926 
¿i£
 
	`CÚfig¥ecE¼Ü
('P¬sšg cÚfig¥eøçed: %s' % 
e
)

1927 
exû±
 
IOE¼Ü
, 
e
:

1928 
¿i£
 
	`IOE¼Ü
('R—dšg cÚfig¥eøçed: %s' % 
e
)

1930 
£lf
.
cÚfig¥ec
 = configspec

1934 
def
 
	$_£t_cÚfig¥ec
(
£lf
, 
£ùiÚ
, 
cİy
):

1936 
C®Ëd
 
by
 
v®id©e
. 
HªdËs
 
£‰šg
 
the
 
cÚfig¥ec
 
Ú
 
sub£ùiÚs


1937 
šşudšg
 
£ùiÚs
 
to
 
be
 
v®id©ed
 
by
 
__mªy__


1939 
cÚfig¥ec
 = 
£ùiÚ
.configspec

1940 
mªy
 = 
cÚfig¥ec
.
	`g‘
('__many__')

1941 
	$isš¡ªû
(
mªy
, 
diù
):

1942 
’Œy
 
š
 
£ùiÚ
.
£ùiÚs
:

1943 
’Œy
 
nÙ
 
š
 
cÚfig¥ec
:

1944 
£ùiÚ
[
’Œy
].
cÚfig¥ec
 = 
mªy


1946 
’Œy
 
š
 
cÚfig¥ec
.
£ùiÚs
:

1947 
’Œy
 == '__many__':

1949 
’Œy
 
nÙ
 
š
 
£ùiÚ
:

1950 
£ùiÚ
[
’Œy
] = {
	}
}

1951 
£ùiÚ
[
’Œy
].
_ü—‹d
 = 
True


1952 
cİy
:

1953 #cİy 
comm’ts


1954 
£ùiÚ
.
comm’ts
[
’Œy
] = 
cÚfig¥ec
.comm’ts.
	$g‘
(
’Œy
, [])

1955 
£ùiÚ
.
šlše_comm’ts
[
’Œy
] = 
cÚfig¥ec
.šlše_comm’ts.
	`g‘
(entry, '')

1957 #Could 
be
 
a
 
sÿÏr
 
wh’
 
we
 
ex³ù
‡ 
£ùiÚ


1958 
	$isš¡ªû
(
£ùiÚ
[
’Œy
], 
SeùiÚ
):

1959 
£ùiÚ
[
’Œy
].
cÚfig¥ec
 = configspec[entry]

1962 
def
 
	$_wr™e_lše
(
£lf
, 
šd’t_¡ršg
, 
’Œy
, 
this_’Œy
, 
comm’t
):

1964 #NOTE: 
the
 
ÿÎs
 
to
 
£lf
.
_quÙe
 
h”e
 
hªdËs
 
nÚ
-
SŒšgTy³
 
v®ues
.

1965 
nÙ
 
£lf
.
uÄ•r
:

1966 
v®
 = 
£lf
.
	`_decode_–em’t
(£lf.
	$_quÙe
(
this_’Œy
))

1968 
v®
 = 
	$»´
(
this_’Œy
)

1969  '%s%s%s%s%s' % (
šd’t_¡ršg
,

1970 
£lf
.
	`_decode_–em’t
(£lf.
	`_quÙe
(
’Œy
, 
muÉše
=
F®£
)),

1971 
£lf
.
	`_a_to_u
(' = '),

1972 
v®
,

1973 
£lf
.
	$_decode_–em’t
(
comm’t
))

1976 
def
 
	$_wr™e_m¬k”
(
£lf
, 
šd’t_¡ršg
, 
d•th
, 
’Œy
, 
comm’t
):

1978  '%s%s%s%s%s' % (
šd’t_¡ršg
,

1979 
£lf
.
	`_a_to_u
('[' * 
d•th
),

1980 
£lf
.
	`_quÙe
(£lf.
	`_decode_–em’t
(
’Œy
), 
muÉše
=
F®£
),

1981 
£lf
.
	`_a_to_u
(']' * 
d•th
),

1982 
£lf
.
	$_decode_–em’t
(
comm’t
))

1985 
def
 
	$_hªdË_comm’t
(
£lf
, 
comm’t
):

1987 
nÙ
 
comm’t
:

1989 
¡¬t
 = 
£lf
.
šd’t_ty³


1990 
nÙ
 
comm’t
.
	`¡¬tsw™h
('#'):

1991 
¡¬t
 +ğ
£lf
.
	`_a_to_u
(' # ')

1992  (
¡¬t
 + 
comm’t
)

1995 #Publiø
m‘hods


1997 
def
 
	$wr™e
(
£lf
, 
outfe
=
NÚe
, 
£ùiÚ
=None):

1999 
Wr™e
 
the
 
cu¼’t
 
CÚfigObj
 
as
 
a
 
fe


2001 
‹kNico
: 
FIXME
: 
u£
 
SŒšgIO
 
š¡—d
 
of
 
»®
 
fes


2003 >>> 
f’ame
 = 
a
.filename

2004 >>> 
a
.
f’ame
 = 'test.ini'

2005 >>> 
a
.
	`wr™e
()

2006 >>> 
a
.
f’ame
 = filename

2007 >>> 
a
 =ğ
	`CÚfigObj
('‹¡.ši', 
¿i£_”rÜs
=
True
)

2009 >>> 
impÜt
 
os


2010 >>> 
os
.
	`»move
('test.ini')

2012 
£lf
.
šd’t_ty³
 
is
 
NÚe
:

2013 #thi 
ÿn
 
be
 
Œue
 
š™Ÿli£d
 
äom
 
a
 
diùiÚ¬y


2014 
£lf
.
šd’t_ty³
 = 
DEFAULT_INDENT_TYPE


2016 
out
 = []

2017 
cs
 = 
£lf
.
	`_a_to_u
('#')

2018 
c¥
 = 
£lf
.
	`_a_to_u
('# ')

2019 
£ùiÚ
 
is
 
NÚe
:

2020 
št_v®
 = 
£lf
.
š‹½Ş©iÚ


2021 
£lf
.
š‹½Ş©iÚ
 = 
F®£


2022 
£ùiÚ
 = 
£lf


2023 
lše
 
š
 
£lf
.
š™Ÿl_comm’t
:

2024 
lše
 = 
£lf
.
	$_decode_–em’t
(
lše
)

2025 
¡r³d_lše
 = 
lše
.
	$¡r
()

2026 
¡r³d_lše
 
ªd
 
nÙ
 sŒ³d_lše.
	$¡¬tsw™h
(
cs
):

2027 
lše
 = 
c¥
 +†ine

2028 
out
.
	$­³nd
(
lše
)

2030 
šd’t_¡ršg
 = 
£lf
.
šd’t_ty³
 * 
£ùiÚ
.
d•th


2031 
’Œy
 
	`š
 (
£ùiÚ
.
sÿÏrs
 + seùiÚ.
£ùiÚs
):

2032 
’Œy
 
š
 
£ùiÚ
.
deçuÉs
:

2035 
comm’t_lše
 
š
 
£ùiÚ
.
comm’ts
[
’Œy
]:

2036 
comm’t_lše
 = 
£lf
.
	`_decode_–em’t
(comm’t_lše.
	$l¡r
())

2037 
comm’t_lše
 
ªd
 
nÙ
 comm’t_lše.
	$¡¬tsw™h
(
cs
):

2038 
comm’t_lše
 = 
c¥
 + comment_line

2039 
out
.
	`­³nd
(
šd’t_¡ršg
 + 
comm’t_lše
)

2040 
this_’Œy
 = 
£ùiÚ
[
’Œy
]

2041 
comm’t
 = 
£lf
.
	$_hªdË_comm’t
(
£ùiÚ
.
šlše_comm’ts
[
’Œy
])

2043 
	$isš¡ªû
(
this_’Œy
, 
diù
):

2044 #¨
£ùiÚ


2045 
out
.
	`­³nd
(
£lf
.
	$_wr™e_m¬k”
(

2046 
šd’t_¡ršg
,

2047 
this_’Œy
.
d•th
,

2048 
’Œy
,

2049 
comm’t
))

2050 
out
.
	`ex‹nd
(
£lf
.
	$wr™e
(
£ùiÚ
=
this_’Œy
))

2052 
out
.
	`­³nd
(
£lf
.
	$_wr™e_lše
(

2053 
šd’t_¡ršg
,

2054 
’Œy
,

2055 
this_’Œy
,

2056 
comm’t
))

2058 
£ùiÚ
 
is
 
£lf
:

2059 
lše
 
š
 
£lf
.
fš®_comm’t
:

2060 
lše
 = 
£lf
.
	$_decode_–em’t
(
lše
)

2061 
¡r³d_lše
 = 
lše
.
	$¡r
()

2062 
¡r³d_lše
 
ªd
 
nÙ
 sŒ³d_lše.
	$¡¬tsw™h
(
cs
):

2063 
lše
 = 
c¥
 +†ine

2064 
out
.
	$­³nd
(
lše
)

2065 
£lf
.
š‹½Ş©iÚ
 = 
št_v®


2067 
£ùiÚ
 
is
 
nÙ
 
£lf
:

2068  
out


2070 ià(
£lf
.
f’ame
 
is
 
NÚe
è
	$ªd
 (
outfe
 
is
 
NÚe
):

2071 #ouuˆ
a
 
li¡
 
of
 
lšes


2072 #mighˆ
Ãed
 
to
 
’code


2073 #NOTE: 
This
 
wl
 *
süew
* 
UTF16
, 
—ch
 
lše
 wÈ
¡¬t
 
w™h
 
the
 
BOM


2074 
£lf
.
’codšg
:

2075 
out
 = [
l
.
	$’code
(
£lf
.
’codšg
è
l
 
š
 
out
]

2076 ià(
£lf
.
BOM
 
	`ªd
 ((£lf.
’codšg
 
is
 
NÚe
è
Ü


2077 (
BOM_LIST
.
	`g‘
(
£lf
.
’codšg
.
	`low”
()) == 'utf_8'))):

2078 #Add 
the
 
UTF8
 
BOM


2079 
nÙ
 
out
:

2080 
out
.
	`­³nd
('')

2081 
out
[0] = 
BOM_UTF8
 + out[0]

2082  
out


2084 #Tuº 
the
 
li¡
 
to
 
a
 
¡ršg
, 
jošed
 
w™h
 
cÜ»ù
 
Ãwlšes


2085 
Ãwlše
 = 
£lf
.
Ãwlšes
 
Ü
 
os
.
lše£p


2086 ià(
	`g‘©Œ
(
outfe
, 'mode', 
NÚe
è
is
 
nÙ
 NÚ
ªd
 outfe.
mode
 == 'w'

2087 
ªd
 
sys
.
¶©fÜm
 =ğ'wš32'‡nd 
Ãwlše
 == '\r\n'):

2088 #Wšdow 
¥ecific
 
hack
 
to
 
avoid
 
wr™šg
 '\r\r\n'

2089 
Ãwlše
 = '\n'

2090 
ouut
 = 
£lf
.
	`_a_to_u
(
Ãwlše
).
	$još
(
out
)

2091 
£lf
.
’codšg
:

2092 
ouut
 = ouut.
	$’code
(
£lf
.
’codšg
)

2093 
£lf
.
BOM
 
	`ªd
 ((£lf.
’codšg
 
is
 
NÚe
è
Ü
 
	$m©ch_utf8
(
£lf
.
’codšg
)):

2094 #Add 
the
 
UTF8
 
BOM


2095 
ouut
 = 
BOM_UTF8
 + output

2097 
nÙ
 
ouut
.
	$’dsw™h
(
Ãwlše
):

2098 
ouut
 +ğ
Ãwlše


2099 
outfe
 
is
 
nÙ
 
NÚe
:

2100 
outfe
.
	$wr™e
(
ouut
)

2102 
h
 = 
	`İ’
(
£lf
.
f’ame
, 'wb')

2103 
h
.
	$wr™e
(
ouut
)

2104 
h
.
	$şo£
()

2107 
def
 
	$v®id©e
(
£lf
, 
v®id©Ü
, 
´e£rve_”rÜs
=
F®£
, 
cİy
=False,

2108 
£ùiÚ
=
NÚe
):

2110 
Te¡
 
the
 
CÚfigObj
 
agaš¡
 
a
 
cÚfig¥ec
.

2112 
It
 
u£s
 
the
 ``
v®id©Ü
`` 
objeù
 
äom
 *
v®id©e
.
py
*.

2114 
To
 
run
 ``
v®id©e
`` 
Ú
 
the
 
cu¼’t
 
CÚfigObj
, 
ÿÎ
: ::

2116 
‹¡
 = 
cÚfig
.
	$v®id©e
(
v®id©Ü
)

2118 (
NÜm®ly
 
havšg
 
´eviou¦y
 
·s£d
 
š
 
the
 
cÚfig¥ec
 
wh’
h
CÚfigObj


2119 
was
 
ü—‹d
 - 
you
 
ÿn
 
dyÇmiÿÎy
 
assign
 
a
 
diùiÚ¬y
 
of
 
checks
 
to
 
the


2120 ``
cÚfig¥ec
`` 
©Œibu‹
 
of
 
a
 
£ùiÚ
 
though
).

2122 
It
 
»tuºs
 ``
True
`` 
ev”ythšg
 
·s£s
, 
Ü
 
a
 
diùiÚ¬y
 
of


2123 
·ss
/
	`çs
 (
True
/
F®£
). 
If
 
ev”y
 
memb”
 
of
 
a
 
sub£ùiÚ
 
·s£s
, 
™


2124 
wl
 
ju¡
 
have
 
the
 
v®ue
 ``
True
``. (
It
 
®so
 
»tuºs
 ``
F®£
`` 
®l


2125 
memb”s
 
ç
).

2127 
In
 
add™iÚ
, 
™
 
cÚv”ts
 
the
 
v®ues
 
äom
 
¡ršgs
 
to
 
theœ
 
Çtive


2128 
ty³s
 
theœ
 
checks
 
	`·ss
 (
ªd
 ``
¡ršgify
`` 
is
 
£t
).

2130 
If
 ``
´e£rve_”rÜs
`` 
is
 ``
True
`` (``
F®£
`` i è
th’
 
š¡—d


2131 
of
 
a
 
m¬kšg
‡ 
ç
 
w™h
‡ ``
F®£
``, 
™
 
wl
 
´e£rve
 
the
 
aùu®


2132 
exû±iÚ
 
objeù
. 
This
 
ÿn
 
cÚš
 
šfo
 
about
 
the
 
»asÚ
 
çu»
.

2133 
FÜ
 
exam¶e
 
the
 ``
VdtV®ueTooSm®lE¼Ü
`` 
šdiÿ‹s
 
th©
h
v®ue


2134 
suµl›d
 
was
 
too
 
sm®l
. 
If
 
a
 
	$v®ue
 (
Ü
 
£ùiÚ
è
is
 
missšg
 
™
 
wl


2135 
¡l
 
be
 
m¬ked
 
as
 ``
F®£
``.

2137 
You
 
mu¡
 
have
 
the
 
v®id©e
 
moduË
 
to
 
u£
 ``
´e£rve_”rÜs
=
True
``.

2139 
You
 
ÿn
 
th’
 
u£
 
the
 ``
æ©‹n_”rÜs
`` 
funùiÚ
 
to
 
tuº
 
your
 
Ã¡ed


2140 
»suÉs
 
diùiÚ¬y
 
što
 
a
 
æ©‹Ãd
 
li¡
 
of
 
çu»s
 - 
u£ful
 

2141 
di¥Ïyšg
 
m—nšgful
 
”rÜ
 
mes§ges
.

2143 
£ùiÚ
 
is
 
NÚe
:

2144 
£lf
.
cÚfig¥ec
 
is
 
NÚe
:

2145 
¿i£
 
	`V®ueE¼Ü
('No configspec supplied.')

2146 
´e£rve_”rÜs
:

2147 #WdØ
this
 
Úû
 
to
 
»move
 
a
 
tİ
 
Ëv–
 
d•’d’cy
 
Ú
 
the
 
v®id©e
 
moduË


2148 #Which 
makes
 
impÜtšg
 
cÚfigobj
 
ç¡”


2149 
äom
 
v®id©e
 
impÜt
 
VdtMissšgV®ue


2150 
£lf
.
_vdtMissšgV®ue
 = 
VdtMissšgV®ue


2152 
£ùiÚ
 = 
£lf


2154 
cİy
:

2155 
£ùiÚ
.
š™Ÿl_comm’t
 = seùiÚ.
cÚfig¥ec
.initial_comment

2156 
£ùiÚ
.
fš®_comm’t
 = seùiÚ.
cÚfig¥ec
.final_comment

2157 
£ùiÚ
.
’codšg
 = seùiÚ.
cÚfig¥ec
.encoding

2158 
£ùiÚ
.
BOM
 = seùiÚ.
cÚfig¥ec
.BOM

2159 
£ùiÚ
.
Ãwlšes
 = seùiÚ.
cÚfig¥ec
.newlines

2160 
£ùiÚ
.
šd’t_ty³
 = seùiÚ.
cÚfig¥ec
.indent_type

2162 #
#£ùiÚ.
deçuÉ_v®ues
.
	`ş—r
() #??

2163 
cÚfig¥ec
 = 
£ùiÚ
.configspec

2164 
£lf
.
	$_£t_cÚfig¥ec
(
£ùiÚ
, 
cİy
)

2167 
def
 
	$v®id©e_’Œy
(
’Œy
, 
¥ec
, 
v®
, 
missšg
, 
»t_Œue
, 
»t_çl£
):

2168 
£ùiÚ
.
deçuÉ_v®ues
.
	$pİ
(
’Œy
, 
NÚe
)

2170 
Œy
:

2171 
£ùiÚ
.
deçuÉ_v®ues
[
’Œy
] = 
v®id©Ü
.
	$g‘_deçuÉ_v®ue
(
cÚfig¥ec
[
’Œy
])

2172 
	$exû±
 (
KeyE¼Ü
, 
A‰ribu‹E¼Ü
, 
v®id©Ü
.
ba£E¼ÜCÏss
):

2173 #NØ, 
bad
  
Ü
 
v®id©Ü
 
has
 
no
 'get_default_value'

2174 #(
e
.
g
. 
Sim¶eV®
)

2175 
·ss


2177 
Œy
:

2178 
check
 = 
v®id©Ü
.
	$check
(
¥ec
,

2179 
v®
,

2180 
missšg
=missing

2182 
exû±
 
v®id©Ü
.
ba£E¼ÜCÏss
, 
e
:

2183 
nÙ
 
´e£rve_”rÜs
 
Ü
 
	$isš¡ªû
(
e
, 
£lf
.
_vdtMissšgV®ue
):

2184 
out
[
’Œy
] = 
F®£


2186 #´e£rv
the
 
”rÜ


2187 
out
[
’Œy
] = 
e


2188 
»t_çl£
 = 
F®£


2189 
»t_Œue
 = 
F®£


2191 
»t_çl£
 = 
F®£


2192 
out
[
’Œy
] = 
True


2193 
£lf
.
¡ršgify
 
Ü
 
missšg
:

2194 #ià
we
 
¬e
 
došg
 
ty³
 
cÚv”siÚ


2195 #Ü 
the
 
v®ue
 
is
 
a
 
suµl›d
 

2196 
nÙ
 
£lf
.
¡ršgify
:

2197 
	`isš¡ªû
(
check
, (
li¡
, 
tu¶e
)):

2198 #´e£rv
li¡s


2199 
check
 = [
£lf
.
	$_¡r
(
™em
è™em 
š
 
check
]

2200 
–if
 
missšg
 
ªd
 
check
 
is
 
NÚe
:

2201 #cÚv”ˆ
the
 
NÚe
 
äom
 
a
  
to
‡ ''

2202 
check
 = ''

2204 
check
 = 
£lf
.
	$_¡r
(
check
)

2205 ià(
check
 !ğ
v®
è
Ü
 
missšg
:

2206 
£ùiÚ
[
’Œy
] = 
check


2207 
nÙ
 
cİy
 
ªd
 
missšg
‡nd 
’Œy
‚Ù 
š
 
£ùiÚ
.
deçuÉs
:

2208 
£ùiÚ
.
deçuÉs
.
	$­³nd
(
’Œy
)

2209  
»t_Œue
, 
»t_çl£


2211 #
 = {}

2212 
	g»t_Œue
 = 
True


2213 
»t_çl£
 = 
True


2215 
unv®id©ed
 = [
k
 k 
š
 
£ùiÚ
.
sÿÏrs
 k 
nÙ
 iÀ
cÚfig¥ec
]

2216 
šcÜ»ù_£ùiÚs
 = [
k
 k 
š
 
cÚfig¥ec
.
£ùiÚs
 k iÀ
£ùiÚ
.
sÿÏrs
]

2217 
šcÜ»ù_sÿÏrs
 = [
k
 k 
š
 
cÚfig¥ec
.
sÿÏrs
 k iÀ
£ùiÚ
.
£ùiÚs
]

2219 
’Œy
 
š
 
cÚfig¥ec
.
sÿÏrs
:

2220 
’Œy
 
š
 ('__many__', '___many___'):

2221 #»£rved 
Çmes


2223 ià(
nÙ
 
’Œy
 
š
 
£ùiÚ
.
sÿÏrs
è
	$Ü
 (
’Œy
 
š
 
£ùiÚ
.
deçuÉs
):

2224 #missšg 
’Œ›s


2225 #Ü 
’Œ›s
 
äom
 
deçuÉs


2226 
missšg
 = 
True


2227 
v®
 = 
NÚe


2228 
cİy
 
ªd
 
’Œy
 
nÙ
 
š
 
£ùiÚ
.
sÿÏrs
:

2229 #cİy 
comm’ts


2230 
£ùiÚ
.
comm’ts
[
’Œy
] = (

2231 
cÚfig¥ec
.
comm’ts
.
	$g‘
(
’Œy
, []))

2232 
£ùiÚ
.
šlše_comm’ts
[
’Œy
] = (

2233 
cÚfig¥ec
.
šlše_comm’ts
.
	`g‘
(
’Œy
, ''))

2235 
missšg
 = 
F®£


2236 
v®
 = 
£ùiÚ
[
’Œy
]

2238 
»t_Œue
, 
»t_çl£
 = 
	$v®id©e_’Œy
(
’Œy
, 
cÚfig¥ec
[’Œy], 
v®
,

2239 
missšg
, 
»t_Œue
, 
»t_çl£
)

2241 
mªy
 = 
NÚe


2242 '__mªy__' 
š
 
cÚfig¥ec
.
sÿÏrs
:

2243 
mªy
 = 
cÚfig¥ec
['__many__']

2244 
–if
 '___mªy___' 
š
 
cÚfig¥ec
.
sÿÏrs
:

2245 
mªy
 = 
cÚfig¥ec
['___many___']

2247 
mªy
 
is
 
nÙ
 
NÚe
:

2248 
’Œy
 
š
 
unv®id©ed
:

2249 
v®
 = 
£ùiÚ
[
’Œy
]

2250 
»t_Œue
, 
»t_çl£
 = 
	$v®id©e_’Œy
(
’Œy
, 
mªy
, 
v®
, 
F®£
,

2251 
»t_Œue
, 
»t_çl£
)

2252 
unv®id©ed
 = []

2254 
’Œy
 
š
 
šcÜ»ù_sÿÏrs
:

2255 
»t_Œue
 = 
F®£


2256 
nÙ
 
´e£rve_”rÜs
:

2257 
out
[
’Œy
] = 
F®£


2259 
»t_çl£
 = 
F®£


2260 
msg
 = 'V®u%¸wa ´ovided‡ ¨£ùiÚ' % 
’Œy


2261 
out
[
’Œy
] = 
v®id©Ü
.
	$ba£E¼ÜCÏss
(
msg
)

2262 
’Œy
 
š
 
šcÜ»ù_£ùiÚs
:

2263 
»t_Œue
 = 
F®£


2264 
nÙ
 
´e£rve_”rÜs
:

2265 
out
[
’Œy
] = 
F®£


2267 
»t_çl£
 = 
F®£


2268 
msg
 = 'SeùiÚ %¸wa ´ovided‡ ¨sšgË v®ue' % 
’Œy


2269 
out
[
’Œy
] = 
v®id©Ü
.
	$ba£E¼ÜCÏss
(
msg
)

2271 #Missšg 
£ùiÚs
 
wl
 
have
 
b“n
 
ü—‹d
 
as
 
em±y
 
Úes
 
wh’
 
the


2272 #cÚfig¥eø
was
 
»ad
.

2273 
’Œy
 
š
 
£ùiÚ
.
£ùiÚs
:

2274 #FIXME: 
this
 
m—ns
 
DEFAULT
 
is
 
nÙ
 
cİ›d
 
š
 
cİy
 
mode


2275 
£ùiÚ
 
is
 
£lf
 
ªd
 
’Œy
 == 'DEFAULT':

2277 
£ùiÚ
[
’Œy
].
cÚfig¥ec
 
is
 
NÚe
:

2278 
unv®id©ed
.
	$­³nd
(
’Œy
)

2280 
cİy
:

2281 
£ùiÚ
.
comm’ts
[
’Œy
] = 
cÚfig¥ec
.comm’ts.
	$g‘
(
’Œy
, [])

2282 
£ùiÚ
.
šlše_comm’ts
[
’Œy
] = 
cÚfig¥ec
.šlše_comm’ts.
	`g‘
(entry, '')

2283 
check
 = 
£lf
.
	$v®id©e
(
v®id©Ü
, 
´e£rve_”rÜs
õ»£rve_”rÜs, 
cİy
=cİy, 
£ùiÚ
=£ùiÚ[
’Œy
])

2284 
out
[
’Œy
] = 
check


2285 
check
 =ğ
F®£
:

2286 
»t_Œue
 = 
F®£


2287 
–if
 
check
 =ğ
True
:

2288 
»t_çl£
 = 
F®£


2290 
»t_Œue
 = 
F®£


2292 
£ùiÚ
.
exŒa_v®ues
 = 
unv®id©ed


2293 
´e£rve_”rÜs
 
ªd
 
nÙ
 
£ùiÚ
.
_ü—‹d
:

2294 #Ià
the
 
£ùiÚ
 
wa¢
'ˆü—‹d (i.e. iˆwa¢'
t
 
missšg
)

2295 #th’ 
we
 
ÿn
't„eturn False, we‚eedo…reserveƒrrors

2296 
»t_çl£
 = 
F®£


2297 #

»t_çl£
 
ªd
 
´e£rve_”rÜs
‡nd 
out
:

2298 #Ià
we
 
¬e
 
´e£rvšg
 
”rÜs
, 
but
 
®l


2299 #th
çu»s
 
¬e
 
äom
 
missšg
 
£ùiÚs
 / 
v®ues


2300 #th’ 
we
 
ÿn
  
F®£
. 
Oth”wi£
 
th”e
 
is
 
a


2301 #»® 
çu»
 
th©
 
we
 
Ãed
 
to
 
´e£rve
.

2302 
»t_çl£
 = 
nÙ
 
	`ªy
(
out
.
	$v®ues
())

2303 
»t_Œue
:

2304  
True


2305 
–if
 
»t_çl£
:

2306  
F®£


2307  
out


2310 
def
 
	$»£t
(
£lf
):

2312 
£lf
.
	$ş—r
()

2313 
£lf
.
	$_š™Ÿli£
()

2314 #FIXME: 
Should
 
be
 
dÚe
 
by
 '_š™Ÿli£', 
but
 
CÚfigObj
 
	`cÚ¡ruùÜ
 (
ªd
 
»lßd
)

2315 #»quœe 
ª
 
em±y
 
diùiÚ¬y


2316 
£lf
.
cÚfig¥ec
 = 
NÚe


2317 #Ju¡ 
to
 
be
 
su»
 ;-)

2318 
£lf
.
_Üigš®_cÚfig¥ec
 = 
NÚe


2321 
def
 
	$»lßd
(
£lf
):

2323 
R–ßd
 
a
 
CÚfigObj
 
äom
 
fe
.

2325 
This
 
m‘hod
 
¿i£s
 
a
 ``
R–ßdE¼Ü
`` 
the
 
CÚfigObj
 
dÛ¢
't have

2326 
a
 
f’ame
 
©Œibu‹
 
poštšg
 
to
‡ 
fe
.

2328 
nÙ
 
	$isš¡ªû
(
£lf
.
f’ame
, 
ba£¡ršg
):

2329 
¿i£
 
	$R–ßdE¼Ü
()

2331 
f’ame
 = 
£lf
.filename

2332 
cu¼’t_İtiÚs
 = {
	}
}

2333 
’Œy
 
š
 
OPTION_DEFAULTS
:

2334 
’Œy
 == 'configspec':

2336 
cu¼’t_İtiÚs
[
’Œy
] = 
	$g‘©Œ
(
£lf
, 
’Œy
)

2338 
cÚfig¥ec
 = 
£lf
.
_Üigš®_cÚfig¥ec


2339 
cu¼’t_İtiÚs
['cÚfig¥ec'] = 
cÚfig¥ec


2341 
£lf
.
	$ş—r
()

2342 
£lf
.
	$_š™Ÿli£
(
cu¼’t_İtiÚs
)

2343 
£lf
.
	$_lßd
(
f’ame
, 
cÚfig¥ec
)

2347 
şass
 
	$Sim¶eV®
(
objeù
):

2349 
A
 
sim¶e
 
v®id©Ü
.

2350 
Cª
 
be
 
u£d
 
to
 
check
 
th©
 
®l
 
memb”s
 
ex³ùed
 
¬e
 
´e£Á
.

2352 
To
 
u£
 
™
, 
´ovide
 
a
 
cÚfig¥ec
 
w™h
 
®l
 
your
 
memb”s
 
	`š
 (
the
 
v®ue
 
giv’


2353 
wl
 
be
 
ignÜed
). 
Pass
 
ª
 
š¡ªû
 
of
 ``
Sim¶eV®
`` 
to
 
the
 ``
v®id©e
``

2354 
m‘hod
 
of
 
your
 ``
CÚfigObj
``. ``
v®id©e
`` 
wl
  ``
True
`` 
®l


2355 
memb”s
 
¬e
 
´e£Á
, 
Ü
 
a
 
diùiÚ¬y
 
w™h
 
True
/
F®£
 
m—nšg


2356 
´e£Á
/
missšg
. (
WhŞe
 missšg 
£ùiÚs
 
wl
 
be
 
»¶aûd
 
w™h
 ``
F®£
``)

2359 
def
 
	$__š™__
(
£lf
):

2360 
£lf
.
ba£E¼ÜCÏss
 = 
CÚfigObjE¼Ü


2362 
def
 
	$check
(
£lf
, 
check
, 
memb”
, 
missšg
=
F®£
):

2364 
missšg
:

2365 
¿i£
 
£lf
.
	$ba£E¼ÜCÏss
()

2366  
memb”


2369 
def
 
	$æ©‹n_”rÜs
(
cfg
, 
»s
, 
Ëv–s
=
NÚe
, 
»suÉs
=None):

2371 
An
 
exam¶e
 
funùiÚ
 
th©
 
wl
 
tuº
 
a
 
Ã¡ed
 
diùiÚ¬y
 
of
 
»suÉs


2372 (
as
 
»tuºed
 
by
 ``
CÚfigObj
.
v®id©e
``è
što
 
a
 
æ©
 
li¡
.

2374 ``
cfg
`` 
is
 
the
 
CÚfigObj
 
š¡ªû
 
bešg
 
checked
, ``
»s
`` i th
»suÉs


2375 
diùiÚ¬y
 
»tuºed
 
by
 ``
v®id©e
``.

2377 (
This
 
is
 
a
 
»cursive
 
funùiÚ
, 
so
 
you
 
shouldn
't usehe ``levels`` or

2378 ``
»suÉs
`` 
¬gum’ts
 - 
they
 
¬e
 
u£d
 
by
 
the
 
funùiÚ
.)

2380 
R‘uºs
 
a
 
li¡
 
of
 
keys
 
th©
 
çed
. 
Each
 
memb”
 oà
the
†i¡ 
is
‡ 
tu¶e
::

2382 ([
li¡
 
of
 
£ùiÚs
...], 
key
, 
»suÉ
)

2384 
If
 ``
v®id©e
`` 
was
 
ÿÎed
 
w™h
 ``
´e£rve_”rÜs
=
F®£
`` (
the
 )

2385 
th’
 ``
»suÉ
`` 
wl
 
®ways
 
be
 ``
F®£
``.

2387 *
li¡
 
of
 
£ùiÚs
* 
is
 
a
 
æ©‹Ãd
†i¡ oà£ùiÚ 
th©
 
the
 
key
 
was
 
found


2388 
š
.

2390 
If
 
the
 
£ùiÚ
 
was
 
	`missšg
 (
Ü
 
a
 seùiÚ wa 
ex³ùed
 
ªd
‡ 
sÿÏr
 
´ovided


2391 - 
Ü
 
viû
-
v”§
è
th’
 
key
 
wl
 
be
 ``
NÚe
``.

2393 
If
 
the
 
	$v®ue
 (
Ü
 
£ùiÚ
è
was
 
missšg
 
th’
 ``
»suÉ
`` 
wl
 
be
 ``
F®£
``.

2395 
If
 ``
v®id©e
`` 
was
 
ÿÎed
 
w™h
 ``
´e£rve_”rÜs
=
True
`` 
ªd
 
a
 
v®ue


2396 
was
 
´e£Á
, 
but
 
çed
 
the
 
check
, 
th’
 ``
»suÉ
`` 
wl
 
be
h
exû±iÚ


2397 
objeù
 
»tuºed
. 
You
 
ÿn
 
u£
 
this
 
as
 
a
 
¡ršg
 
th©
 
desüibes
 
the
 
çu»
.

2399 
FÜ
 
exam¶e
 *
The
 
v®ue
 "3" 
is
 
of
 
the
 
wrÚg
 
ty³
*.

2401 
Ëv–s
 
is
 
NÚe
:

2402 #fœ¡ 
time
 
ÿÎed


2403 
Ëv–s
 = []

2404 
»suÉs
 = []

2405 
»s
 =ğ
True
:

2406  
»suÉs


2407 
»s
 =ğ
F®£
 
Ü
 
	$isš¡ªû
(
»s
, 
Exû±iÚ
):

2408 
»suÉs
.
	`­³nd
((
Ëv–s
[:], 
NÚe
, 
»s
))

2409 
Ëv–s
:

2410 
Ëv–s
.
	$pİ
()

2411  
»suÉs


2412 
key
, 
v®
è
š
 
»s
.
	$™ems
():

2413 
v®
 =ğ
True
:

2415 
	`isš¡ªû
(
cfg
.
	`g‘
(
key
), 
diù
):

2416 #GØ
down
 
Úe
 
Ëv–


2417 
Ëv–s
.
	$­³nd
(
key
)

2418 
	$æ©‹n_”rÜs
(
cfg
[
key
], 
v®
, 
Ëv–s
, 
»suÉs
)

2420 
»suÉs
.
	`­³nd
((
Ëv–s
[:], 
key
, 
v®
))

2421 #
#GØ
up
 
Úe
 
Ëv–


2422 
Ëv–s
:

2423 
Ëv–s
.
	$pİ
()

2424 #
 
»suÉs


2427 
def
 
	`g‘_exŒa_v®ues
(
cÚf
, 
_´•’d
=()):

2429 
Fšd
 
®l
 
the
 
v®ues
 
ªd
 
£ùiÚs
 
nÙ
 
š
h
cÚfig¥ec
 
äom
 
a
 
v®id©ed


2430 
CÚfigObj
.

2432 ``
g‘_exŒa_v®ues
`` 
»tuºs
 
a
 
li¡
 
of
 
tu¶es
 
wh”e
 
—ch
 
tu¶e
 
»´e£Ás


2433 
e™h”
 
ª
 
exŒa
 
£ùiÚ
, 
Ü
‡ÀexŒ¨
v®ue
.

2435 
The
 
tu¶es
 
cÚš
 
two
 
v®ues
, 
a
 
tu¶e
 
»´e£Ášg
 
the
 
£ùiÚ
h
v®ue


2436 
is
 
š
 
ªd
 
the
 
Çme
 
of
h
exŒa
 
v®ues
. 
FÜ
ƒxŒ¨v®ue šh
tİ
 
Ëv–


2437 
£ùiÚ
 
the
 
fœ¡
 
memb”
 
wl
 
be
 
ª
 
em±y
 
tu¶e
. 
FÜ
 
v®ues
 
š
he 'foo'

2438 
£ùiÚ
 
the
 
fœ¡
 
memb”
 
wl
 
be
 ``('foo',)``. 
FÜ
 
memb”s
 
š
he 'bar'

2439 
sub£ùiÚ
 
of
 
the
 'foo' 
£ùiÚ
h
fœ¡
 
memb”
 
wl
 
be
 ``('foo', 'bar')``.

2441 
NOTE
: 
If
 
you
 
ÿÎ
 ``
g‘_exŒa_v®ues
`` 
Ú
 
a
 
CÚfigObj
 
š¡ªû
 
th©
 
ha¢
't

2442 
b“n
 
v®id©ed
 
™
 
wl
  
ª
 
em±y
 
li¡
.

2444 
out
 = []

2446 
out
.
	`ex‹nd
([(
_´•’d
, 
Çme
èÇm
š
 
cÚf
.
exŒa_v®ues
])

2447 
Çme
 
š
 
cÚf
.
£ùiÚs
:

2448 
Çme
 
nÙ
 
š
 
cÚf
.
exŒa_v®ues
:

2449 
out
.
	`ex‹nd
(
	`g‘_exŒa_v®ues
(
cÚf
[
Çme
], 
_´•’d
 + (name,)))

2450  
out


	@/home/zq/Project/terminator-0.96/terminatorlib/configobj/validate.py

1 #v®id©e.
py


2 #A 
V®id©Ü
 
objeù


3 #Cİyrighˆ(
C
è2005-2010 
Mich«l
 
FoÜd
, 
M¬k
 
And»ws
, 
NicŞa
 
L¬o§


4 #E-
ma
: 
fuzzymª
 
AT
 
void¥aû
 
DOT
 
Üg
 DOT 
uk


5 #m¬k 
AT
 
Ï
-Ï 
DOT
 
com


6 #nicØ
AT
 
‹kNico
 
DOT
 
Ãt


8 #Thi 
soáw¬e
 
is
 
liûn£d
 
und”
 
the
 
‹rms
 
of
h
BSD
 
liûn£
.

10 #BasiÿÎy 
you
're freeo copy, modify, distribute‡nd„elicense it,

11 #SØ
as
 
you
 
k“p
 
a
 
cİy
 
of
 
the
 
liûn£
 
w™h
 
™
.

13 #Süt 
maššed
 
©
 
h‰p
:

14 #FÜ 
šfÜm©iÚ
 
about
 
bugfixes
, 
upd©es
 
ªd
 
suµÜt
, 
¶—£
 
još
 
the


15 #CÚfigObj 
mašg
 
li¡
:

17 #Comm’ts, 
sugge¡iÚs
 
ªd
 
bug
 
»pÜts
 
w–come
.

20 
The
 
V®id©Ü
 
objeù
 
is
 
u£d
 
to
 
check
 
th©
 
suµl›d
 
v®ues


21 
cÚfÜm
 
to
 
a
 
	g¥ecifiÿtiÚ
.

23 
The
 
v®ue
 
ÿn
 
be
 
suµl›d
 
as
 
a
 
	g¡ršg
 - 
	ge
.
	gg
. 
äom
‡ 
cÚfig
 
	gfe
.

24 
In
 
this
 
the
 
check
 
wl
 
®so
 *
cÚv”t
*h
v®ue
 
to


25 
the
 
»quœed
 
	gty³
. 
This
 
®lows
 
you
 
to
 
add
 
v®id©iÚ


26 
as
 
a
 
Œª¥¬’t
 
Ïy”
 
to
 
acûss
 
d©a
 
¡Üed
‡ 
	g¡ršgs
.

27 
The
 
v®id©iÚ
 
checks
 
th©
 
the
 
d©a
 
is
 
cÜ»ù
 *
ªd
*

28 
cÚv”ts
 
™
 
to
 
the
 
ex³ùed
 
	gty³
.

30 
Some
 
¡ªd¬d
 
checks
 
¬e
 
´ovided
 
basic
 
d©a
 
	gty³s
.

31 
Add™iÚ®
 
checks
 
¬e
 
—sy
 
to
 
	gwr™e
. 
They
 
ÿn
 
be


32 
´ovided
 
wh’
 
	gthe
 ``
	gV®id©Ü
`` 
is
 
š¡ªtŸ‹d
 
Ü


33 
added
 
	gaá”w¬ds
.

35 
The
 
¡ªd¬d
 
funùiÚs
 
wÜk
 
w™h
 
the
 
fŞlowšg
 
basic
 
d©a
 
	gty³s
 :

37 * 
š‹g”s


38 * 
æßts


39 * 
boŞ—ns


40 * 
¡ršgs


41 * 
_addr


43 
¶us
 
li¡s
 
of
 
the£
 
d©©y³s


45 
Addšg
 
add™iÚ®
 
checks
 
is
 
dÚe
 
through
 
codšg
 
sim¶e
 
funùiÚs
.

47 
The
 
fuÎ
 
£t
 
of
 
¡ªd¬d
 
checks
 
¬e
 :

49 * 'š‹g”': 
m©ches
 
š‹g”
 
	$v®ues
 (
šşudšg
 
Ãg©ive
)

50 
Takes
 
İtiÚ®
 'mš' 
ªd
 'max' 
¬gum’ts
 : ::

52 
	$š‹g”
()

53 
	$š‹g”
(3, 9è#ªy 
v®ue
 
äom
 3 
to
 9

54 
	$š‹g”
(
mš
=0è#ªy 
pos™ive
 
v®ue


55 
	`š‹g”
(
max
=9)

57 * 'æßt': 
m©ches
 
v®ues


58 
Has
 
the
 
§me
 
·¿m‘”s
 
as
h
š‹g”
 
check
.

60 * 'boŞ—n': 
m©ches
 
boŞ—n
 
v®ues
 - ``
True
`` 
Ü
 ``
F®£
``

61 
Acû±abË
 
¡ršg
 
v®ues
 
True
 
¬e
 :

62 
Œue
, 
Ú
, 
yes
, 1

63 
Acû±abË
 
¡ršg
 
v®ues
 
F®£
 
¬e
 :

64 
çl£
, 
off
, 
no
, 0

66 
Any
 
Ùh”
 
v®ue
 
¿i£s
 
ª
 
”rÜ
.

68 * '_addr': 
m©ches
 
ª
 
IÁ”Ãt
 
PrÙocŞ
 
add»ss
, 
v
.4, 
»´e£Áed


69 
by
 
a
 
dÙ‹d
-
quad
 
¡ršg
, 
i
.
e
. '1.2.3.4'.

71 * '¡ršg': 
m©ches
 
ªy
 
¡ršg
.

72 
Takes
 
İtiÚ®
 
keywÜd
 
¬gs
 'mš' 
ªd
 'max'

73 
to
 
¥ecify
 
mš
 
ªd
 
max
 
Ëngths
 
of
 
the
 
¡ršg
.

75 * 'li¡': 
m©ches
 
ªy
 
li¡
.

76 
Takes
 
İtiÚ®
 
keywÜd
 
¬gs
 'mš', 
ªd
 'max' 
to
 
¥ecify
 
mš
‡nd

77 
max
 
sizes
 
of
 
the
 
li¡
. (
Always
 
»tuºs
 
a
†ist.)

79 * 'tu¶e': 
m©ches
 
ªy
 
tu¶e
.

80 
Takes
 
İtiÚ®
 
keywÜd
 
¬gs
 'mš', 
ªd
 'max' 
to
 
¥ecify
 
mš
‡nd

81 
max
 
sizes
 
of
 
the
 
tu¶e
. (
Always
 
»tuºs
 
a
uple.)

83 * 'št_li¡': 
M©ches
 
a
 
li¡
 
of
 
š‹g”s
.

84 
Takes
 
the
 
§me
 
¬gum’ts
 
as
 
li¡
.

86 * 'æßt_li¡': 
M©ches
 
a
 
li¡
 
of
 
æßts
.

87 
Takes
 
the
 
§me
 
¬gum’ts
 
as
 
li¡
.

89 * 'boŞ_li¡': 
M©ches
 
a
 
li¡
 
of
 
boŞ—n
 
v®ues
.

90 
Takes
 
the
 
§me
 
¬gum’ts
 
as
 
li¡
.

92 * '_addr_li¡': 
M©ches
 
a
 
li¡
 
of
 
IP
 
add»s£s
.

93 
Takes
 
the
 
§me
 
¬gum’ts
 
as
 
li¡
.

95 * '¡ršg_li¡': 
M©ches
 
a
 
li¡
 
of
 
¡ršgs
.

96 
Takes
 
the
 
§me
 
¬gum’ts
 
as
 
li¡
.

98 * 'mixed_li¡': 
M©ches
 
a
 
li¡
 
w™h
 
difã»Á
 
ty³s
 
š


99 
¥ecific
 
pos™iÚs
. 
Li¡
 
size
 
mu¡
 
m©ch


100 
the
 
numb”
 
of
 
¬gum’ts
.

102 
Each
 
pos™iÚ
 
ÿn
 
be
 
Úe
 
of
 :

105 
So
 
to
 
¥ecify
 
a
 
li¡
 
w™h
 
two
 
¡ršgs
 
fŞlowed


106 
by
 
two
 
š‹g”s
, 
you
 
wr™e
 
the
 
check
 
as
 : ::

108 
	`mixed_li¡
('string', 'string', 'integer', 'integer')

110 * '·ss': 
This
 
check
 
m©ches
 
ev”ythšg
 ! 
It
 
Ãv”
 
çs


111 
ªd
 
the
 
v®ue
 
is
 
unchªged
.

113 
It
 
is
 
®so
 
the
  
no
 
check
 i 
¥ecif›d
.

115 * 'İtiÚ': 
This
 
check
 
m©ches
 
ªy
 
äom
 
a
 
li¡
 
of
 
İtiÚs
.

116 
You
 
¥ecify
 
this
 
check
 
w™h
 : ::

118 
	`İtiÚ
('option 1', 'option 2', 'option 3')

120 
You
 
ÿn
 
suµly
 
a
  
	$v®ue
 (
»tuºed
 
no
 
v®ue
 
is
 
suµl›d
)

121 
usšg
 
the
  
keywÜd
 
¬gum’t
.

123 
You
 
¥ecify
 
a
 
li¡
 
¬gum’t
  
usšg
‡†i¡ 
cÚ¡ruùÜ
 
syÁax
 
š


124 
the
 
check
 : ::

126 
	`checkÇme
(
¬g1
, 
¬g2
, =
	`li¡
('val 1', 'val 2', 'val 3'))

128 
A
 
badly
 
fÜm©‹d
 
£t
 
of
 
¬gum’ts
 
wl
 
¿i£
 
a
 ``
VdtP¬amE¼Ü
``.

131 
__v”siÚ__
 = '1.0.1'

134 
__®l__
 = (

167 
impÜt
 
»


170 
_li¡_¬g
 = 
»
.
	`compe
(
r
'''

172 ([
a
-
zA
-
Z_
][a-zA-
Z0
-9
_
]*)\
s
*=\s*
li¡
\(

175 \
s
*

177 (?:".*?")| #doubË 
quÙes


178 (?:'.*?')| #sšgË 
quÙes


181 \
s
*,\s*

184 (?:".*?")| #doubË 
quÙes


185 (?:'.*?')| #sšgË 
quÙes


187 )? #Ï¡ 
Úe


193 
_li¡_memb”s
 = 
»
.
	`compe
(
r
'''

195 (?:".*?")| #doubË 
quÙes


196 (?:'.*?')| #sšgË 
quÙes


200 (?:\
s
*,\s*)|(?:\s*
$
) #comma

204 
_·¿m¡ršg
 = 
r
'''

208 [
a
-
zA
-
Z_
][a-zA-
Z0
-9
_
]*\
s
*=\s*
li¡
\(

210 \
s
*

212 (?:".*?")| #doubË 
quÙes


213 (?:'.*?')| #sšgË 
quÙes


216 \
s
*,\s*

219 (?:".*?")| #doubË 
quÙes


220 (?:'.*?')| #sšgË 
quÙes


222 )? #Ï¡ 
Úe


226 (?:".*?")| #doubË 
quÙes


227 (?:'.*?')| #sšgË 
quÙes


229 (?: #keywÜd 
¬gum’t


230 [
a
-
zA
-
Z_
][a-zA-
Z0
-9
_
]*\
s
*=\s*

232 (?:".*?")| #doubË 
quÙes


233 (?:'.*?')| #sšgË 
quÙes


240 (?:\
s
*,\s*)|(?:\s*
$
) #comma

245 
_m©ch¡ršg
 = '^%s*' % 
_·¿m¡ršg


247 #PythÚ 
´e
 2.2.1 
dÛ¢
't have bool

248 
Œy
:

249 
boŞ


250 
exû±
 
NameE¼Ü
:

251 
def
 
	$boŞ
(
v®
):

253 
v®
:

259 
def
 
	$dÙ‹dQuadToNum
(

):

261 
CÚv”t
 
decim®
 
dÙ‹d
 
quad
 
¡ršg
 
to
 
š‹g”


263 >>> (
	`dÙ‹dQuadToNum
('1 '))

265 >>> (
	`dÙ‹dQuadToNum
(' 1.2'))

267 >>> (
	`dÙ‹dQuadToNum
(' 1.2.3 '))

269 >>> (
	`dÙ‹dQuadToNum
('1.2.3.4'))

271 >>> 
	`dÙ‹dQuadToNum
('1.2.3. 4')

273 >>> 
	`dÙ‹dQuadToNum
('255.255.255.255')

275 >>> 
	`dÙ‹dQuadToNum
('255.255.255.256')

276 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

277 
V®ueE¼Ü
: 
NÙ
 
a
 
good
 
dÙ‹d
-
quad
 
IP
: 255.255.255.256

280 #impÜˆ
h”e
 
to
 
avoid
 
™
 
wh’
 
_addr
 
v®ues
 
¬e
 
nÙ
 
u£d


281 
impÜt
 
sock‘
, 

283 
Œy
:

284  .
	`uÅack
('!L',

285 
sock‘
.
	`š‘_©Ú
(

.
	`¡r
()))[0]

286 
exû±
 
sock‘
.
”rÜ
:

287 #bug 
š
 
š‘_©Ú
, 
cÜ»ùed
 iÀ
PythÚ
 2.3

288 

.
	`¡r
() == '255.255.255.255':

291 
¿i£
 
	`V®ueE¼Ü
('NÙ‡ good dÙ‹d-quad IP: %s' % 

)

295 
def
 
	$numToDÙ‹dQuad
(
num
):

297 
CÚv”t
 
to
 
dÙ‹d
 
quad
 
¡ršg


299 >>> 
	`numToDÙ‹dQuad
(-1L)

300 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

301 
V®ueE¼Ü
: 
NÙ
 
a
 
good
 
num”ic
 
IP
: -1

302 >>> 
	`numToDÙ‹dQuad
(1L)

304 >>> 
	`numToDÙ‹dQuad
(16777218L)

306 >>> 
	`numToDÙ‹dQuad
(16908291L)

308 >>> 
	`numToDÙ‹dQuad
(16909060L)

310 >>> 
	`numToDÙ‹dQuad
(4294967295L)

312 >>> 
	$numToDÙ‹dQuad
(4294967296L)

313 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

314 
V®ueE¼Ü
: 
NÙ
 
a
 
good
 
num”ic
 
IP
: 4294967296

317 #impÜˆ
h”e
 
to
 
avoid
 
™
 
wh’
 
_addr
 
v®ues
 
¬e
 
nÙ
 
u£d


318 
impÜt
 
sock‘
, 

320 #nØ
Ãed
 
to
 
š‹rû±
 
h”e
, 4294967295L 
is
 
fše


321 
num
 > 4294967295L 
Ü
‚um < 0:

322 
¿i£
 
	`V®ueE¼Ü
('NÙ‡ good‚um”iøIP: %s' % 
num
)

323 
Œy
:

324  
sock‘
.
	`š‘_Áß
(

325 .
	`·ck
('!L', (
num
)))

326 
	$exû±
 (
sock‘
.
”rÜ
, .”rÜ, 
Ov”æowE¼Ü
):

327 
¿i£
 
	`V®ueE¼Ü
('NÙ‡ good‚um”iøIP: %s' % 
num
)

330 
şass
 
	$V®id©eE¼Ü
(
Exû±iÚ
):

332 
This
 
”rÜ
 
šdiÿ‹s
 
th©
 
the
 
check
 
çed
.

333 
It
 
ÿn
 
be
 
the
 
ba£
 
şass
 
mÜe
 
¥ecific
 
”rÜs
.

335 
Any
 
check
 
funùiÚ
 
th©
 
çs
 
ought
 
to
 
¿i£
 
this
 
”rÜ
.

336 (
Ü
 
a
 
subşass
)

338 >>> 
¿i£
 
V®id©eE¼Ü


339 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

340 
V®id©eE¼Ü


344 
şass
 
	$VdtMissšgV®ue
(
V®id©eE¼Ü
):

348 
şass
 
	$VdtUnknownCheckE¼Ü
(
V®id©eE¼Ü
):

351 
def
 
	$__š™__
(
£lf
, 
v®ue
):

353 >>> 
¿i£
 
	`VdtUnknownCheckE¼Ü
('yoda')

354 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

355 
VdtUnknownCheckE¼Ü
: 
the
 
check
 "yoda" 
is
 
unknown
.

357 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thcheck "%s" i unknown.' % (
v®ue
,))

360 
şass
 
	$VdtP¬amE¼Ü
(
SyÁaxE¼Ü
):

363 
def
 
	$__š™__
(
£lf
, 
Çme
, 
v®ue
):

365 >>> 
¿i£
 
	`VdtP¬amE¼Ü
('yoda', 'jedi')

366 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

367 
VdtP¬amE¼Ü
: 
·s£d
 
ª
 
šcÜ»ù
 
v®ue
 "jedi" 
·¿m‘”
 "yoda".

369 
SyÁaxE¼Ü
.
	`__š™__
(
£lf
, '·s£d‡ÀšcÜ»ù v®u"%s" fÜ…¬am‘” "%s".' % (
v®ue
, 
Çme
))

372 
şass
 
	$VdtTy³E¼Ü
(
V®id©eE¼Ü
):

375 
def
 
	$__š™__
(
£lf
, 
v®ue
):

377 >>> 
¿i£
 
	`VdtTy³E¼Ü
('jedi')

378 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

379 
VdtTy³E¼Ü
: 
the
 
v®ue
 "jedi" 
is
 
of
h
wrÚg
 
ty³
.

381 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thv®u"%s" i oàthwrÚgy³.' % (
v®ue
,))

384 
şass
 
	$VdtV®ueE¼Ü
(
V®id©eE¼Ü
):

387 
def
 
	$__š™__
(
£lf
, 
v®ue
):

389 >>> 
¿i£
 
	`VdtV®ueE¼Ü
('jedi')

390 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

391 
VdtV®ueE¼Ü
: 
the
 
v®ue
 "jedi" 
is
 
uÇcû±abË
.

393 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thv®u"%s" i uÇcû±abË.' % (
v®ue
,))

396 
şass
 
	$VdtV®ueTooSm®lE¼Ü
(
VdtV®ueE¼Ü
):

399 
def
 
	$__š™__
(
£lf
, 
v®ue
):

401 >>> 
¿i£
 
	`VdtV®ueTooSm®lE¼Ü
('0')

402 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

403 
VdtV®ueTooSm®lE¼Ü
: 
the
 
v®ue
 "0" 
is
 
too
 
sm®l
.

405 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thv®u"%s" i toØsm®l.' % (
v®ue
,))

408 
şass
 
	$VdtV®ueTooBigE¼Ü
(
VdtV®ueE¼Ü
):

411 
def
 
	$__š™__
(
£lf
, 
v®ue
):

413 >>> 
¿i£
 
	`VdtV®ueTooBigE¼Ü
('1')

414 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

415 
VdtV®ueTooBigE¼Ü
: 
the
 
v®ue
 "1" 
is
 
too
 
big
.

417 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thv®u"%s" i toØbig.' % (
v®ue
,))

420 
şass
 
	$VdtV®ueTooShÜtE¼Ü
(
VdtV®ueE¼Ü
):

423 
def
 
	$__š™__
(
£lf
, 
v®ue
):

425 >>> 
¿i£
 
	`VdtV®ueTooShÜtE¼Ü
('jed')

426 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

427 
VdtV®ueTooShÜtE¼Ü
: 
the
 
v®ue
 "jed" 
is
 
too
 .

429 
V®id©eE¼Ü
.
	`__š™__
(

430 
£lf
,

431 'thv®u"%s" i toØshÜt.' % (
v®ue
,))

434 
şass
 
	$VdtV®ueTooLÚgE¼Ü
(
VdtV®ueE¼Ü
):

437 
def
 
	$__š™__
(
£lf
, 
v®ue
):

439 >>> 
¿i£
 
	`VdtV®ueTooLÚgE¼Ü
('jedie')

440 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

441 
VdtV®ueTooLÚgE¼Ü
: 
the
 
v®ue
 "jed›" 
is
 
too
 .

443 
V®id©eE¼Ü
.
	`__š™__
(
£lf
, 'thv®u"%s" i toØlÚg.' % (
v®ue
,))

446 
şass
 
	$V®id©Ü
(
objeù
):

448 
V®id©Ü
 
is
 
ª
 
objeù
 
th©
 
®lows
 
you
 
to
 
a
 
£t
 
of
 'checks'.

449 
The£
 
checks
 
ke
 
šput
 
ªd
 
‹¡
 
th©
 
™
 
cÚfÜms
 
to
 
the
 
check
.

451 
This
 
ÿn
 
®so
 
švŞve
 
cÚv”tšg
 
the
 
v®ue
 
äom
 
a
 
¡ršg
 
što


452 
the
 
cÜ»ù
 
d©©y³
.

454 
The
 ``
check
`` 
m‘hod
 
kes
 
ª
 
šput
 
¡ršg
 
which
 
cÚfigu»s
 which

455 
check
 
is
 
to
 
be
 
u£d
 
ªd
 
­¶›s
 
th©
 checkØ
a
 
suµl›d
 
v®ue
.

457 
An
 
exam¶e
 
šput
 
¡ršg
 
would
 
be
:

460 
You
 
would
 
th’
 
´ovide
 
som‘hšg
 
like
:

462 >>> 
def
 
	$št_¿nge_check
(
v®ue
, 
mš
, 
max
):

463 ... #tuº 
mš
 
ªd
 
max
 
äom
 
¡ršgs
 
to
 
š‹g”s


464 ... 
mš
 = (min)

465 ... 
max
 = (max)

466 ... #check 
th©
 
v®ue
 
is
 
of
 
the
 
cÜ»ù
 
ty³
.

467 ... #possibË 
v®id
 
šputs
 
¬e
 
š‹g”s
 
Ü
 
¡ršgs


468 ... #th© 
»´e£Á
 
š‹g”s


469 ... 
nÙ
 
	`isš¡ªû
(
v®ue
, (, , 
ba£¡ršg
)):

470 ... 
¿i£
 
	`VdtTy³E¼Ü
(
v®ue
)

471 ... 
–if
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

472 ... #ià
we
 
¬e
 
giv’
 
a
 
¡ršg


473 ... #©‹m± 
to
 
cÚv”t
Ø
ª
 
š‹g”


474 ... 
Œy
:

475 ... 
v®ue
 = (value)

476 ... 
exû±
 
V®ueE¼Ü
:

477 ... 
¿i£
 
	`VdtV®ueE¼Ü
(
v®ue
)

478 ... #check 
the
 
v®ue
 
is
 
b‘w“n
 
our
 
cÚ¡¿šts


479 ... 
nÙ
 
mš
 <ğ
v®ue
:

480 ... 
¿i£
 
	`VdtV®ueTooSm®lE¼Ü
(
v®ue
)

481 ... 
nÙ
 
v®ue
 <ğ
max
:

482 ... 
¿i£
 
	`VdtV®ueTooBigE¼Ü
(
v®ue
)

483 ...  
v®ue


485 >>> 
fdiù
 = {'št_¿nge': 
št_¿nge_check
}

486 >>> 
vŒ1
 = 
V®id©Ü
(
fdiù
)

487 >>> 
vŒ1
.
check
('int_range(20, 40)', '30')

489 >>> 
	gvŒ1
.
check
('int_range(20, 40)', '60')

490 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

491 
VdtV®ueTooBigE¼Ü
: 
the
 
v®ue
 "60" 
is
 
too
 
big
.

493 
New
 
funùiÚs
 
ÿn
 
be
 
added
 
w™h
 : ::

495 >>> 
vŒ2
 = 
	`V®id©Ü
()

496 >>> 
vŒ2
.
funùiÚs
['št_¿nge'] = 
št_¿nge_check


498 
Or
 
by
 
·ssšg
 
š
 
a
 
diùiÚ¬y
 
of
 
funùiÚs
 
wh’
 
V®id©Ü


499 
is
 
š¡ªtŸ‹d
.

501 
Your
 
funùiÚs
 *
ÿn
* 
u£
 
keywÜd
 
¬gum’ts
,

502 
but
 
the
 
fœ¡
 
¬gum’t
 
should
 
®ways
 
be
 'value'.

504 
If
 
the
 
funùiÚ
 
dÛ¢
'take‡dditional‡rguments,

505 
the
 
·»Áhe£s
 
¬e
 
İtiÚ®
 
š
h
check
.

506 
It
 
ÿn
 
be
 
wr™‹n
 
w™h
 
e™h”
 
of
 : ::

508 
keywÜd
 = 
funùiÚ_Çme


509 
keywÜd
 = 
	$funùiÚ_Çme
()

511 
The
 
fœ¡
 
´og¿m
 
to
 
uti£
 
	$V®id©Ü
(è
was
 
Mich«l
 
FoÜd
's

512 
CÚfigObj
, 
ª
 
®‹º©ive
 
to
 
CÚfigP¬£r
 
which
 
suµÜts
 
li¡s
 
ªd


513 
ÿn
 
v®id©e
 
a
 
cÚfig
 
fe
 
usšg
‡ cÚfig 
schema
.

514 
FÜ
 
mÜe
 
d‘as
 
Ú
 
usšg
 
V®id©Ü
 
w™h
 
CÚfigObj
 
£e
:

515 
h‰p
:

518 #thi 
»gex
 
dÛs
 
the
 
š™Ÿl
 
·rsšg
 
of
h
checks


519 
_func_»
 = 
»
.
	`compe
(
r
'(.+?)\((.*)\)',„e.
DOTALL
)

521 #thi 
»gex
 
kes
 
­¬t
 
keywÜd
 
¬gum’ts


522 
_key_¬g
 = 
»
.
	`compe
(
r
'^([a-zA-Z_][a-zA-Z0-9_]*)\s*=\s*(.*)$',„e.
DOTALL
)

525 #thi 
»gex
 
fšds
 
keywÜd
=
	`li¡
(....è
ty³
 
v®ues


526 
_li¡_¬g
 = _list_arg

528 #thi 
»gex
 
kes
 
šdividu®
 
v®ues
 
out
 
of
 
li¡s
 - 
š
 
Úe
 
·ss


529 
_li¡_memb”s
 = _list_members

531 #The£ 
»gexes
 
check
 
a
 
£t
 
of
 
¬gum’ts
 
v®id™y


532 #ªd 
th’
 
puÎ
 
the
 
memb”s
 
out


533 
_·¿mfšd”
 = 
»
.
	`compe
(
_·¿m¡ršg
,„e.
VERBOSE
 |„e.
DOTALL
)

534 
_m©chfšd”
 = 
»
.
	`compe
(
_m©ch¡ršg
,„e.
VERBOSE
 |„e.
DOTALL
)

537 
def
 
	$__š™__
(
£lf
, 
funùiÚs
=
NÚe
):

539 >>> 
vŒi
 = 
	`V®id©Ü
()

541 
£lf
.
funùiÚs
 = {

542 '': 
£lf
.
_·ss
,

543 'š‹g”': 
is_š‹g”
,

544 'æßt': 
is_æßt
,

545 'boŞ—n': 
is_boŞ—n
,

546 '_addr': 
is__addr
,

547 '¡ršg': 
is_¡ršg
,

548 'li¡': 
is_li¡
,

549 'tu¶e': 
is_tu¶e
,

550 'št_li¡': 
is_št_li¡
,

551 'æßt_li¡': 
is_æßt_li¡
,

552 'boŞ_li¡': 
is_boŞ_li¡
,

553 '_addr_li¡': 
is__addr_li¡
,

554 '¡ršg_li¡': 
is_¡ršg_li¡
,

555 'mixed_li¡': 
is_mixed_li¡
,

556 '·ss': 
£lf
.
_·ss
,

557 'İtiÚ': 
is_İtiÚ
,

558 'fÜû_li¡': 
fÜû_li¡
,

559 
	}
}

560 
funùiÚs
 
is
 
nÙ
 
NÚe
:

561 
£lf
.
funùiÚs
.
	$upd©e
(
funùiÚs
)

562 #‹kNico: 
u£
 
by
 
CÚfigObj


563 
£lf
.
ba£E¼ÜCÏss
 = 
V®id©eE¼Ü


564 
£lf
.
_ÿche
 = {
	}
}

567 
def
 
	$check
(
£lf
, 
check
, 
v®ue
, 
missšg
=
F®£
):

569 
U§ge
: 
	$check
(
check
, 
v®ue
)

571 
Argum’ts
:

572 
check
: 
¡ršg
 
»´e£Ášg
 check 
to
 
	$­¶y
 (
šşudšg
 
¬gum’ts
)

573 
v®ue
: 
objeù
 
to
 
be
 
checked


574 
R‘uºs
 
v®ue
, 
cÚv”‹d
 
to
 
cÜ»ù
 
ty³
 
Ãûs§ry


576 
If
 
the
 
check
 
çs
, 
¿i£s
 
a
 ``
V®id©eE¼Ü
`` 
subşass
.

578 >>> 
vtÜ
.
	`check
('yoda', '')

579 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

580 
VdtUnknownCheckE¼Ü
: 
the
 
check
 "yoda" 
is
 
unknown
.

581 >>> 
vtÜ
.
	`check
('yoda()', '')

582 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

583 
VdtUnknownCheckE¼Ü
: 
the
 
check
 "yoda" 
is
 
unknown
.

585 >>> 
vtÜ
.
	`check
('¡ršg(deçuÉ="")', '', 
missšg
=
True
)

588 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
,  = 
£lf
.
	$_·r£_w™h_ÿchšg
(
check
)

590 
missšg
:

591  
is
 
NÚe
:

592 #nØ
šfÜm©iÚ
 
Ãeded
 
h”e
 - 
to
 
be
 
hªdËd
 
by
 
ÿÎ”


593 
¿i£
 
	$VdtMissšgV®ue
()

594 
v®ue
 = 
£lf
.
	$_hªdË_nÚe
()

596 
v®ue
 
is
 
NÚe
:

597  
NÚe


599  
£lf
.
	$_check_v®ue
(
v®ue
, 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
)

602 
def
 
	$_hªdË_nÚe
(
£lf
, 
v®ue
):

603 
v®ue
 == 'None':

604 
v®ue
 = 
NÚe


605 
–if
 
v®ue
 
	`š
 ("'None'", '"None"'):

606 #S³cŸÈ
a
 
quÙed
 
NÚe


607 
v®ue
 = 
£lf
.
	$_unquÙe
(
v®ue
)

608  
v®ue


611 
def
 
	$_·r£_w™h_ÿchšg
(
£lf
, 
check
):

612 
check
 
š
 
£lf
.
_ÿche
:

613 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
,  = 
£lf
.
_ÿche
[
check
]

614 #W
ÿÎ
 
li¡
 
ªd
 
diù
 
b–ow
 
to
 
wÜk
 
w™h
 *
cİ›s
* 
of
 
the
 
d©a


615 #¿th” 
thª
 
the
 
	`Üigš®
 (
which
 
¬e
 
mubË
 
of
 
cour£
)

616 
fun_¬gs
 = 
	$li¡
(
fun_¬gs
)

617 
fun_kw¬gs
 = 
	$diù
(
fun_kw¬gs
)

619 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
,  = 
£lf
.
	$_·r£_check
(
check
)

620 
fun_kw¬gs
 = 
	`diù
([(
	`¡r
(
key
), 
v®ue
èkey, v®ueè
š
 fun_kw¬gs.
	`™ems
()])

621 
£lf
.
_ÿche
[
check
] = 
fun_Çme
, 
	`li¡
(
fun_¬gs
), 
	`diù
(
fun_kw¬gs
), 

622  
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
, 

625 
def
 
	$_check_v®ue
(
£lf
, 
v®ue
, 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
):

626 
Œy
:

627 
fun
 = 
£lf
.
funùiÚs
[
fun_Çme
]

628 
exû±
 
KeyE¼Ü
:

629 
¿i£
 
	$VdtUnknownCheckE¼Ü
(
fun_Çme
)

631  
	$fun
(
v®ue
, *
fun_¬gs
, **
fun_kw¬gs
)

634 
def
 
	$_·r£_check
(
£lf
, 
check
):

635 
fun_m©ch
 = 
£lf
.
_func_»
.
	$m©ch
(
check
)

636 
fun_m©ch
:

637 
fun_Çme
 = 
fun_m©ch
.
	$group
(1)

638 
¬g_¡ršg
 = 
fun_m©ch
.
	$group
(2)

639 
¬g_m©ch
 = 
£lf
.
_m©chfšd”
.
	$m©ch
(
¬g_¡ršg
)

640 
¬g_m©ch
 
is
 
NÚe
:

641 #Bad 
syÁax


642 
¿i£
 
	`VdtP¬amE¼Ü
('Bad syÁax iÀcheck "%s".' % 
check
)

643 
fun_¬gs
 = []

644 
fun_kw¬gs
 = {
	}
}

645 #puÎ 
out
 
¬gs
 
of
 
group
 2

646 
¬g
 
š
 
£lf
.
_·¿mfšd”
.
	$fšd®l
(
¬g_¡ršg
):

647 #¬g 
may
 
Ãed
 
wh™e¥aû
 
	`»movšg
 (
befÜe
 
»movšg
 
quÙes
)

648 
¬g
 =‡rg.
	$¡r
()

649 
li¡m©ch
 = 
£lf
.
_li¡_¬g
.
	$m©ch
(
¬g
)

650 
li¡m©ch
:

651 
key
, 
v®
 = 
£lf
.
	$_li¡_hªdË
(
li¡m©ch
)

652 
fun_kw¬gs
[
key
] = 
v®


654 
keym©ch
 = 
£lf
.
_key_¬g
.
	$m©ch
(
¬g
)

655 
keym©ch
:

656 
v®
 = 
keym©ch
.
	$group
(2)

657 
nÙ
 
v®
 
	`š
 ("'None'", '"None"'):

658 #S³cŸÈ
a
 
quÙed
 
NÚe


659 
v®
 = 
£lf
.
	$_unquÙe
(
v®
)

660 
fun_kw¬gs
[
keym©ch
.
	`group
(1)] = 
v®


663 
fun_¬gs
.
	`­³nd
(
£lf
.
	$_unquÙe
(
¬g
))

665 #®low 
funùiÚ
 
Çmes
 
	`w™hout
 (
¬gs
)

666  
check
, (), {
	}
}, 
	gNÚe


668 #DeçuÉ 
mu¡
 
be
 
d–‘ed
 
the
 
v®ue
 
is
 
¥ecif›d
 
too
,

669 #Ùh”wi£ 
the
 
check
 
funùiÚ
 
wl
 
g‘
 
a
 
¥urious
 "deçuÉ" 
keywÜd
 
¬g


670 
	gŒy
:

671  = 
fun_kw¬gs
.
pİ
('deçuÉ', 
NÚe
)

672 
exû±
 
	gA‰ribu‹E¼Ü
:

673 #PythÚ 2.2 
com·tib™y


674  = 
NÚe


675 
Œy
:

676  = 
fun_kw¬gs
['default']

677 
d–
 
fun_kw¬gs
['default']

678 
exû±
 
KeyE¼Ü
:

679 
·ss


681  
fun_Çme
, 
	gfun_¬gs
, 
	gfun_kw¬gs
, 

684 
def
 
	$_unquÙe
(
£lf
, 
v®
):

686 ià(
	`Ën
(
v®
è>ğ2è
	`ªd
 (v®[0] 
	`š
 ("'", '"'))‡nd (val[0] == val[-1]):

687 
v®
 = val[1:-1]

688  
v®


691 
def
 
	$_li¡_hªdË
(
£lf
, 
li¡m©ch
):

693 
out
 = []

694 
Çme
 = 
li¡m©ch
.
	$group
(1)

695 
¬gs
 = 
li¡m©ch
.
	$group
(2)

696 
¬g
 
š
 
£lf
.
_li¡_memb”s
.
	$fšd®l
(
¬gs
):

697 
out
.
	`­³nd
(
£lf
.
	$_unquÙe
(
¬g
))

698  
Çme
, 
out


701 
def
 
	$_·ss
(
£lf
, 
v®ue
):

703 
Dummy
 
check
 
th©
 
®ways
 
·s£s


705 >>> 
vtÜ
.
	`check
('', 0)

707 >>> 
vtÜ
.
	`check
('', '0')

710  
v®ue


713 
def
 
	$g‘_deçuÉ_v®ue
(
£lf
, 
check
):

715 
Giv’
 
a
 
check
,  
the
  
v®ue
 the check

716 (
cÚv”‹d
 
to
 
the
 
right
 
ty³
).

718 
If
 
the
 
check
 
dÛ¢
't specify‡ default valuehen‡

719 ``
KeyE¼Ü
`` 
wl
 
be
 
¿i£d
.

721 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
,  = 
£lf
.
	$_·r£_w™h_ÿchšg
(
check
)

722  
is
 
NÚe
:

723 
¿i£
 
	`KeyE¼Ü
('Check "%s" ha nØdeçuÉ v®ue.' % 
check
)

724 
v®ue
 = 
£lf
.
	$_hªdË_nÚe
()

725 
v®ue
 
is
 
NÚe
:

726  
v®ue


727  
£lf
.
	$_check_v®ue
(
v®ue
, 
fun_Çme
, 
fun_¬gs
, 
fun_kw¬gs
)

730 
def
 
	$_is_num_·¿m
(
Çmes
, 
v®ues
, 
to_æßt
=
F®£
):

732 
R‘uº
 
numb”s
 
äom
 
šputs
 
Ü
 
¿i£
 
VdtP¬amE¼Ü
.

734 
L‘s
 ``
NÚe
`` 
·ss
 
through
.

735 
Pass
 
š
 
keywÜd
 
¬gum’t
 ``
to_æßt
=
True
`` 
to


736 
u£
 
the
 
cÚv”siÚ
 
¿th”
 
thª
 .

738 >>> 
	`_is_num_·¿m
(('', ''), (0, 1.0))

740 >>> 
	`_is_num_·¿m
(('', ''), (0, 1.0), 
to_æßt
=
True
)

742 >>> 
	`_is_num_·¿m
(('a'), ('a'))

743 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

744 
VdtP¬amE¼Ü
: 
·s£d
 
ª
 
šcÜ»ù
 
v®ue
 "a" 
·¿m‘”
 "a".

746 
fun
 = 
to_æßt
 
ªd
 
Ü
 

747 
out_·¿ms
 = []

748 
Çme
, 
v®
è
š
 
	$z
(
Çmes
, 
v®ues
):

749 
v®
 
is
 
NÚe
:

750 
out_·¿ms
.
	$­³nd
(
v®
)

751 
–if
 
	`isš¡ªû
(
v®
, (, , , 
ba£¡ršg
)):

752 
Œy
:

753 
out_·¿ms
.
	`­³nd
(
	$fun
(
v®
))

754 
exû±
 
V®ueE¼Ü
, 
e
:

755 
¿i£
 
	$VdtP¬amE¼Ü
(
Çme
, 
v®
)

757 
¿i£
 
	$VdtP¬amE¼Ü
(
Çme
, 
v®
)

758  
out_·¿ms


761 #buˆ
š
 
checks


762 #you 
ÿn
 
ov”ride
 
the£
 
by
 
£‰šg
 
the
 
­´İrŸ‹
 
Çme


763 #š 
V®id©Ü
.
funùiÚs


764 #nÙe: 
the
 
·¿ms
 
¬e
 
¥ecif›d
 
wrÚgly
 
š
 
your
 
šput
 
¡ršg
,

765 #you 
wl
 
®so
 
¿i£
 
”rÜs
.

767 
def
 
	$is_š‹g”
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

769 
A
 
check
 
th©
 
‹¡s
h© 
a
 
giv’
 
v®ue
 
is
 
ª
 
	$š‹g”
 (, 
Ü
 )

770 
ªd
 
İtiÚ®ly
, 
b‘w“n
 
bounds
. 
A
 
Ãg©ive
 
v®ue
 
is
 
acû±ed
, 

771 
a
 
wl
 
ç
.

773 
If
 
the
 
v®ue
 
is
 
a
 
¡ršg
, 
th’
h
cÚv”siÚ
 i 
dÚe
 - 
possibË
.

774 
Oth”wi£
 
a
 
VdtE¼Ü
 
is
 
¿i£d
.

776 >>> 
vtÜ
.
	`check
('integer', '-1')

778 >>> 
vtÜ
.
	`check
('integer', '0')

780 >>> 
vtÜ
.
	`check
('integer', 9)

782 >>> 
vtÜ
.
	`check
('integer', 'a')

783 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

784 
VdtTy³E¼Ü
: 
the
 
v®ue
 "a" 
is
 
of
h
wrÚg
 
ty³
.

785 >>> 
vtÜ
.
	`check
('integer', '2.2')

786 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

787 
VdtTy³E¼Ü
: 
the
 
v®ue
 "2.2" 
is
 
of
h
wrÚg
 
ty³
.

788 >>> 
vtÜ
.
	`check
('integer(10)', '20')

790 >>> 
vtÜ
.
	`check
('integer(max=20)', '15')

792 >>> 
vtÜ
.
	`check
('integer(10)', '9')

793 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

794 
VdtV®ueTooSm®lE¼Ü
: 
the
 
v®ue
 "9" 
is
 
too
 
sm®l
.

795 >>> 
vtÜ
.
	`check
('integer(10)', 9)

796 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

797 
VdtV®ueTooSm®lE¼Ü
: 
the
 
v®ue
 "9" 
is
 
too
 
sm®l
.

798 >>> 
vtÜ
.
	`check
('integer(max=20)', '35')

799 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

800 
VdtV®ueTooBigE¼Ü
: 
the
 
v®ue
 "35" 
is
 
too
 
big
.

801 >>> 
vtÜ
.
	`check
('integer(max=20)', 35)

802 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

803 
VdtV®ueTooBigE¼Ü
: 
the
 
v®ue
 "35" 
is
 
too
 
big
.

804 >>> 
vtÜ
.
	`check
('š‹g”(0, 9)', 
F®£
)

807 (
mš_v®
, 
max_v®
èğ
	`_is_num_·¿m
(('mš', 'max'), (
mš
, 
max
))

808 
nÙ
 
	`isš¡ªû
(
v®ue
, (, , 
ba£¡ršg
)):

809 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

810 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

811 #ià
™
's‡ string - does it„epresent‡n integer ?

812 
Œy
:

813 
v®ue
 = (value)

814 
exû±
 
V®ueE¼Ü
:

815 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

816 ià(
mš_v®
 
is
 
nÙ
 
NÚe
è
	`ªd
 (
v®ue
 < min_val):

817 
¿i£
 
	$VdtV®ueTooSm®lE¼Ü
(
v®ue
)

818 ià(
max_v®
 
is
 
nÙ
 
NÚe
è
	`ªd
 (
v®ue
 > max_val):

819 
¿i£
 
	$VdtV®ueTooBigE¼Ü
(
v®ue
)

820  
v®ue


823 
def
 
	$is_æßt
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

825 
A
 
check
 
th©
 
‹¡s
h© 
a
 
giv’
 
v®ue
 
is
‡ 

826 (
ª
 
š‹g”
 
wl
 
be
 
acû±ed
), 
ªd
 
İtiÚ®ly
 - 
th©
 
™
 
is
 
b‘w“n
 
bounds
.

828 
If
 
the
 
v®ue
 
is
 
a
 
¡ršg
, 
th’
h
cÚv”siÚ
 i 
dÚe
 - 
possibË
.

829 
Oth”wi£
 
a
 
VdtE¼Ü
 
is
 
¿i£d
.

831 
This
 
ÿn
 
acû±
 
Ãg©ive
 
v®ues
.

833 >>> 
vtÜ
.
	`check
('float', '2')

836 
From
 
now
 
Ú
 
we
 
muÉly
 
the
 
v®ue
 
to
 
avoid
 
com·ršg
 
decim®s


838 >>> 
vtÜ
.
	`check
('float', '-6.8') * 10

840 >>> 
vtÜ
.
	`check
('float', '12.2') * 10

842 >>> 
vtÜ
.
	`check
('float', 8.4) * 10

844 >>> 
vtÜ
.
	`check
('float', 'a')

845 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

846 
VdtTy³E¼Ü
: 
the
 
v®ue
 "a" 
is
 
of
h
wrÚg
 
ty³
.

847 >>> 
vtÜ
.
	`check
('float(10.1)', '10.2') * 10

849 >>> 
vtÜ
.
	`check
('float(max=20.2)', '15.1') * 10

851 >>> 
vtÜ
.
	`check
('float(10.0)', '9.0')

852 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

853 
VdtV®ueTooSm®lE¼Ü
: 
the
 
v®ue
 "9.0" 
is
 
too
 
sm®l
.

854 >>> 
vtÜ
.
	`check
('float(max=20.0)', '35.0')

855 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

856 
VdtV®ueTooBigE¼Ü
: 
the
 
v®ue
 "35.0" 
is
 
too
 
big
.

858 (
mš_v®
, 
max_v®
èğ
	`_is_num_·¿m
(

859 ('mš', 'max'), (
mš
, 
max
), 
to_æßt
=
True
)

860 
nÙ
 
	`isš¡ªû
(
v®ue
, (, , , 
ba£¡ršg
)):

861 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

862 
nÙ
 
	$isš¡ªû
(
v®ue
, ):

863 #ià
™
's‡ string - does it„epresent‡ float ?

864 
Œy
:

865 
v®ue
 = (value)

866 
exû±
 
V®ueE¼Ü
:

867 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

868 ià(
mš_v®
 
is
 
nÙ
 
NÚe
è
	`ªd
 (
v®ue
 < min_val):

869 
¿i£
 
	$VdtV®ueTooSm®lE¼Ü
(
v®ue
)

870 ià(
max_v®
 
is
 
nÙ
 
NÚe
è
	`ªd
 (
v®ue
 > max_val):

871 
¿i£
 
	$VdtV®ueTooBigE¼Ü
(
v®ue
)

872  
v®ue


875 
boŞ_diù
 = {

876 
True
: True, 'on': True, '1': True, 'true': True, 'yes': True,

877 
F®£
: False, 'off': False, '0': False, 'false': False, 'no': False,

878 
	}
}

881 
def
 
	$is_boŞ—n
(
v®ue
):

883 
Check
 
the
 
v®ue
 
»´e£Ás
 
a
 
boŞ—n
.

885 >>> 
vtÜ
.
	`check
('boolean', 0)

887 >>> 
vtÜ
.
	`check
('boŞ—n', 
F®£
)

889 >>> 
vtÜ
.
	`check
('boolean', '0')

891 >>> 
vtÜ
.
	`check
('boolean', 'off')

893 >>> 
vtÜ
.
	`check
('boolean', 'false')

895 >>> 
vtÜ
.
	`check
('boolean', 'no')

897 >>> 
vtÜ
.
	`check
('boolean', 'nO')

899 >>> 
vtÜ
.
	`check
('boolean', 'NO')

901 >>> 
vtÜ
.
	`check
('boolean', 1)

903 >>> 
vtÜ
.
	`check
('boŞ—n', 
True
)

905 >>> 
vtÜ
.
	`check
('boolean', '1')

907 >>> 
vtÜ
.
	`check
('boolean', 'on')

909 >>> 
vtÜ
.
	`check
('boolean', 'true')

911 >>> 
vtÜ
.
	`check
('boolean', 'yes')

913 >>> 
vtÜ
.
	`check
('boolean', 'Yes')

915 >>> 
vtÜ
.
	`check
('boolean', 'YES')

917 >>> 
vtÜ
.
	`check
('boolean', '')

918 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

919 
VdtTy³E¼Ü
: 
the
 
v®ue
 "" 
is
 
of
h
wrÚg
 
ty³
.

920 >>> 
vtÜ
.
	`check
('boolean', 'up')

921 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

922 
VdtTy³E¼Ü
: 
the
 
v®ue
 "up" 
is
 
of
h
wrÚg
 
ty³
.

925 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

926 
Œy
:

927  
boŞ_diù
[
v®ue
.
	`low”
()]

928 
exû±
 
KeyE¼Ü
:

929 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

930 #wdØ
ª
 
equ®™y
 
‹¡
 
¿th”
 
thª
‡À
id’t™y
est

931 #thi 
’su»s
 
PythÚ
 2.2 
com·tibty


932 #ªd 
®lows
 0 
ªd
 1 
to
 
»´e£Á
 
True
‡nd 
F®£


933 
v®ue
 =ğ
F®£
:

934  
F®£


935 
–if
 
v®ue
 =ğ
True
:

936  
True


938 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

941 
def
 
	$is__addr
(
v®ue
):

943 
Check
 
th©
 
the
 
suµl›d
 
v®ue
 
is
 
ª
 
IÁ”Ãt
 
PrÙocŞ
 
add»ss
, 
v
.4,

944 
»´e£Áed
 
by
 
a
 
dÙ‹d
-
quad
 
¡ršg
, 
i
.
e
. '1.2.3.4'.

946 >>> 
vtÜ
.
	`check
('ip_addr', '1 ')

948 >>> 
vtÜ
.
	`check
('ip_addr', ' 1.2')

950 >>> 
vtÜ
.
	`check
('ip_addr', ' 1.2.3 ')

952 >>> 
vtÜ
.
	`check
('ip_addr', '1.2.3.4')

954 >>> 
vtÜ
.
	`check
('ip_addr', '0.0.0.0')

956 >>> 
vtÜ
.
	`check
('ip_addr', '255.255.255.255')

958 >>> 
vtÜ
.
	`check
('ip_addr', '255.255.255.256')

959 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

960 
VdtV®ueE¼Ü
: 
the
 
v®ue
 "255.255.255.256" 
is
 
uÇcû±abË
.

961 >>> 
vtÜ
.
	`check
('ip_addr', '1.2.3.4.5')

962 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

963 
VdtV®ueE¼Ü
: 
the
 
v®ue
 "1.2.3.4.5" 
is
 
uÇcû±abË
.

964 >>> 
vtÜ
.
	`check
('ip_addr', 0)

965 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

966 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

968 
nÙ
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

969 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

970 
v®ue
 = v®ue.
	$¡r
()

971 
Œy
:

972 
	$dÙ‹dQuadToNum
(
v®ue
)

973 
exû±
 
V®ueE¼Ü
:

974 
¿i£
 
	$VdtV®ueE¼Ü
(
v®ue
)

975  
v®ue


978 
def
 
	$is_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

980 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
v®ues
.

982 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

984 
It
 
dÛs
 
no
 
check
 
Ú
 
li¡
 
memb”s
.

986 >>> 
vtÜ
.
	`check
('list', ())

988 >>> 
vtÜ
.
	`check
('list', [])

990 >>> 
vtÜ
.
	`check
('list', (1, 2))

992 >>> 
vtÜ
.
	`check
('list', [1, 2])

994 >>> 
vtÜ
.
	`check
('list(3)', (1, 2))

995 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

996 
VdtV®ueTooShÜtE¼Ü
: 
the
 
v®ue
 "(1, 2)" 
is
 
too
 .

997 >>> 
vtÜ
.
	`check
('list(max=5)', (1, 2, 3, 4, 5, 6))

998 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

999 
VdtV®ueTooLÚgE¼Ü
: 
the
 
v®ue
 "(1, 2, 3, 4, 5, 6)" 
is
 
too
 .

1000 >>> 
vtÜ
.
	`check
('list(min=3, max=5)', (1, 2, 3, 4))

1002 >>> 
vtÜ
.
	`check
('list', 0)

1003 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1004 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

1005 >>> 
vtÜ
.
	`check
('list', '12')

1006 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1007 
VdtTy³E¼Ü
: 
the
 
v®ue
 "12" 
is
 
of
h
wrÚg
 
ty³
.

1009 (
mš_Ën
, 
max_Ën
èğ
	`_is_num_·¿m
(('mš', 'max'), (
mš
, 
max
))

1010 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1011 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1012 
Œy
:

1013 
num_memb”s
 = 
	$Ën
(
v®ue
)

1014 
exû±
 
Ty³E¼Ü
:

1015 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1016 
mš_Ën
 
is
 
nÙ
 
NÚe
 
ªd
 
num_memb”s
 < min_len:

1017 
¿i£
 
	$VdtV®ueTooShÜtE¼Ü
(
v®ue
)

1018 
max_Ën
 
is
 
nÙ
 
NÚe
 
ªd
 
num_memb”s
 > max_len:

1019 
¿i£
 
	$VdtV®ueTooLÚgE¼Ü
(
v®ue
)

1020  
	$li¡
(
v®ue
)

1023 
def
 
	$is_tu¶e
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1025 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
tu¶e
 
of
 
v®ues
.

1027 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1029 
It
 
dÛs
 
no
 
check
 
Ú
 
memb”s
.

1031 >>> 
vtÜ
.
	`check
('tuple', ())

1033 >>> 
vtÜ
.
	`check
('tuple', [])

1035 >>> 
vtÜ
.
	`check
('tuple', (1, 2))

1037 >>> 
vtÜ
.
	`check
('tuple', [1, 2])

1039 >>> 
vtÜ
.
	`check
('tuple(3)', (1, 2))

1040 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1041 
VdtV®ueTooShÜtE¼Ü
: 
the
 
v®ue
 "(1, 2)" 
is
 
too
 .

1042 >>> 
vtÜ
.
	`check
('tuple(max=5)', (1, 2, 3, 4, 5, 6))

1043 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1044 
VdtV®ueTooLÚgE¼Ü
: 
the
 
v®ue
 "(1, 2, 3, 4, 5, 6)" 
is
 
too
 .

1045 >>> 
vtÜ
.
	`check
('tuple(min=3, max=5)', (1, 2, 3, 4))

1047 >>> 
vtÜ
.
	`check
('tuple', 0)

1048 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1049 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

1050 >>> 
vtÜ
.
	`check
('tuple', '12')

1051 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1052 
VdtTy³E¼Ü
: 
the
 
v®ue
 "12" 
is
 
of
h
wrÚg
 
ty³
.

1054  
	`tu¶e
(
	$is_li¡
(
v®ue
, 
mš
, 
max
))

1057 
def
 
	$is_¡ršg
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1059 
Check
 
th©
 
the
 
suµl›d
 
v®ue
 
is
 
a
 
¡ršg
.

1061 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1063 >>> 
vtÜ
.
	`check
('string', '0')

1065 >>> 
vtÜ
.
	`check
('string', 0)

1066 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1067 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

1068 >>> 
vtÜ
.
	`check
('string(2)', '12')

1070 >>> 
vtÜ
.
	`check
('string(2)', '1')

1071 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1072 
VdtV®ueTooShÜtE¼Ü
: 
the
 
v®ue
 "1" 
is
 
too
 .

1073 >>> 
vtÜ
.
	`check
('string(min=2, max=3)', '123')

1075 >>> 
vtÜ
.
	`check
('string(min=2, max=3)', '1234')

1076 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1077 
VdtV®ueTooLÚgE¼Ü
: 
the
 
v®ue
 "1234" 
is
 
too
 .

1079 
nÙ
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1080 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1081 (
mš_Ën
, 
max_Ën
èğ
	`_is_num_·¿m
(('mš', 'max'), (
mš
, 
max
))

1082 
Œy
:

1083 
num_memb”s
 = 
	$Ën
(
v®ue
)

1084 
exû±
 
Ty³E¼Ü
:

1085 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1086 
mš_Ën
 
is
 
nÙ
 
NÚe
 
ªd
 
num_memb”s
 < min_len:

1087 
¿i£
 
	$VdtV®ueTooShÜtE¼Ü
(
v®ue
)

1088 
max_Ën
 
is
 
nÙ
 
NÚe
 
ªd
 
num_memb”s
 > max_len:

1089 
¿i£
 
	$VdtV®ueTooLÚgE¼Ü
(
v®ue
)

1090  
v®ue


1093 
def
 
	$is_št_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1095 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
š‹g”s
.

1097 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1099 
Each
 
li¡
 
memb”
 
is
 
checked
 
th©
 
™
 i 
ª
 
š‹g”
.

1101 >>> 
vtÜ
.
	`check
('int_list', ())

1103 >>> 
vtÜ
.
	`check
('int_list', [])

1105 >>> 
vtÜ
.
	`check
('int_list', (1, 2))

1107 >>> 
vtÜ
.
	`check
('int_list', [1, 2])

1109 >>> 
vtÜ
.
	`check
('int_list', [1, 'a'])

1110 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1111 
VdtTy³E¼Ü
: 
the
 
v®ue
 "a" 
is
 
of
h
wrÚg
 
ty³
.

1113  [
	$is_š‹g”
(
mem
èmem 
š
 
	`is_li¡
(
v®ue
, 
mš
, 
max
)]

1116 
def
 
	$is_boŞ_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1118 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
boŞ—ns
.

1120 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1122 
Each
 
li¡
 
memb”
 
is
 
checked
 
th©
 
™
 i 
a
 
boŞ—n
.

1124 >>> 
vtÜ
.
	`check
('bool_list', ())

1126 >>> 
vtÜ
.
	`check
('bool_list', [])

1128 >>> 
check_»s
 = 
vtÜ
.
	`check
('boŞ_li¡', (
True
, 
F®£
))

1129 >>> 
check_»s
 =ğ[
True
, 
F®£
]

1131 >>> 
check_»s
 = 
vtÜ
.
	`check
('boŞ_li¡', [
True
, 
F®£
])

1132 >>> 
check_»s
 =ğ[
True
, 
F®£
]

1134 >>> 
vtÜ
.
	`check
('boŞ_li¡', [
True
, 'a'])

1135 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1136 
VdtTy³E¼Ü
: 
the
 
v®ue
 "a" 
is
 
of
h
wrÚg
 
ty³
.

1138  [
	$is_boŞ—n
(
mem
èmem 
š
 
	`is_li¡
(
v®ue
, 
mš
, 
max
)]

1141 
def
 
	$is_æßt_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1143 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
æßts
.

1145 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1147 
Each
 
li¡
 
memb”
 
is
 
checked
 
th©
 
™
 i 
a
 .

1149 >>> 
vtÜ
.
	`check
('float_list', ())

1151 >>> 
vtÜ
.
	`check
('float_list', [])

1153 >>> 
vtÜ
.
	`check
('float_list', (1, 2.0))

1155 >>> 
vtÜ
.
	`check
('float_list', [1, 2.0])

1157 >>> 
vtÜ
.
	`check
('float_list', [1, 'a'])

1158 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1159 
VdtTy³E¼Ü
: 
the
 
v®ue
 "a" 
is
 
of
h
wrÚg
 
ty³
.

1161  [
	$is_æßt
(
mem
èmem 
š
 
	`is_li¡
(
v®ue
, 
mš
, 
max
)]

1164 
def
 
	$is_¡ršg_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1166 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
¡ršgs
.

1168 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1170 
Each
 
li¡
 
memb”
 
is
 
checked
 
th©
 
™
 i 
a
 
¡ršg
.

1172 >>> 
vtÜ
.
	`check
('string_list', ())

1174 >>> 
vtÜ
.
	`check
('string_list', [])

1176 >>> 
vtÜ
.
	`check
('string_list', ('a', 'b'))

1178 >>> 
vtÜ
.
	`check
('string_list', ['a', 1])

1179 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1180 
VdtTy³E¼Ü
: 
the
 
v®ue
 "1" 
is
 
of
h
wrÚg
 
ty³
.

1181 >>> 
vtÜ
.
	`check
('string_list', 'hello')

1182 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1183 
VdtTy³E¼Ü
: 
the
 
v®ue
 "h–lo" 
is
 
of
h
wrÚg
 
ty³
.

1185 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1186 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1187  [
	$is_¡ršg
(
mem
èmem 
š
 
	`is_li¡
(
v®ue
, 
mš
, 
max
)]

1190 
def
 
	$is__addr_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1192 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
 
of
 
IP
 
add»s£s
.

1194 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1196 
Each
 
li¡
 
memb”
 
is
 
checked
 
th©
 
™
 i 
ª
 
IP
 
add»ss
.

1198 >>> 
vtÜ
.
	`check
('ip_addr_list', ())

1200 >>> 
vtÜ
.
	`check
('ip_addr_list', [])

1202 >>> 
vtÜ
.
	`check
('ip_addr_list', ('1.2.3.4', '5.6.7.8'))

1204 >>> 
vtÜ
.
	`check
('ip_addr_list', ['a'])

1205 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1206 
VdtV®ueE¼Ü
: 
the
 
v®ue
 "a" 
is
 
uÇcû±abË
.

1208  [
	$is__addr
(
mem
èmem 
š
 
	`is_li¡
(
v®ue
, 
mš
, 
max
)]

1211 
def
 
	$fÜû_li¡
(
v®ue
, 
mš
=
NÚe
, 
max
=None):

1213 
Check
 
th©
 
a
 
v®ue
 
is
‡ 
li¡
, 
cÛrcšg
 
¡ršgs
 
što


1214 
a
 
li¡
 
w™h
 
Úe
 
memb”
. 
U£ful
 
wh”e
 
u£rs
 
fÜg‘
 
the


1215 
Œašg
 
comma
 
th©
 
tuºs
 
a
 
sšgË
 
v®ue
 
što
‡ 
li¡
.

1217 
You
 
ÿn
 
İtiÚ®ly
 
¥ecify
 
the
 
mšimum
 
ªd
 
maximum
 
numb”
 
of
 
memb”s
.

1218 
A
 
mšumum
 
of
 
g»©”
 
thª
 
Úe
 
wl
 
ç
 
the
 
u£r
 
Úly
 
suµl›s
 
a


1219 
¡ršg
.

1221 >>> 
vtÜ
.
	`check
('force_list', ())

1223 >>> 
vtÜ
.
	`check
('force_list', [])

1225 >>> 
vtÜ
.
	`check
('force_list', 'hello')

1228 
nÙ
 
	`isš¡ªû
(
v®ue
, (
li¡
, 
tu¶e
)):

1229 
v®ue
 = [value]

1230  
	$is_li¡
(
v®ue
, 
mš
, 
max
)

1234 
fun_diù
 = {

1235 'š‹g”': 
is_š‹g”
,

1236 'æßt': 
is_æßt
,

1237 '_addr': 
is__addr
,

1238 '¡ršg': 
is_¡ršg
,

1239 'boŞ—n': 
is_boŞ—n
,

1240 
	}
}

1243 
def
 
	$is_mixed_li¡
(
v®ue
, *
¬gs
):

1245 
Check
 
th©
 
the
 
v®ue
 
is
 
a
 
li¡
.

1246 
AÎow
 
¥ecifyšg
 
the
 
ty³
 
of
 
—ch
 
memb”
.

1247 
WÜk
 
Ú
 
li¡s
 
of
 
¥ecific
 
Ëngths
.

1249 
You
 
¥ecify
 
—ch
 
memb”
 
as
 
a
 
pos™iÚ®
 
¬gum’t
 
¥ecifyšg
 
ty³


1251 
Each
 
ty³
 
should
 
be
 
Úe
 
of
 
the
 
fŞlowšg
 
¡ršgs
 :

1254 
So
 
you
 
ÿn
 
¥ecify
 
a
 
li¡
 
of
 
two
 
¡ršgs
, 
fŞlowed
 
by


1255 
two
 
š‹g”s
 
as
 :

1257 
	`mixed_li¡
('string', 'string', 'integer', 'integer')

1259 
The
 
Ëngth
 
of
 
the
 
li¡
 
mu¡
 
m©ch
h
numb”
 oà
pos™iÚ®


1260 
¬gum’ts
 
you
 
suµly
.

1262 >>> 
mix_¡r
 = "mixed_list('integer', 'float', 'ip_addr', 'string', 'boolean')"

1263 >>> 
check_»s
 = 
vtÜ
.
	`check
(
mix_¡r
, (1, 2.0, '1.2.3.4', 'a', 
True
))

1264 >>> 
check_»s
 =ğ[1, 2.0, '1.2.3.4', 'a', 
True
]

1266 >>> 
check_»s
 = 
vtÜ
.
	`check
(
mix_¡r
, ('1', '2.0', '1.2.3.4', 'a', 'True'))

1267 >>> 
check_»s
 =ğ[1, 2.0, '1.2.3.4', 'a', 
True
]

1269 >>> 
vtÜ
.
	`check
(
mix_¡r
, ('b', 2.0, '1.2.3.4', 'a', 
True
))

1270 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1271 
VdtTy³E¼Ü
: 
the
 
v®ue
 "b" 
is
 
of
h
wrÚg
 
ty³
.

1272 >>> 
vtÜ
.
	`check
(
mix_¡r
, (1, 2.0, '1.2.3.4', 'a'))

1273 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1274 
VdtV®ueTooShÜtE¼Ü
: 
the
 
v®ue
 "(1, 2.0, '1.2.3.4', 'a')" 
is
 
too
 .

1275 >>> 
vtÜ
.
	`check
(
mix_¡r
, (1, 2.0, '1.2.3.4', 'a', 1, 'b'))

1276 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1277 
VdtV®ueTooLÚgE¼Ü
: 
the
 
v®ue
 "(1, 2.0, '1.2.3.4', 'a', 1, 'b')" 
is
 
too
 .

1278 >>> 
vtÜ
.
	$check
(
mix_¡r
, 0)

1279 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1280 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

1282 
This
 
‹¡
 
»quœes
 
ª
 
–abÜ©e
 
£tup
, 
beÿu£
 
of
 
a
 
chªge
 
š
 
”rÜ
 
¡ršg


1283 
ouut
 
äom
 
the
 
š‹½»‹r
 
b‘w“n
 
PythÚ
 2.2 
ªd
 2.3 .

1285 >>> 
»s_£q
 = (

1290 >>> 
»s_¡r
 = "'".
	`još
(
»s_£q
)

1291 >>> 
Œy
:

1292 ... 
vtÜ
.
	`check
('mixed_list("yoda")', ('a'))

1293 ... 
exû±
 
VdtP¬amE¼Ü
, 
”r
:

1294 ... 
	`¡r
(
”r
è=ğ
»s_¡r


1297 
Œy
:

1298 
Ëngth
 = 
	$Ën
(
v®ue
)

1299 
exû±
 
Ty³E¼Ü
:

1300 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1301 
Ëngth
 < 
	$Ën
(
¬gs
):

1302 
¿i£
 
	$VdtV®ueTooShÜtE¼Ü
(
v®ue
)

1303 
–if
 
Ëngth
 > 
	$Ën
(
¬gs
):

1304 
¿i£
 
	$VdtV®ueTooLÚgE¼Ü
(
v®ue
)

1305 
Œy
:

1306  [
fun_diù
[
¬g
](
v®
è¬g, v® 
š
 
	`z
(
¬gs
, 
v®ue
)]

1307 
exû±
 
KeyE¼Ü
, 
e
:

1308 
¿i£
 
	`VdtP¬amE¼Ü
('mixed_li¡', 
e
)

1311 
def
 
	$is_İtiÚ
(
v®ue
, *
İtiÚs
):

1313 
This
 
check
 
m©ches
 
the
 
v®ue
 
to
 
ªy
 
of
 
a
 
£t
 oà
İtiÚs
.

1315 >>> 
vtÜ
.
	`check
('option("yoda", "jedi")', 'yoda')

1317 >>> 
vtÜ
.
	`check
('option("yoda", "jedi")', 'jed')

1318 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1319 
VdtV®ueE¼Ü
: 
the
 
v®ue
 "jed" 
is
 
uÇcû±abË
.

1320 >>> 
vtÜ
.
	`check
('option("yoda", "jedi")', 0)

1321 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1322 
VdtTy³E¼Ü
: 
the
 
v®ue
 "0" 
is
 
of
h
wrÚg
 
ty³
.

1324 
nÙ
 
	$isš¡ªû
(
v®ue
, 
ba£¡ršg
):

1325 
¿i£
 
	$VdtTy³E¼Ü
(
v®ue
)

1326 
nÙ
 
v®ue
 
š
 
İtiÚs
:

1327 
¿i£
 
	$VdtV®ueE¼Ü
(
v®ue
)

1328  
v®ue


1331 
def
 
	$_‹¡
(
v®ue
, *
¬gs
, **
keyw¬gs
):

1333 
A
 
funùiÚ
 
th©
 
exi¡s
 
‹¡
 
pu½o£s
.

1335 >>> 
checks
 = [

1348 ... '''3, max=3,e¡öi¡("'
a
'", '
b
', "x=(c)")''',

1351 >>> 
v
 = 
	`V®id©Ü
({'‹¡': 
_‹¡
})

1352 >>> 
’Œy
 
š
 
checks
:

1353 ... 
´št
 
v
.
check
(('‹¡(%s)' % 
’Œy
), 3)

1369 >>> 
v
 = 
V®id©Ü
()

1370 >>> 
v
.
check
('integer(default=6)', '3')

1372 >>> 
	gv
.
check
('š‹g”(deçuÉ=6)', 
NÚe
, 
True
)

1374 >>> 
	gv
.
g‘_deçuÉ_v®ue
('integer(default=6)')

1376 >>> 
	gv
.
g‘_deçuÉ_v®ue
('float(default=6)')

1378 >>> 
	gv
.
g‘_deçuÉ_v®ue
('pass(default=None)')

1379 >>> 
	gv
.
g‘_deçuÉ_v®ue
("string(default='None')")

1381 >>> 
	gv
.
g‘_deçuÉ_v®ue
('pass')

1382 
	$T¿ûback
 (
mo¡
 
»ûÁ
 
ÿÎ
 
Ï¡
):

1383 
KeyE¼Ü
: 'Check "pass" has‚o default value.'

1384 >>> 
v
.
	`g‘_deçuÉ_v®ue
('pass(default=list(1, 2, 3, 4))')

1387 >>> 
v
 = 
	`V®id©Ü
()

1388 >>> 
v
.
	`check
("·ss(deçuÉ=NÚe)", 
NÚe
, 
True
)

1389 >>> 
v
.
	`check
("·ss(deçuÉ='NÚe')", 
NÚe
, 
True
)

1391 >>> 
v
.
	`check
('·ss(deçuÉ="NÚe")', 
NÚe
, 
True
)

1393 >>> 
v
.
	`check
('·ss(deçuÉöi¡(1, 2, 3, 4))', 
NÚe
, 
True
)

1396 
Bug
 
‹¡
 
unicode
 
¬gum’ts


1397 >>> 
v
 = 
	`V®id©Ü
()

1398 >>> 
v
.
	`check
(
u
'string(min=4)', u'test')

1399 
u
'test'

1401 >>> 
v
 = 
	`V®id©Ü
()

1402 >>> 
v
.
	`g‘_deçuÉ_v®ue
(
u
'string(min=4, default="1234")')

1403 
u
'1234'

1404 >>> 
v
.
	`check
(
u
'string(min=4, default="1234")', u'test')

1405 
u
'test'

1407 >>> 
v
 = 
	`V®id©Ü
()

1408 >>>  = 
v
.
	`g‘_deçuÉ_v®ue
('string(default=None)')

1409 >>>  =ğ
NÚe


1412  (
v®ue
, 
¬gs
, 
keyw¬gs
)

1415 
def
 
	$_‹¡2
():

1418 >>> 
v
 = 
	`V®id©Ü
()

1419 >>> 
v
.
	`g‘_deçuÉ_v®ue
('string(default="#ff00dd")')

1421 >>> 
v
.
	`g‘_deçuÉ_v®ue
('integer(default=3) # comment')

1425 
def
 
	$_‹¡3
():

1426 
r
"""

1427 >>> 
vtÜ
.
	`check
('¡ršg(deçuÉ="")', '', 
missšg
=
True
)

1429 >>> 
vtÜ
.
	`check
('¡ršg(deçuÉ="\n")', '', 
missšg
=
True
)

1431 >>> 
´št
 
vtÜ
.
	`check
('¡ršg(deçuÉ="\n")', '', 
missšg
=
True
),

1432 <
BLANKLINE
>

1433 >>> 
vtÜ
.
	`check
('string()', '\n')

1435 >>> 
vtÜ
.
	`check
('¡ršg(deçuÉ="\n\n\n")', '', 
missšg
=
True
)

1437 >>> 
vtÜ
.
	`check
('string()', 'random \next goes here\n\n')

1439 >>> 
vtÜ
.
	`check
('string(default=" \nrandomext\ngoes \n here\n\n ")',

1440 ... '', 
missšg
=
True
)

1442 >>> 
vtÜ
.
	`check
("¡ršg(deçuÉ='\n\n\n')", '', 
missšg
=
True
)

1444 >>> 
vtÜ
.
	`check
("İtiÚ('\n','a','b',deçuÉ='\n')", '', 
missšg
=
True
)

1446 >>> 
vtÜ
.
	`check
("string_list()", ['foo', '\n', 'bar'])

1448 >>> 
vtÜ
.
	`check
("¡ršg_li¡(deçuÉöi¡('\n'))", '', 
missšg
=
True
)

1453 
__Çme__
 == '__main__':

1454 #ruÀ
the
 
code
 
‹¡s
 
š
 
doùe¡
 
fÜm©


1455 
impÜt
 
sys


1456 
impÜt
 
doùe¡


1457 
m
 = 
sys
.
moduËs
.
	`g‘
('__main__')

1458 
globs
 = 
m
.
__diù__
.
	$cİy
()

1459 
globs
.
	`upd©e
({

1460 'vtÜ': 
	`V®id©Ü
(),

1461 
	}
})

1462 
doùe¡
.
‹¡mod
(
m
, 
globs
=globs)

	@/home/zq/Project/terminator-0.96/terminatorlib/container.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
gobjeù


7 
impÜt
 
gtk


9 
äom
 
çùÜy
 
impÜt
 
FaùÜy


10 
äom
 
cÚfig
 
impÜt
 
CÚfig


11 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


12 
äom
 
Œª¦©iÚ
 
impÜt
 
_


13 
äom
 
sigÇlmª
 
impÜt
 
	gSigÇlmª


15 #pylšt: 
di§bË
-
msg
=
R0921


16 
şass
 
	$CÚš”
(
objeù
):

19 
‹rmš©Ü
 = 
NÚe


20 
immubË
 = 
NÚe


21 
chd»n
 = 
NÚe


22 
cÚfig
 = 
NÚe


23 
sigÇls
 = 
NÚe


24 
sigÇlmª
 = 
NÚe


26 
def
 
	$__š™__
(
£lf
):

28 
£lf
.
chd»n
 = []

29 
£lf
.
sigÇls
 = []

30 
£lf
.
úxids
 = 
	$SigÇlmª
()

31 
£lf
.
cÚfig
 = 
	$CÚfig
()

33 
def
 
	$»gi¡”_sigÇls
(
£lf
, 
widg‘
):

35 
exi¡šg
 = 
gobjeù
.
	$sigÇl_li¡_Çmes
(
widg‘
)

36 
sigÇl
 
š
 
£lf
.
sigÇls
:

37 
sigÇl
['Çme'] 
š
 
exi¡šg
:

38 
	`dbg
('Container:: skipping signal %s for %s,‡lreadyƒxists' % (

39 
sigÇl
['Çme'], 
widg‘
))

41 
	`dbg
('Container::„egistering signal for %s on %s' %

42 (
sigÇl
['Çme'], 
widg‘
))

43 
Œy
:

44 
gobjeù
.
	`sigÇl_Ãw
(
sigÇl
['name'],

45 
widg‘
,

46 
sigÇl
['flags'],

47 
sigÇl
['return_type'],

48 
sigÇl
['param_types'])

49 
exû±
 
RuÁimeE¼Ü
:

50 
	`”r
('Container::„egistering signal for %s on %s failed' %

51 (
sigÇl
['Çme'], 
widg‘
))

53 
def
 
	$cÚÃù_chd
(
£lf
, 
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
):

55 
£lf
.
úxids
.
	$Ãw
(
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
)

58 
def
 
	$discÚÃù_chd
(
£lf
, 
widg‘
):

60 
£lf
.
úxids
.
	$»move_widg‘
(
widg‘
)

62 
def
 
	$g‘_off¥ršg
(
£lf
):

64 (
£lf
.
chd»n
)

66 
def
 
	$g‘_chd_m‘ad©a
(
£lf
, 
widg‘
):

68 
chd
 
is
 .
	$»move
()
d
 
ªd
 .
	$add
()
ed
"""

69  
NÚe


71 
def
 
	$¥l™_hÜiz
(
£lf
, 
widg‘
, 
cwd
=
NÚe
):

73 (
£lf
.
	$¥l™_axis
(
widg‘
, 
True
, 
cwd
))

75 
def
 
	$¥l™_v”t
(
£lf
, 
widg‘
, 
cwd
=
NÚe
):

77 (
£lf
.
	$¥l™_axis
(
widg‘
, 
F®£
, 
cwd
))

79 
def
 
	$¥l™_axis
(
£lf
, 
widg‘
, 
v”tiÿl
=
True
, 
cwd
=
NÚe
, 
siblšg
=NÚe, 
siblšgÏ¡
=None):

81 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('split_axis')

83 
def
 
	$add
(
£lf
, 
widg‘
, 
m‘ad©a
=
NÚe
):

85 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('add')

87 
def
 
	$»move
(
£lf
, 
widg‘
):

89 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('remove')

91 
def
 
	$»¶aû
(
£lf
, 
Şdwidg‘
, 
Ãwwidg‘
):

93 
»quœed
 
this
 
İ”©iÚ
. 
CÚš”s
 
should
 
ov”ride
 
™
 
they
 
have


94 
mÜe
 
com¶ex
 
»quœem’ts
"""

95 
nÙ
 
Şdwidg‘
 
š
 
£lf
.
	$g‘_chd»n
():

96 
	`”r
('% i nÙ‡ chd oà%s' % (
Şdwidg‘
, 
£lf
))

98 
£lf
.
	$»move
(
Şdwidg‘
)

99 
£lf
.
	$add
(
Ãwwidg‘
)

101 
def
 
	$hoov”
(
£lf
):

103 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('hoover')

105 
def
 
	$g‘_chd»n
(
£lf
):

107 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('get_children')

109 
def
 
	$şo£‹rm
(
£lf
, 
widg‘
):

111 
Œy
:

112 
£lf
.
	`g‘_´İ”ty
('term_zoomed'):

114 
	`dbg
('Container::closeterm:erminal zoomed, unzooming')

115 
£lf
.
	$unzoom
(
widg‘
)

116 
widg‘
.
	$şo£
()

117 (
True
)

118 
exû±
 
Ty³E¼Ü
:

119 
·ss


121 
nÙ
 
£lf
.
	$»move
(
widg‘
):

122 
	`dbg
('CÚš”::şo£‹rm: s–f.»move(èçed fÜ %s' % 
widg‘
)

123 (
F®£
)

125 
£lf
.
‹rmš©Ü
.
	$d”egi¡”_‹rmš®
(
widg‘
)

126 
£lf
.
‹rmš©Ü
.
	$group_hoov”
()

127 (
True
)

129 
def
 
	$»siz‘”m
(
£lf
, 
widg‘
, 
keyÇme
):

131 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('resizeterm')

133 
def
 
	$toggË_zoom
(
£lf
, 
widg‘
, 
fÚtsÿË
 = 
F®£
):

135 
Œy
:

136 
£lf
.
	`g‘_´İ”ty
('term_zoomed'):

137 
£lf
.
	$unzoom
(
widg‘
)

139 
£lf
.
	$zoom
(
widg‘
, 
fÚtsÿË
)

140 
exû±
 
Ty³E¼Ü
:

141 
	`”r
('CÚš”::toggË_zoom: % i uÇbËØhªdË zoomšg, fÜ \
%s' % (
£lf
, 
widg‘
))

144 
def
 
	$zoom
(
£lf
, 
widg‘
, 
fÚtsÿË
 = 
F®£
):

146 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('zoom')

148 
def
 
	$unzoom
(
£lf
, 
widg‘
):

150 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('unzoom')

152 
def
 
	$cÚ¡ruù_cÚfœm_şo£
(
£lf
, 
wšdow
, 
»qty³
):

154 
dŸlog
 = 
gtk
.
	`DŸlog
(
	`_
('Clo£?'), 
wšdow
, gtk.
DIALOG_MODAL
)

155 
dŸlog
.
	$£t_has_£·¿tÜ
(
F®£
)

156 
dŸlog
.
	$£t_»sizabË
(
F®£
)

158 
dŸlog
.
	$add_bu‰Ú
(
gtk
.
STOCK_CANCEL
, gtk.
RESPONSE_REJECT
)

159 
c_®l
 = 
dŸlog
.
	$add_bu‰Ú
(
gtk
.
STOCK_CLOSE
, gtk.
RESPONSE_ACCEPT
)

160 
c_®l
.
	`g‘_chd»n
()[0].g‘_chd»n()[0].g‘_chd»n()[1].
	`£t_Ïb–
(

161 
	`_
('Close _Terminals'))

163 
´im¬y
 = 
gtk
.
	`Lab–
(
	`_
('<big><b>Close multipleerminals?</b></big>'))

164 
´im¬y
.
	$£t_u£_m¬kup
(
True
)

165 
´im¬y
.
	$£t_®ignm’t
(0, 0.5)

166 
£cÚd¬y
 = 
gtk
.
	`Lab–
(
	`_
('Thi % ha £v”®”mš® İ’. Closšg \
 % wÈ®sØşo£‡Î”mš® w™hš it.'è% (
»qty³
,„eqtype))

168 
£cÚd¬y
.
	$£t_lše_w¿p
(
True
)

170 
Ïb–s
 = 
gtk
.
	$VBox
()

171 
Ïb–s
.
	$·ck_¡¬t
(
´im¬y
, 
F®£
, False, 6)

172 
Ïb–s
.
	$·ck_¡¬t
(
£cÚd¬y
, 
F®£
, False, 6)

174 
image
 = 
gtk
.
	$image_Ãw_äom_¡ock
(
gtk
.
STOCK_DIALOG_WARNING
,

175 
gtk
.
ICON_SIZE_DIALOG
)

176 
image
.
	$£t_®ignm’t
(0.5, 0)

178 
box
 = 
gtk
.
	$HBox
()

179 
box
.
	$·ck_¡¬t
(
image
, 
F®£
, False, 6)

180 
box
.
	$·ck_¡¬t
(
Ïb–s
, 
F®£
, False, 6)

181 
dŸlog
.
vbox
.
	$·ck_¡¬t
(
box
, 
F®£
, False, 12)

183 
dŸlog
.
	$show_®l
()

184 (
dŸlog
)

186 
def
 
	$´İag©e_t™Ë_chªge
(
£lf
, 
widg‘
, 
t™Ë
):

188 
mak”
 = 
	$FaùÜy
()

189 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

190 
t™Ë
 = 
widg‘
.
	$g‘_wšdow_t™Ë
()

192 
mak”
.
	`isš¡ªû
(
£lf
, 'Notebook'):

193 
£lf
.
	$upd©e_b_Ïb–_‹xt
(
widg‘
, 
t™Ë
)

194 
–if
 
mak”
.
	`isš¡ªû
(
£lf
, 'Window'):

195 
£lf
.
t™Ë
.
	$£t_t™Ë
(
widg‘
, 
t™Ë
)

197 
mak”
.
	`isš¡ªû
(
·»Á
, 'Container'):

198 
·»Á
.
	$´İag©e_t™Ë_chªge
(
widg‘
, 
t™Ë
)

200 
def
 
	$g‘_visibË_‹rmš®s
(
£lf
):

202 
ªy
 
‹rmš®s
 
which
 
¬e
 
nÙ
 
hidd’
 
š
 
ªÙh”
 
NÙebook
 
·Ã
"""

203 
nÙ
 
	`ha§‰r
(
£lf
, 'cached_maker'):

204 
£lf
.
ÿched_mak”
 = 
	$FaùÜy
()

205 
mak”
 = 
£lf
.
ÿched_mak”


206 
‹rmš®s
 = {
	}
}

208 
chd
 
š
 
£lf
.
	$g‘_off¥ršg
():

209 
nÙ
 
chd
:

211 
mak”
.
	`isš¡ªû
(
chd
, 'Terminal'):

212 
‹rmš®s
[
chd
] = chd.
	$g‘_®loÿtiÚ
()

213 
–if
 
mak”
.
	`isš¡ªû
(
chd
, 'Container'):

214 
‹rmš®s
.
	`upd©e
(
chd
.
	$g‘_visibË_‹rmš®s
())

216 
	`”r
('UnknowÀchdy³ %s' % 
	$ty³
(
chd
))

218 (
‹rmš®s
)

220 
def
 
	$desüibe_Ïyout
(
£lf
, 
couÁ
, 
·»Á
, 
glob®_Ïyout
, 
chd_Üd”
):

222 
Ïyout
 = {
	}
}

223 
mak”
 = 
	$FaùÜy
()

224 
myty³
 = 
mak”
.
	$ty³
(
£lf
)

225 
nÙ
 
myty³
:

226 
	`”r
('uÇbËØd‘emšowÀty³. %s' % 
£lf
)

227 ({
	}
})

229 
Ïyout
['ty³'] = 
myty³


230 
Ïyout
['·»Á'] = 
·»Á


231 
Ïyout
['Üd”'] = 
chd_Üd”


233 
ha§‰r
(
£lf
, 'get_position'):

234 
pos™iÚ
 = 
£lf
.
	$g‘_pos™iÚ
()

235 
	`ha§‰r
(
pos™iÚ
, '__iter__'):

236 
pos™iÚ
 = ':'.
	`još
([
	$¡r
(
x
èx 
š
 
pos™iÚ
])

237 
Ïyout
['pos™iÚ'] = 
pos™iÚ


239 
	`ha§‰r
(
£lf
, 'get_size'):

240 
Ïyout
['size'] = 
£lf
.
	$g‘_size
()

242 
Ïb–s
 = []

243 
myty³
 == 'Notebook':

244 
bnum
 
š
 
	`x¿nge
(0, 
£lf
.
	$g‘_n_·ges
()):

245 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
bnum
)

246 
Ïb–
 = 
£lf
.
	$g‘_b_Ïb–
(
·ge
)

247 
Ïb–s
.
	`­³nd
(
Ïb–
.
	$g‘_cu¡om_Ïb–
())

248 
	`Ën
(
Ïb–s
) > 0:

249 
Ïyout
['Ïb–s'] = 
Ïb–s


251 
Çme
 = 'chd%d' % 
couÁ


252 
couÁ
 = count + 1

254 
glob®_Ïyout
[
Çme
] = 
Ïyout


256 
chd_Üd”
 = 0

257 
chd
 
š
 
£lf
.
	$g‘_chd»n
():

258 
	`ha§‰r
(
chd
, 'describe_layout'):

259 
couÁ
 = 
chd
.
	$desüibe_Ïyout
(
couÁ
, 
Çme
, 
glob®_Ïyout
, 
chd_Üd”
)

260 
chd_Üd”
 = child_order + 1

262 (
couÁ
)

264 
def
 
	$ü—‹_Ïyout
(
£lf
, 
Ïyout
):

266 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('create_layout')

268 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/cwd.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 >>> 
	gcwd
 = 
g‘_deçuÉ_cwd
()

7 >>> 
cwd
.
__şass__
.
__Çme__


9 >>> 
func
 = 
g‘_pid_cwd
()

10 >>> 
func
.
__şass__
.
__Çme__


15 
impÜt
 
¶©fÜm


16 
impÜt
 
os


17 
impÜt
 
pwd


18 
äom
 
ut
 
impÜt
 
dbg
, 
”r


20 
def
 
	$g‘_deçuÉ_cwd
():

22 
cwd
 = 
os
.
	$g‘cwd
()

23 
nÙ
 
os
.
·th
.
	$exi¡s
(
cwd
è
Ü
 
nÙ
 
os
.
·th
.
	$isdœ
(
cwd
):

24 
Œy
:

25 
cwd
 = 
pwd
.
	`g‘pwuid
(
os
.
	`g‘uid
())[5]

26 
exû±
 
KeyE¼Ü
:

27 
cwd
 = '/'

29 (
cwd
)

31 
def
 
	$g‘_pid_cwd
():

34 
func
 = 
Ïmbda
 
pid
: 
NÚe


35 
sy¡em
 = 
¶©fÜm
.
	$sy¡em
()

37 
sy¡em
 == 'Linux':

38 
	`dbg
('Using Linux get_pid_cwd')

39 
func
 = 
lšux_g‘_pid_cwd


40 
–if
 
sy¡em
 == 'FreeBSD':

41 
Œy
:

42 
impÜt
 
ä“bsd


43 
func
 = 
ä“bsd
.
g‘_´oûss_cwd


44 
	`dbg
('Using FreeBSD get_pid_cwd')

45 
	$exû±
 (
OSE¼Ü
, 
NÙIm¶em’‹dE¼Ü
, 
ImpÜtE¼Ü
):

46 
	`dbg
('FreeBSD versionoo old for get_pid_cwd')

47 
–if
 
sy¡em
 == 'SunOS':

48 
	`dbg
('Using SunOS get_pid_cwd')

49 
func
 = 
sunos_g‘_pid_cwd


51 
	`dbg
('UÇbËØd‘”mš¨g‘_pid_cwd fÜ OS: %s' % 
sy¡em
)

53 (
func
)

55 
def
 
	$´oc_g‘_pid_cwd
(
pid
, 
·th
):

57 
š£¹
 
™
 
što
, 
e
.
g
. /
´oc
/%
s
/
cwd
"""

58 
Œy
:

59 
cwd
 = 
os
.
·th
.
	`»®·th
Õ©h % 
pid
)

60 
exû±
 
Exû±iÚ
, 
ex
:

61 
	`”r
('UÇbËØg‘ cwd fÜ PID %s: %s' % (
pid
, 
ex
))

62 
cwd
 = '/'

64 (
cwd
)

66 
def
 
	$lšux_g‘_pid_cwd
(
pid
):

68 (
	`´oc_g‘_pid_cwd
(
pid
, '/proc/%s/cwd'))

70 
def
 
	$sunos_g‘_pid_cwd
(
pid
):

72 (
	`´oc_g‘_pid_cwd
(
pid
, '/proc/%s/path/cwd'))

74 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/debugserver.py

1 #!/
u¤
/
bš
/
pythÚ


2 #
#Cİyrighˆ(
c
è2008, 
Thomas
 
Hur¡
 <
tom
@
hur
.
¡
>

3 #
#U£ 
of
 
this
 
fe
 
is
 
uÄe¡riùed
 
´ovided
hi 
nÙiû
 i 
»šed
.

4 #Ià
you
 
u£
 
™
, it'd be‚ice if you dropped me‡‚ote. Also beer.

6 
äom
 
	g‹rmš©Ülib
.
ut
 
impÜt
 
	gdbg
, 
”r


7 
äom
 
	g‹rmš©Ülib
.
v”siÚ
 
impÜt
 
	gAPP_NAME
, 
APP_VERSION


9 
impÜt
 
sock‘


10 
impÜt
 
th»adšg


11 
impÜt
 
Sock‘S”v”


12 
impÜt
 
code


13 
impÜt
 
sys


14 
impÜt
 
»adlše


15 
impÜt
 
¾com¶‘”


16 
impÜt
 
»


18 
def
 
	$ddbg
(
msg
):

19 #uncomm’ˆ
this
 
to
 
g‘
 
lÙs
 
of
 
¥am
 
äom
 
debug£rv”


21 
	$dbg
(
msg
)

23 
şass
 
	$PythÚCÚsŞeS”v”
(
Sock‘S”v”
.
Ba£Reque¡HªdËr
):

24 
’v
 = 
NÚe


25 
def
 
	$£tup
(
£lf
):

26 
	`dbg
('debug£rv”: cÚÃù from %s' % 
	$¡r
(
£lf
.
ş›Á_add»ss
))

27 
	`ddbg
('debug£rv”:ƒnv=%r' % 
PythÚCÚsŞeS”v”
.
’v
)

28 
£lf
.
cÚsŞe
 = 
	$T”mš©ÜCÚsŞe
(
PythÚCÚsŞeS”v”
.
’v
)

30 
def
 
	$hªdË
(
£lf
):

31 
	`ddbg
("debugserver: handling")

32 
Œy
:

33 
£lf
.
sock‘io
 = s–f.
»que¡
.
	$makefe
()

34 
sys
.
¡dout
 = 
£lf
.
sock‘io


35 
sys
.
¡dš
 = 
£lf
.
sock‘io


36 
sys
.
¡d”r
 = 
£lf
.
sock‘io


37 
£lf
.
cÚsŞe
.
	$run
(
£lf
)

38 
fš®ly
:

39 
sys
.
¡dout
 = sys.
__¡dout__


40 
sys
.
¡dš
 = sys.
__¡dš__


41 
sys
.
¡d”r
 = sys.
__¡d”r__


42 
£lf
.
sock‘io
.
	$şo£
()

43 
	`ddbg
("debugserver: done handling")

45 
def
 
	$v”ify_»que¡
(
£lf
, 
»que¡
, 
ş›Á_add»ss
):

46  
True


48 
def
 
	$fšish
(
£lf
):

49 
	`ddbg
('debug£rv”: discÚÃù from %s' % 
	$¡r
(
£lf
.
ş›Á_add»ss
))

51 #rfc1116/
rfc1184


52 
LINEMODE
 = 
	$chr
(34è#Lšemod
ÃgÙŸtiÚ


54 
NULL
 = 
	$chr
(0)

55 
ECHO
 = 
	$chr
(1)

56 
CR
 = 
	$chr
(13)

57 
LF
 = 
	$chr
(10)

58 
SE
 = 
	$chr
(240è#End 
subÃgÙŸtiÚ


59 
NOP
 = 
	$chr
(241)

60 
DM
 = 
	$chr
(242è#D©¨
M¬k


61 
BRK
 = 
	$chr
(243) #Break

62 
IP
 = 
	$chr
(244è#IÁ”ru± 
Proûss


63 
AO
 = 
	$chr
(245è#AbÜˆ
Ouut


64 
AYT
 = 
	$chr
(246è#A» 
You
 
Th”e


65 
EC
 = 
	$chr
(247è#E¿£ 
Ch¬aù”


66 
EL
 = 
	$chr
(248è#E¿£ 
Lše


67 
GA
 = 
	$chr
(249è#GØ
Ah—d


68 
SB
 = 
	$chr
(250è#SubÃgÙŸtiÚ 
fŞlows


69 
WILL
 = 
	$chr
(251è#SubÃgÙŸtiÚ 
commªds


70 
WONT
 = 
	$chr
(252)

71 
DO
 = 
	$chr
(253)

72 
DONT
 = 
	$chr
(254)

73 
IAC
 = 
	$chr
(255è#IÁ”´‘ 
As
 
Commªd


75 
UIAC
 = '(^|[^' + 
IAC
 + '])' + IAC #Unescaped IAC

76 
B¬eLF
 = 
»
.
	`compe
('([^' + 
CR
 + '])' + CR)

77 
DoDÚt
 = 
»
.
	`compe
(
UIAC
 +'[' + 
DO
 + 
DONT
 + '](.)')

78 
WlWÚt
 = 
»
.
	`compe
(
UIAC
 + '[' + 
WILL
 + 
WONT
 + '](.)')

79 
A»YouTh”e
 = 
»
.
	`compe
(
UIAC
 + 
AYT
)

80 
IpT–Ãt
 = 
»
.
	`compe
(
UIAC
 + 
IP
)

81 
Oth”T–Ãt
 = 
»
.
	`compe
(
UIAC
 + '[^' + 
IAC
 + ']')

83 #S“ 
h‰p
:

84 #PythÚ 
dÛ¢
't makehis‡nƒspecially‚eat conversion :(

85 
şass
 
	$T”mš©ÜCÚsŞe
(
code
.
IÁ”aùiveCÚsŞe
):

86 
def
 
	$·r£_‹Ê‘
(
£lf
, 
d©a
):

87 
od©a
 = 
d©a


88 
d©a
 = 
»
.
	`sub
(
B¬eLF
, '\\1', data)

89 
d©a
 = d©a.
	`»¶aû
(
CR
 + 
NULL
, '')

90 
d©a
 = d©a.
	`»¶aû
(
NULL
, '')

92 
b™s
 = 
»
.
	$fšd®l
(
DoDÚt
, 
d©a
)

93 
	`ddbg
("b™ ğ%r" % 
b™s
)

94 
b™s
:

95 
d©a
 = 
»
.
	`sub
(
DoDÚt
, '\\1', data)

96 
	`ddbg
("telnet: DO/DON'T‡nswer")

97 #ªsw” 
DO
 
ªd
 
DON
'T w™h WON'
T


98 
b™
 
š
 
b™s
:

99 
£lf
.
	`wr™e
(
IAC
 + 
WONT
 + 
b™
[1])

101 
b™s
 = 
»
.
	$fšd®l
(
WlWÚt
, 
d©a
)

102 
b™s
:

103 
d©a
 = 
»
.
	`sub
(
WlWÚt
, '\\1', data)

104 
	`ddbg
("telnet: WILL/WON'T‡nswer")

105 
b™
 
š
 
b™s
:

106 #ªsw” 
WILLs
 
ªd
 
WON
'T w™h DON'
Ts


107 
£lf
.
	`wr™e
(
IAC
 + 
DONT
 + 
b™
[1])

109 
b™s
 = 
»
.
	$fšd®l
(
A»YouTh”e
, 
d©a
)

110 
b™s
:

111 
	`ddbg
("telnet:‡m Ihere‡nswer")

112 
d©a
 = 
»
.
	`sub
(
A»YouTh”e
, '\\1', data)

113 
b™
 
š
 
b™s
:

114 
£lf
.
	`wr™e
("Yes, I'm still here, Ihink.\n")

116 (
d©a
, 
š‹¼u±s
èğ
»
.
	`subn
(
IpT–Ãt
, '\\1', data)

117 
š‹¼u±s
:

118 
	`ddbg
("debugserver: Ctrl-C detected")

119 
¿i£
 
KeybßrdIÁ”ru±


121 
d©a
 = 
»
.
	`sub
(
Oth”T–Ãt
, '\\1', d©aè#ªd 
ªy
 
Ùh”
 
T–Ãt
 
codes


122 
d©a
 = d©a.
	`»¶aû
(
IAC
 + IAC, IACè#ªd 
hªdË
 
esÿ³s


124 
d©a
 !ğ
od©a
:

125 
	`ddbg
("debug£rv”: R•Ïûd %¸w™h %r" % (
od©a
, 
d©a
))

127  
d©a


129 
def
 
	$¿w_šput
(
£lf
, 
´om±
 = 
NÚe
):

130 
	`ddbg
("debug£rv”:„aw_špuˆ´om± = %r" % 
´om±
)

131 
´om±
:

132 
£lf
.
	$wr™e
(
´om±
)

134 
buf
 = ''

135 
comp¡©e
 = 0

136 
True
:

137 
d©a
 = 
£lf
.
£rv”
.
sock‘io
.
	$»ad
(1)

138 
	`ddbg
('¿w_šput: ch¬=%r' % 
d©a
)

139 
d©a
 =ğ
LF
 
Ü
 data == '\006':

140 
buf
 = 
£lf
.
	`·r£_‹Ê‘
(buà+ 
d©a
)

141 
buf
 != '':

142  
buf


143 
–if
 
d©a
 =ğ'\004' 
Ü
 d©¨=ğ'': #^
D


144 
¿i£
 
EOFE¼Ü


146 
buf
 +ğ
d©a


148 
def
 
	$wr™e
(
£lf
, 
d©a
):

149 
	`ddbg
("debug£rv”: wr™%r" % 
d©a
)

150 
£lf
.
£rv”
.
sock‘io
.
	$wr™e
(
d©a
)

151 
£lf
.
£rv”
.
sock‘io
.
	$æush
()

153 
def
 
	$run
(
£lf
, 
£rv”
):

154 
£lf
.
£rv”
 = server

156 
£lf
.
	`wr™e
("W–comtØth%s-% debug s”v”, hav¨niû sy\n" % (
APP_NAME
, 
APP_VERSION
))

157 
£lf
.
	$š‹¿ù
()

158 
Œy
:

159 
£lf
.
	`wr™e
("Timeo go. Bye!\n")

160 
exû±
:

161 
·ss


164 
def
 
	$¥awn
(
’v
):

165 
PythÚCÚsŞeS”v”
.
’v
 =ƒnv

166 
tı£rv”
 = 
Sock‘S”v”
.
	`TCPS”v”
(('127.0.0.1', 0), 
PythÚCÚsŞeS”v”
)

167 
	`dbg
("debug£rv”:†i¡’šg oÀ%s" % 
	$¡r
(
tı£rv”
.
£rv”_add»ss
))

168 
debug£rv”
 = 
th»adšg
.
	`Th»ad
(
rg‘
=
tı£rv”
.
£rve_fÜev”
, 
Çme
="DebugServer")

169 
debug£rv”
.
	$£tD«mÚ
(
True
)

170 
debug£rv”
.
	$¡¬t
()

171 (
debug£rv”
, 
tı£rv”
)

	@/home/zq/Project/terminator-0.96/terminatorlib/editablelabel.py

1 #!/
u¤
/
bš
/
’v
 
pythÚ


2 #vim: 
b¡İ
=4 
soáb¡İ
=4 
shiáwidth
=4 
ex·ndb


3 #
#Cİyrighˆ(
c
è2009, 
Emmªu–
 
B»‹Îe
 <
chªŒa
@
debuÁu
.
Üg
>

4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ


14 #, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
impÜt
 
gtk


18 
impÜt
 
gobjeù


20 
şass
 
	$Ed™abËLab–
(
gtk
.
Ev’tBox
):

21 #pylšt: 
di§bË
-
msg
=
W0212


22 #pylšt: 
di§bË
-
msg
=
R0904


24 
An
 
ev’tbox
 
th©
 
·¹Ÿly
 
emuÏ‹
 
a
 
gtk
.
Lab–


25 
On
 -
şick
, 
the
 
Ïb–
 
is
 
ed™abË
, 
’‹ršg
 
ª
 
em±y
 
wl
 
»v”t
 
back
 
to
 
autom©ic
 
‹xt


27 
_Ïb–
 = 
NÚe


28 
_ebox
 = 
NÚe


29 
_autÙext
 = 
NÚe


30 
_cu¡om
 = 
NÚe


31 
_’Œy
 = 
NÚe


32 
_’Œy_hªdËr_id
 = 
NÚe


34 
__gsigÇls__
 = {

35 'ed™-dÚe': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

36 
	}
}

38 
def
 
__š™__
(
£lf
, 
‹xt
 = ""):

40 
gtk
.
Ev’tBox
.
	$__š™__
(
£lf
)

41 
£lf
.
	$__gobjeù_š™__
()

43 
£lf
.
_’Œy_hªdËr_id
 = []

44 
£lf
.
_Ïb–
 = 
gtk
.
	$Lab–
(
‹xt
)

45 
£lf
.
_cu¡om
 = 
F®£


46 
£lf
.
	$£t_visibË_wšdow
 (
F®£
)

47 
£lf
.
	$add
 (
£lf
.
_Ïb–
)

48 
£lf
.
	`cÚÃù
 ("bu‰Ú-´ess-ev’t", s–f.
_Ú_şick_‹xt
)

50 
def
 
	$£t_ªgË
(
£lf
, 
ªgË
 ):

52 
£lf
.
_Ïb–
.
	$£t_ªgË
Ğ
ªgË
 )

54 
def
 
	$ed™šg
(
£lf
):

56 (
£lf
.
_’Œy
 !ğ
NÚe
)

58 
def
 
	$£t_‹xt
(
£lf
, 
‹xt
, 
fÜû
=
F®£
):

60 
£lf
.
_autÙext
 = 
‹xt


61 
nÙ
 
£lf
.
_cu¡om
 
Ü
 
fÜû
:

62 
£lf
.
_Ïb–
.
	$£t_‹xt
(
‹xt
)

64 
def
 
	$g‘_‹xt
(
£lf
):

66 (
£lf
.
_Ïb–
.
	$g‘_‹xt
())

68 
def
 
	$_Ú_şick_‹xt
(
£lf
, 
widg‘
, 
ev’t
):

69 #pylšt: 
di§bË
-
msg
=
W0613


71 
ev’t
.
ty³
 =ğ
gtk
.
gdk
.
_2BUTTON_PRESS
:

72 
£lf
.
	$»move
 (
£lf
.
_Ïb–
)

73 
£lf
.
_’Œy
 = 
gtk
.
	$EÁry
 ()

74 
£lf
.
_’Œy
.
	`£t_‹xt
 (£lf.
_Ïb–
.
	$g‘_‹xt
 ())

75 
£lf
.
_’Œy
.
	$show
 ()

76 
£lf
.
	$add
 (
£lf
.
_’Œy
)

77 
sig
 = 
£lf
.
_’Œy
.
	`cÚÃù
 ("focus-out-ev’t", s–f.
_’Œy_to_Ïb–
)

78 
£lf
.
_’Œy_hªdËr_id
.
	$­³nd
(
sig
)

79 
sig
 = 
£lf
.
_’Œy
.
	`cÚÃù
 ("aùiv©e", s–f.
_Ú_’Œy_aùiv©ed
)

80 
£lf
.
_’Œy_hªdËr_id
.
	$­³nd
(
sig
)

81 
sig
 = 
£lf
.
_’Œy
.
	`cÚÃù
 ("key-press-event",

82 
£lf
.
_Ú_’Œy_key´ess
)

83 
£lf
.
_’Œy_hªdËr_id
.
	$­³nd
(
sig
)

84 
£lf
.
_’Œy
.
	$g¿b_focus
 ()

85 (
True
)

86 (
F®£
)

88 
def
 
	$_’Œy_to_Ïb–
 (
£lf
, 
widg‘
, 
ev’t
):

89 #pylšt: 
di§bË
-
msg
=
W0613


91 
£lf
.
_’Œy
 
ªd
 s–f._’Œy 
š
 s–f.
	$g‘_chd»n
():

92 #discÚÃù 
sigÇls
 
to
 
avoid
 
£gçuÉ
 :
s


93 
sig
 
š
 
£lf
.
_’Œy_hªdËr_id
:

94 
£lf
.
_’Œy
.
	$hªdËr_is_cÚÃùed
(
sig
):

95 
£lf
.
_’Œy
.
	$discÚÃù
(
sig
)

96 
£lf
.
_’Œy_hªdËr_id
 = []

97 
£lf
.
	$»move
 (
£lf
.
_’Œy
)

98 
£lf
.
	$add
 (
£lf
.
_Ïb–
)

99 
£lf
.
_’Œy
 = 
NÚe


100 
£lf
.
	$show_®l
 ()

101 
£lf
.
	`em™
('edit-done')

102 (
True
)

103 (
F®£
)

105 
def
 
	$_Ú_’Œy_aùiv©ed
 (
£lf
, 
widg‘
):

106 #pylšt: 
di§bË
-
msg
=
W0613


108 
’Œy
 = 
£lf
.
_’Œy
.
	$g‘_‹xt
 ()

109 
Ïb–
 = 
£lf
.
_Ïb–
.
	$g‘_‹xt
 ()

110 
’Œy
 == '':

111 
£lf
.
_cu¡om
 = 
F®£


112 
£lf
.
	$£t_‹xt
 (
£lf
.
_autÙext
)

113 
–if
 
’Œy
 !ğ
Ïb–
:

114 
£lf
.
_cu¡om
 = 
True


115 
£lf
.
_Ïb–
.
	$£t_‹xt
 (
’Œy
)

116 
£lf
.
	$_’Œy_to_Ïb–
 (
NÚe
, None)

118 
def
 
	$_Ú_’Œy_key´ess
 (
£lf
, 
widg‘
, 
ev’t
):

119 #pylšt: 
di§bË
-
msg
=
W0613


121 
key
 = 
gtk
.
gdk
.
	$keyv®_Çme
 (
ev’t
.
keyv®
)

122 
key
 == 'Escape':

123 
£lf
.
	$_’Œy_to_Ïb–
 (
NÚe
, None)

125 
def
 
	$modify_fg
(
£lf
, 
¡©e
, 
cŞÜ
):

127 
£lf
.
_Ïb–
.
	$modify_fg
(
¡©e
, 
cŞÜ
)

129 
def
 
	$is_cu¡om
(
£lf
):

131 (
£lf
.
_cu¡om
)

133 
def
 
	$£t_cu¡om
(
£lf
):

135 
£lf
.
_cu¡om
 = 
True


136 
gobjeù
.
	`ty³_»gi¡”
(
Ed™abËLab–
)

	@/home/zq/Project/terminator-0.96/terminatorlib/encoding.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©ÜEncodšg - 
ch¬£t
 
’codšg
 
şas£s


3 #Cİyrighˆ(
C
è2006-2010 
chªŒa
@
debuÁu
.
Üg


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
T”mš©ÜEncodšg
 
suµl›s
 
a
 
li¡
 
of
 
possibË
 
’codšg


18 
	gv®ues
.

19 
This
 
li¡
 
is
 
k’
 
äom
 
	ggnome
-
	g‹rmš®
's src/terminal-encoding.c

20 
ªd
 
	g¤c
/
	g’codšg
.
	gc


23 
äom
 
Œª¦©iÚ
 
impÜt
 
	g_


25 #pylšt: 
di§bË
-
msg
=
R0903


26 
şass
 
	gT”mš©ÜEncodšg
:

29 #Th
comm’‹d
 
out
 
’Œ›s
 
b–ow
 
¬e
 
so
 
m¬ked
 
beÿu£
 
gnome
-
‹rmš®
 
has
 
dÚe


30 #th
§me
.

31 
’codšgs
 = [

32 [
True
, 
NÚe
, 
_
("Current Locale")],

33 [
F®£
, "ISO-8859-1", 
_
("Western")],

34 [
F®£
, "ISO-8859-2", 
_
("Central European")],

35 [
F®£
, "ISO-8859-3", 
_
("South European") ],

36 [
F®£
, "ISO-8859-4", 
_
("Baltic") ],

37 [
F®£
, "ISO-8859-5", 
_
("Cyrillic") ],

38 [
F®£
, "ISO-8859-6", 
_
("Arabic") ],

39 [
F®£
, "ISO-8859-7", 
_
("Greek") ],

40 [
F®£
, "ISO-8859-8", 
_
("Hebrew Visual") ],

41 [
F®£
, "ISO-8859-8-I", 
_
("Hebrew") ],

42 [
F®£
, "ISO-8859-9", 
_
("Turkish") ],

43 [
F®£
, "ISO-8859-10", 
_
("Nordic") ],

44 [
F®£
, "ISO-8859-13", 
_
("Baltic") ],

45 [
F®£
, "ISO-8859-14", 
_
("Celtic") ],

46 [
F®£
, "ISO-8859-15", 
_
("Western") ],

47 [
F®£
, "ISO-8859-16", 
_
("Romanian") ],

48 #[
F®£
, "UTF-7", 
_
("Unicode") ],

49 [
F®£
, "UTF-8", 
_
("Unicode") ],

50 #[
F®£
, "UTF-16", 
_
("Unicode") ],

51 #[
F®£
, "UCS-2", 
_
("Unicode") ],

52 #[
F®£
, "UCS-4", 
_
("Unicode") ],

53 [
F®£
, "ARMSCII-8", 
_
("Armenian") ],

54 [
F®£
, "BIG5", 
_
("Chinese Traditional") ],

55 [
F®£
, "BIG5-HKSCS", 
_
("Chinese Traditional") ],

56 [
F®£
, "CP866", 
_
("Cyrillic/Russian") ],

57 [
F®£
, "EUC-JP", 
_
("Japanese") ],

58 [
F®£
, "EUC-KR", 
_
("Korean") ],

59 [
F®£
, "EUC-TW", 
_
("Chinese Traditional") ],

60 [
F®£
, "GB18030", 
_
("Chinese Simplified") ],

61 [
F®£
, "GB2312", 
_
("Chinese Simplified") ],

62 [
F®£
, "GBK", 
_
("Chinese Simplified") ],

63 [
F®£
, "GEORGIAN-PS", 
_
("Georgian") ],

64 [
F®£
, "HZ", 
_
("Chinese Simplified") ],

65 [
F®£
, "IBM850", 
_
("Western") ],

66 [
F®£
, "IBM852", 
_
("Central European") ],

67 [
F®£
, "IBM855", 
_
("Cyrillic") ],

68 [
F®£
, "IBM857", 
_
("Turkish") ],

69 [
F®£
, "IBM862", 
_
("Hebrew") ],

70 [
F®£
, "IBM864", 
_
("Arabic") ],

71 [
F®£
, "ISO-2022-JP", 
_
("Japanese") ],

72 [
F®£
, "ISO-2022-KR", 
_
("Korean") ],

73 [
F®£
, "ISO-IR-111", 
_
("Cyrillic") ],

74 #[
F®£
, "JOHAB", 
_
("Korean") ],

75 [
F®£
, "KOI8-R", 
_
("Cyrillic") ],

76 [
F®£
, "KOI8-U", 
_
("Cyrillic/Ukrainian") ],

77 [
F®£
, "MAC_ARABIC", 
_
("Arabic") ],

78 [
F®£
, "MAC_CE", 
_
("Central European") ],

79 [
F®£
, "MAC_CROATIAN", 
_
("Croatian") ],

80 [
F®£
, "MAC-CYRILLIC", 
_
("Cyrillic") ],

81 [
F®£
, "MAC_DEVANAGARI", 
_
("Hindi") ],

82 [
F®£
, "MAC_FARSI", 
_
("Persian") ],

83 [
F®£
, "MAC_GREEK", 
_
("Greek") ],

84 [
F®£
, "MAC_GUJARATI", 
_
("Gujarati") ],

85 [
F®£
, "MAC_GURMUKHI", 
_
("Gurmukhi") ],

86 [
F®£
, "MAC_HEBREW", 
_
("Hebrew") ],

87 [
F®£
, "MAC_ICELANDIC", 
_
("Icelandic") ],

88 [
F®£
, "MAC_ROMAN", 
_
("Western") ],

89 [
F®£
, "MAC_ROMANIAN", 
_
("Romanian") ],

90 [
F®£
, "MAC_TURKISH", 
_
("Turkish") ],

91 [
F®£
, "MAC_UKRAINIAN", 
_
("Cyrillic/Ukrainian") ],

92 [
F®£
, "SHIFT-JIS", 
_
("Japanese") ],

93 [
F®£
, "TCVN", 
_
("Vietnamese") ],

94 [
F®£
, "TIS-620", 
_
("Thai") ],

95 [
F®£
, "UHC", 
_
("Korean") ],

96 [
F®£
, "VISCII", 
_
("Vietnamese") ],

97 [
F®£
, "WINDOWS-1250", 
_
("Central European") ],

98 [
F®£
, "WINDOWS-1251", 
_
("Cyrillic") ],

99 [
F®£
, "WINDOWS-1252", 
_
("Western") ],

100 [
F®£
, "WINDOWS-1253", 
_
("Greek") ],

101 [
F®£
, "WINDOWS-1254", 
_
("Turkish") ],

102 [
F®£
, "WINDOWS-1255", 
_
("Hebrew") ],

103 [
F®£
, "WINDOWS-1256", 
_
("Arabic") ],

104 [
F®£
, "WINDOWS-1257", 
_
("Baltic") ],

105 [
F®£
, "WINDOWS-1258", 
_
("Vietnamese") ]

108 
def
 
	$__š™__
(
£lf
):

109 
·ss


111 
def
 
	$g‘_li¡
():

113  
T”mš©ÜEncodšg
.
’codšgs


115 
g‘_li¡
 = 
	`¡©icm‘hod
(get_list)

	@/home/zq/Project/terminator-0.96/terminatorlib/factory.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 >>> 
	gmak”
 = 
FaùÜy
()

7 >>> 
wšdow
 = 
mak”
.
make_wšdow
()

8 >>> 
mak”
.
isš¡ªû
(
wšdow
, 'Window')

9 
	gTrue


10 >>> 
	g‹rmš®
 = 
mak”
.
make_‹rmš®
()

11 >>> 
mak”
.
isš¡ªû
(
‹rmš®
, 'Terminal')

12 
	gTrue


13 >>> 
	gh·Ãd
 = 
mak”
.
make_h·Ãd
()

14 >>> 
mak”
.
isš¡ªû
(
h·Ãd
, 'HPaned')

15 
	gTrue


16 >>> 
	gv·Ãd
 = 
mak”
.
make_v·Ãd
()

17 >>> 
mak”
.
isš¡ªû
(
v·Ãd
, 'VPaned')

18 
	gTrue


22 
äom
 
bÜg
 
impÜt
 
BÜg


23 
äom
 
ut
 
impÜt
 
	gdbg
, 
	g”r


25 #pylšt: 
di§bË
-
msg
=
R0201


26 #pylšt: 
di§bË
-
msg
=
W0613


27 
şass
 
	$FaùÜy
(
BÜg
):

29 
ty³s
 = {'Terminal': 'terminal',

35 'Wšdow': 'wšdow'
	}
}

36 
ty³s_keys
 = 
ty³s
.
	$keys
()

37 
š¡ªû_ty³s
 = {
	}
}

38 
š¡ªû_ty³s_keys
 = []

40 
def
 
	$__š™__
(
£lf
):

42 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

43 
£lf
.
	$´•¬e_©Œibu‹s
()

45 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

47 
·ss


49 
def
 
	$isš¡ªû
(
£lf
, 
´oduù
, 
şas¡y³
):

51 
şas¡y³
 
š
 
£lf
.
ty³s_keys
:

52 #Thi 
is
 
now
 
v”y
 
ugly
, 
but
‚ow 
™
's fast :-)

53 #SomeÚ
w™h
 
»®
 
PythÚ
 
skls
 
should
 
fix
 
this
 
to
 
be
 
Ëss
 
š§Ã
.

55 #- 
sw­
 
Üd”
 
of
 
impÜts
, 
Ùh”wi£
 
we
 
throw
 
ImpÜtE¼Ü


56 #®mo¡ 
ev”y
 
time


57 #- 
ÿche
 
ev”ythšg
 
we
 
ÿn


58 
Œy
:

59 
ty³_key
 = '‹rmš©Ülib.%s' % 
£lf
.
ty³s
[
şas¡y³
]

60 
ty³_key
 
nÙ
 
š
 
£lf
.
š¡ªû_ty³s_keys
:

61 
£lf
.
š¡ªû_ty³s
[
ty³_key
] = 
	`__impÜt__
Ñy³_key, 
NÚe
, None, [''])

62 
£lf
.
š¡ªû_ty³s_keys
.
	$­³nd
(
ty³_key
)

63 
moduË
 = 
£lf
.
š¡ªû_ty³s
[
ty³_key
]

64 
exû±
 
ImpÜtE¼Ü
:

65 
ty³_key
 = 
£lf
.
ty³s
[
şas¡y³
]

66 
ty³_key
 
nÙ
 
š
 
£lf
.
š¡ªû_ty³s_keys
:

67 
£lf
.
š¡ªû_ty³s
[
ty³_key
] = 
	`__impÜt__
Ñy³_key, 
NÚe
, None, [''])

68 
£lf
.
š¡ªû_ty³s_keys
.
	$­³nd
(
ty³_key
)

69 
moduË
 = 
£lf
.
š¡ªû_ty³s
[
ty³_key
]

70 (
	`isš¡ªû
(
´oduù
, 
	$g‘©Œ
(
moduË
, 
şas¡y³
)))

72 
	`”r
('FaùÜy::isš¡ªû: unknowÀşas ty³: %s' % 
şas¡y³
)

73 (
F®£
)

75 
def
 
	$ty³
(
£lf
, 
´oduù
):

77 
©y³
 
š
 
£lf
.
ty³s
:

78 #Sk 
ov”
 
g’”ic
 
ty³s


79 
©y³
 
š
 ['Container', 'Paned']:

81 
£lf
.
	$isš¡ªû
(
´oduù
, 
©y³
):

82 (
©y³
)

83 (
NÚe
)

85 
def
 
	$make
(
£lf
, 
´oduù
, **
kw¬gs
):

87 
Œy
:

88 
func
 = 
	`g‘©Œ
(
£lf
, 'make_%s' % 
´oduù
.
	$low”
())

89 
exû±
 
A‰ribu‹E¼Ü
:

90 
	`”r
('FaùÜy::make:„eque¡ed objeù dÛ nÙƒxi¡: %s' % 
´oduù
)

91 (
NÚe
)

93 
	`dbg
('FaùÜy::make: c»©ed‡ %s' % 
´oduù
)

94 (
	$func
(**
kw¬gs
))

96 
def
 
	$make_wšdow
(
£lf
, **
kw¬gs
):

98 
impÜt
 
wšdow


99 (
wšdow
.
	$Wšdow
(**
kw¬gs
))

101 
def
 
	$make_‹rmš®
(
£lf
, **
kw¬gs
):

103 
impÜt
 
‹rmš®


104 (
‹rmš®
.
	$T”mš®
())

106 
def
 
	$make_h·Ãd
(
£lf
, **
kw¬gs
):

108 
impÜt
 
·Ãd


109 (
·Ãd
.
	$HPªed
())

111 
def
 
	$make_v·Ãd
(
£lf
, **
kw¬gs
):

113 
impÜt
 
·Ãd


114 (
·Ãd
.
	$VPªed
())

116 
def
 
	$make_nÙebook
(
£lf
, **
kw¬gs
):

118 
impÜt
 
nÙebook


119 (
nÙebook
.
	`NÙebook
(
kw¬gs
['window']))

	@/home/zq/Project/terminator-0.96/terminatorlib/freebsd.py

1 #!/
u¤
/
bš
/
pythÚ


2 #
#Cİyrighˆ(
c
è2008, 
Thomas
 
Hur¡
 <
tom
@
hur
.
¡
>

3 #
#U£ 
of
 
this
 
fe
 
is
 
uÄe¡riùed
 
´ovided
hi 
nÙiû
 i 
»šed
.

4 #Ià
you
 
u£
 
™
, it'd be‚ice if you dropped me‡‚ote. Also beer.

7 
	gä“bsd
.
	$g‘_´oûss_cwd
(
pid
):

8 
U£
 
	$sysùl
(è
to
 
»Œ›ve
 
the
 
cwd
 
of
 
ª
 
¬b™¿ry
 
´oûss
 
Ú
 
F»eBSD


9 
usšg
 
k”n
.
´oc
.
fedesc
, 
as
 
u£d
 
by
 
	`´oc¡©
(1).

10 
Te¡ed
 
Ú
 
F»eBSD
 7-
STABLE
/
amd64
 
äom
 
A´
 11 2008.

13 
äom
 
ùy³s
 
impÜt
 *

15 
şass
 
	$sockaddr_¡Üage
(
SŒuùu»
):

17 
_f›lds_
 = [

18 ('ss_Ën', 
c_ch¬
),

19 ('ss_çmy', 
c_ch¬
), #/
u¤
/
šşude
/
sys
/
_ty³s
.
h
; 
_ušt8_t


20 ('__ss_·d1', 
c_ch¬
 * 6), #((
št64
è- (è- (
ss_çmy_t
))

21 ('__ss_®ign', 
c_lÚglÚg
),

22 ('__ss_·d2', 
c_ch¬
 * 112), #(128(
maxsize
è- (è- (
ss_çmy_t
) -

23 #sizeof(
ss_·d1
è- (
št64
))

26 
şass
 
	$kšfo_fe
(
SŒuùu»
):

28 
_f›lds_
 = [

29 ('kf_¡ruùsize', 
c_št
),

30 ('kf_ty³', 
c_št
),

31 ('kf_fd', 
c_št
),

32 ('kf_»f_couÁ', 
c_št
),

33 ('kf_æags', 
c_št
),

34 ('kf_off£t', 
c_size_t
), #thi 
is
 
a
 
off_t
,‡ 
poš‹r


35 ('kf_vnode_ty³', 
c_št
),

36 ('kf_sock_domaš', 
c_št
),

37 ('kf_sock_ty³', 
c_št
),

38 ('kf_sock_´ÙocŞ', 
c_št
),

39 ('kf_·th', 
c_ch¬
 * 1024), #PATH_MAX

40 ('kf_§_loÿl', 
sockaddr_¡Üage
),

41 ('kf_§_³”', 
sockaddr_¡Üage
),

44 
libc
 = 
	`CDLL
('libc.so')

46 
uš’
 = 
	`c_size_t
((
c_ušt
))

47 
v”
 = 
	$c_ušt
(0)

49 ià(
libc
.
	`sysùlbyÇme
('k”n.o¤–d©e', 
	`by»f
(
v”
), by»f(
uš’
), 
NÚe
, 0) < 0):

50 
¿i£
 
OSE¼Ü
, "sysctlbyname„eturned < 0"

52 #k”n.
´oc
.
fedesc
 
added
 
	`´oc¡©
(1è
aá”
 
the£
 
__F»eBSD_v”siÚs


53 
v”
.
v®ue
 < 700104 
ªd
 ver.value < 800019:

54 
¿i£
 
NÙIm¶em’‹dE¼Ü
, "cwd detection„equires‡„ecent 7.0-STABLE or 8-CURRENT"

57 
def
 
	$g‘_´oûss_cwd
(
pid
):

59 
Ü
 
NÚe
 
Ú
 
çu»
."""

60 #/
u¤
/
šşude
/
sys
/
sysùl
.
h


61 #CTL_KERN, 
KERN_PROC
, 
KERN_PROC_FILEDESC


62 
oid
 = (
c_ušt
 * 4)(1, 14, 14, 
pid
)

64 
libc
.
	`sysùl
(
oid
, 4, 
NÚe
, 
	`by»f
(
uš’
), None, 0) < 0:

65  
NÚe


67 
buf
 = 
	`c_ch¬_p
(" " * 
uš’
.
v®ue
)

68 
libc
.
	`sysùl
(
oid
, 4, 
buf
, 
	`by»f
(
uš’
), 
NÚe
, 0) < 0:

69  
NÚe


71 
kifs
 = 
	`ÿ¡
(
buf
, 
	$POINTER
(
kšfo_fe
))

72 
i
 
š
 
	`x¿nge
(0, 
uš’
.
v®ue
 / (
kšfo_fe
)):

73 
kif
 = 
kifs
[
i
]

74 
kif
.
kf_fd
 == -1: #KF_FD_TYPE_CWD

75  
kif
.
kf_·th


78 
__Çme__
 == '__main__':

79 
impÜt
 
os
, 
sys


80 
´št
 " => %d cwd = %s" % (
os
.
	`g‘pid
(), 
	`g‘_´oûss_cwd
(os.
	$g‘pid
()))

81 
pid
 
š
 
sys
.
¬gv
:

82 
Œy
:

83 
pid
 = (pid)

84 
exû±
:

85 
·ss


87 
´št
 " => %d cwd = %s" % (
pid
, 
	`g‘_´oûss_cwd
(pid))

	@/home/zq/Project/terminator-0.96/terminatorlib/ipc.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
gtk


7 
impÜt
 
	gdbus
.
£rviû


8 
äom
 
	gdbus
.
exû±iÚs
 
impÜt
 
DBusExû±iÚ


9 
impÜt
 
	gdbus
.
glib


10 
äom
 
bÜg
 
impÜt
 
BÜg


11 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


12 
äom
 
cÚfig
 
impÜt
 
CÚfig


13 
äom
 
ut
 
impÜt
 
dbg


15 
	gCONFIG
 = 
	$CÚfig
()

16 
nÙ
 
CONFIG
['dbus']:

17 #Th
cÚfig
 
§ys
 
we
 
¬e
 
nÙ
 
to
 
lßd
 
dbus
, 
so
 
´‘’d
 
like
 w
ÿn
't

18 
	`dbg
('dbus disabled')

19 
¿i£
 
ImpÜtE¼Ü


21 
BUS_BASE
 = 'net.tenshu.Terminator'

22 
BUS_PATH
 = '/net/tenshu/Terminator'

23 
Œy
:

24 #Try 
ªd
 
šşude
 
the
 
X11
 
di¥Ïy
 
Çme
 
š
h
dbus
 
bus
‚ame

25 
DISPLAY
 = 
	`hex
(
	`hash
(
gtk
.
gdk
.
	`g‘_di¥Ïy
())).
	`»¶aû
('-', '_')

26 
BUS_NAME
 = '%s%s' % (
BUS_BASE
, 
DISPLAY
)

27 
exû±
:

28 
BUS_NAME
 = 
BUS_BASE


30 
şass
 
	$DBusS”viû
(
BÜg
, 
dbus
.
£rviû
.
Objeù
):

32 
bus_Çme
 = 
NÚe


33 
bus_·th
 = 
NÚe


34 
‹rmš©Ü
 = 
NÚe


36 
def
 
	$__š™__
(
£lf
):

38 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

39 
£lf
.
	$´•¬e_©Œibu‹s
()

40 
dbus
.
£rviû
.
Objeù
.
	$__š™__
(
£lf
, s–f.
bus_Çme
, 
BUS_PATH
)

42 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

44 
nÙ
 
£lf
.
bus_Çme
:

45 
	`dbg
('Checkšg fÜ bu Çmavaab™y: %s' % 
BUS_NAME
)

46 
bus
 = 
dbus
.
	$SessiÚBus
()

47 
´oxy
 = 
bus
.
	`g‘_objeù
('org.freedesktop.DBus',

49 
æags
 = 1 | 4 #®low 
»¶aûm’t
 | dØ
nÙ
 
queue


50 
nÙ
 
´oxy
.
	`Reque¡Name
(
BUS_NAME
, 
dbus
.
	$UIÁ32
(
æags
)è
	$š
 (1, 4):

51 
	`dbg
('bu ÇmuÇvaabË: %s' % 
BUS_NAME
)

52 
¿i£
 
dbus
.
exû±iÚs
.
	`DBusExû±iÚ
(

53 "Couldn'ˆg‘ DBu Çm%s: Namexi¡s" % 
BUS_NAME
)

54 
£lf
.
bus_Çme
 = 
dbus
.
£rviû
.
	`BusName
(
BUS_NAME
,

55 
bus
=
dbus
.
	$SessiÚBus
())

56 
nÙ
 
£lf
.
bus_·th
:

57 
£lf
.
bus_·th
 = 
BUS_PATH


58 
nÙ
 
£lf
.
‹rmš©Ü
:

59 
£lf
.
‹rmš©Ü
 = 
	`T”mš©Ü
()

61 @
dbus
.
£rviû
.
	$m‘hod
(
BUS_NAME
)

62 
def
 
	`Ãw_wšdow
(
£lf
, 
Ïyout
='default'):

64 
	`dbg
('dbus method called:‚ew_window')

65 
£lf
.
‹rmš©Ü
.
	$ü—‹_Ïyout
(
Ïyout
)

66 
£lf
.
‹rmš©Ü
.
	`Ïyout_dÚe
()

68 @
dbus
.
£rviû
.
	$m‘hod
(
BUS_NAME
)

69 
def
 
	$‹rmš®_h¥l™
(
£lf
, 
uuid
=
NÚe
):

71  
£lf
.
	`‹rmš®_¥l™
(
uuid
, 
True
)

73 @
dbus
.
£rviû
.
	$m‘hod
(
BUS_NAME
)

74 
def
 
	$‹rmš®_v¥l™
(
£lf
, 
uuid
=
NÚe
):

76  
£lf
.
	$‹rmš®_¥l™
(
uuid
, 
F®£
)

78 
def
 
	$‹rmš®_¥l™
(
£lf
, 
uuid
, 
hÜiz
):

80 
	`dbg
('dbus method called:erminal_hsplit')

81 
nÙ
 
uuid
:

83 
‹rmš®
 = 
£lf
.
‹rmš©Ü
.
	$fšd_‹rmš®_by_uuid
(
uuid
)

84 
nÙ
 
‹rmš®
:

86 
hÜiz
:

87 
‹rmš®
.
	$key_¥l™_hÜiz
()

89 
‹rmš®
.
	`key_¥l™_v”t
()

91 @
dbus
.
£rviû
.
	$m‘hod
(
BUS_NAME
)

92 
def
 
	$g‘_‹rmš®s
(
£lf
, 
uuid
):

94  [
x
.
uuid
.
uº
 x 
š
 
£lf
.
‹rmš©Ü
.
‹rmš®s
]

96 
def
 
	$w™h_´oxy
(
func
):

98 
	`dbg
('dbu ş›Á c®l: %s' % 
func
.
func_Çme
)

99 
def
 
	$_exec
(*
¬gs
, **
¬gd
):

100 
bus
 = 
dbus
.
	$SessiÚBus
()

101 
´oxy
 = 
bus
.
	$g‘_objeù
(
BUS_NAME
, 
BUS_PATH
)

102 
	$func
(
´oxy
, *
¬gs
, **
¬gd
)

103  
_exec


105 @
w™h_´oxy


106 
def
 
	`Ãw_wšdow
(
£ssiÚ
, 
Ïyout
='default'):

108 
£ssiÚ
.
	`Ãw_wšdow
(
Ïyout
)

110 @
w™h_´oxy


111 
def
 
	$‹rmš®_h¥l™
(
£ssiÚ
, 
uuid
):

113 
£ssiÚ
.
	`‹rmš®_h¥l™
(
uuid
)

115 @
w™h_´oxy


116 
def
 
	$‹rmš®_v¥l™
(
£ssiÚ
, 
uuid
):

118 
´št
 
£ssiÚ
.
	`‹rmš®_v¥l™
(
uuid
)

120 @
w™h_´oxy


121 
def
 
	$g‘_‹rmš®s
(
£ssiÚ
, 
uuid
):

123 
´št
 '\n'.
	`još
(
£ssiÚ
.
	`g‘_‹rmš®s
(
uuid
))

	@/home/zq/Project/terminator-0.96/terminatorlib/keybindings.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü - 
muÉË
 
gnome
 
‹rmš®s
 
š
 
Úe
 
wšdow


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
V®id©Ü
 
ªd
 
funùiÚs
 
d—lšg
 
w™h
 
	gT”mš©Ü
's customisable

18 
keybßrd
 
	gshÜtcuts
.

22 
impÜt
 
»


23 
impÜt
 
gtk


24 
äom
 
ut
 
impÜt
 
”r


26 
şass
 
	$Keym­E¼Ü
(
Exû±iÚ
):

28 
def
 
	$__š™__
(
£lf
, 
v®ue
):

29 
Exû±iÚ
.
	$__š™__
(
£lf
, 
v®ue
)

30 
£lf
.
v®ue
 = value

31 
£lf
.
aùiÚ
 = 'unknown'

33 
def
 
	$__¡r__
(
£lf
):

34  "Keybšdšg '%s' inv®id: %s" % (
£lf
.
aùiÚ
, s–f.
v®ue
)

36 
MODIFIER
 = 
»
.
	`compe
('<([^<]+)>')

37 
şass
 
Keybšdšgs
:

40 
modif›rs
 = {

41 'ù¾': 
gtk
.
gdk
.
CONTROL_MASK
,

42 'cÚŒŞ': 
gtk
.
gdk
.
CONTROL_MASK
,

43 'shiá': 
gtk
.
gdk
.
SHIFT_MASK
,

44 '®t': 
gtk
.
gdk
.
MOD1_MASK
,

45 'su³r': 
gtk
.
gdk
.
SUPER_MASK
,

46 
	}
}

48 
em±y
 = {}

49 
keys
 = 
NÚe


50 
_masks
 = 
NÚe


51 
_lookup
 = 
NÚe


53 
def
 
	$__š™__
(
£lf
):

54 
£lf
.
keym­
 = 
gtk
.
gdk
.
	$keym­_g‘_deçuÉ
()

55 
£lf
.
	`cÚfigu»
({
	}
})

57 
def
 
	$cÚfigu»
(
£lf
, 
bšdšgs
):

59 
£lf
.
keys
 = 
bšdšgs


60 
£lf
.
	$»lßd
()

62 
def
 
	$»lßd
(
£lf
):

64 
£lf
.
_lookup
 = {
	}
}

65 
£lf
.
_masks
 = 0

66 
aùiÚ
, 
bšdšgs
 
š
 
	g£lf
.
	gkeys
.
	$™ems
():

67 
nÙ
 
	$isš¡ªû
(
bšdšgs
, 
tu¶e
):

68 
bšdšgs
 = (bindings,)

70 
bšdšg
 
š
 
bšdšgs
:

71 
bšdšg
 
is
 
NÚe
 
Ü
 binding == "None":

74 
Œy
:

75 
keyv®
, 
mask
 = 
£lf
.
	$_·r£bšdšg
(
bšdšg
)

76 #DÛ 
much
 
the
 
§me
, 
but
 
w™h
 
poÜ”
 
”rÜ
 
hªdlšg
.

77 #keyv®, 
mask
 = 
gtk
.
	`acûË¿tÜ_·r£
(
bšdšg
)

78 
exû±
 
Keym­E¼Ü
:

81 
mask
 & 
gtk
.
gdk
.
SHIFT_MASK
:

82 
keyv®
 =ğ
gtk
.
keysyms
.
Tab
:

83 
keyv®
 = 
gtk
.
keysyms
.
ISO_Leá_Tab


84 
mask
 &ğ~
gtk
.
gdk
.
SHIFT_MASK


86 
keyv®s
 = 
gtk
.
gdk
.
	$keyv®_cÚv”t_ÿ£
(
keyv®
)

87 
keyv®s
[0] != keyvals[1]:

88 
keyv®
 = 
keyv®s
[1]

89 
mask
 &ğ~
gtk
.
gdk
.
SHIFT_MASK


91 
keyv®
 = 
gtk
.
gdk
.
	$keyv®_to_low”
(
keyv®
)

92 
£lf
.
_lookup
.
	`£tdeçuÉ
(
mask
, {
	}
})

93 
	g£lf
.
	g_lookup
[
mask
][
keyv®
] = 
aùiÚ


94 
£lf
.
_masks
 |ğ
mask


96 
def
 
	$_·r£bšdšg
(
£lf
, 
bšdšg
):

98 
mask
 = 0

99 
modif›rs
 = 
»
.
	$fšd®l
(
MODIFIER
, 
bšdšg
)

100 
modif›rs
:

101 
modif›r
 
š
 
modif›rs
:

102 
mask
 |ğ
£lf
.
	$_lookup_modif›r
(
modif›r
)

103 
key
 = 
»
.
	`sub
(
MODIFIER
, '', 
bšdšg
)

104 
key
 == '':

105 
¿i£
 
	`Keym­E¼Ü
('No key found')

106 
keyv®
 = 
gtk
.
gdk
.
	$keyv®_äom_Çme
(
key
)

107 
keyv®
 == 0:

108 
¿i£
 
	`Keym­E¼Ü
("Key '%s' i uÄecogni£d" % 
key
)

109  (
keyv®
, 
mask
)

111 
def
 
	$_lookup_modif›r
(
£lf
, 
modif›r
):

113 
Œy
:

114  
£lf
.
modif›rs
[
modif›r
.
	`low”
()]

115 
exû±
 
KeyE¼Ü
:

116 
¿i£
 
	`Keym­E¼Ü
("UnhªdËd modif›¸'<%s>'" % 
modif›r
)

118 
def
 
	$lookup
(
£lf
, 
ev’t
):

120 
Œy
:

121 
keyv®
, 
_egp
, 
_lvl
, 
cÚsumed
 = 
£lf
.
keym­
.
	`Œª¦©e_keybßrd_¡©e
(

122 
ev’t
.
h¬dw¬e_keycode
,

123 
ev’t
.
¡©e
 & ~
gtk
.
gdk
.
LOCK_MASK
,

124 
ev’t
.
group
)

125 
exû±
 
Ty³E¼Ü
:

126 
	`”r
 ("keybindings.lookup failedoranslate keyboardƒvent: %s" %

127 
	$dœ
(
ev’t
))

128  
NÚe


129 
mask
 = (
ev’t
.
¡©e
 & ~
cÚsumed
è& 
£lf
.
_masks


130  
£lf
.
_lookup
.
	`g‘
(
mask
, s–f.
em±y
).g‘(
keyv®
, 
NÚe
)

	@/home/zq/Project/terminator-0.96/terminatorlib/notebook.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
gobjeù


7 
impÜt
 
gtk


9 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


10 
äom
 
cÚfig
 
impÜt
 
CÚfig


11 
äom
 
çùÜy
 
impÜt
 
FaùÜy


12 
äom
 
cÚš”
 
impÜt
 
CÚš”


13 
äom
 
ed™abËÏb–
 
impÜt
 
Ed™abËLab–


14 
äom
 
Œª¦©iÚ
 
impÜt
 
_


15 
äom
 
ut
 
impÜt
 
	g”r
, 
	gdbg
, 
’um”©e_desûndªts


17 
şass
 
	$NÙebook
(
CÚš”
, 
gtk
.
NÙebook
):

19 
wšdow
 = 
NÚe


21 
def
 
	$__š™__
(
£lf
, 
wšdow
):

23 
	`isš¡ªû
(
wšdow
.
	`g‘_chd
(), 
gtk
.
NÙebook
):

24 
	`”r
('There is‡lready‡ Notebook‡theop ofhis window')

25 
	$¿i£
(
V®ueE¼Ü
)

27 
CÚš”
.
	$__š™__
(
£lf
)

28 
gtk
.
NÙebook
.
	$__š™__
(
£lf
)

29 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

30 
£lf
.
wšdow
 = window

31 
gobjeù
.
	$ty³_»gi¡”
(
NÙebook
)

32 
£lf
.
	$»gi¡”_sigÇls
(
NÙebook
)

33 
£lf
.
	$cÚfigu»
()

35 
chd
 = 
wšdow
.
	$g‘_chd
()

36 
wšdow
.
	$»move
(
chd
)

37 
wšdow
.
	$add
(
£lf
)

38 
£lf
.
	$Ãwb
(
widg‘
=
chd
)

40 
£lf
.
	$show_®l
()

42 
def
 
	$cÚfigu»
(
£lf
):

44 #FIXME: 
The
 
Şd
 
»Üd”ed
 
hªdËr
 
upd©ed
 
T”mš©Ü
.
‹rmš®s
 
w™h


45 #th
Ãw
 
Üd”
 
of
 
‹rmš®s
. 
We
 
´obably
 
Ãed
 
to
 
´e£rve
 
this
 

46 #Çvig©iÚ 
to
 
Ãxt
/
´ev
 
‹rmš®s
.

47 #£lf.
	`cÚÃù
('·ge-»Üd”ed', 
£lf
.
Ú_·ge_»Üd”ed
)

48 
£lf
.
	`£t_´İ”ty
('homog’eous', 
True
)

49 
£lf
.
	`£t_süŞÏbË
(£lf.
cÚfig
['scroll_tabbar'])

51 
£lf
.
cÚfig
['b_pos™iÚ'] =ğ'hidd’' 
Ü
 self.config['hide_tabbar']:

52 
£lf
.
	$£t_show_bs
(
F®£
)

54 
£lf
.
	$£t_show_bs
(
True
)

55 
pos
 = 
	`g‘©Œ
(
gtk
, 'POS_%s' % 
£lf
.
cÚfig
['b_pos™iÚ'].
	$uµ”
())

56 
£lf
.
	$£t_b_pos
(
pos
)

58 
b
 
š
 
	`x¿nge
(0, 
£lf
.
	$g‘_n_·ges
()):

59 
Ïb–
 = 
£lf
.
	`g‘_b_Ïb–
(£lf.
	$g‘_Áh_·ge
(
b
))

60 
Ïb–
.
	$upd©e_ªgË
()

62 
def
 
	$ü—‹_Ïyout
(
£lf
, 
Ïyout
):

64 
def
 
	$chd_com·»
(
a
, 
b
):

65 
Üd”_a
 = 
chd»n
[
a
]['order']

66 
Üd”_b
 = 
chd»n
[
b
]['order']

68 ià(
Üd”_a
 =ğ
Üd”_b
):

70 ià(
Üd”_a
 < 
Üd”_b
):

72 ià(
Üd”_a
 > 
Üd”_b
):

75 
nÙ
 
Ïyout
.
	`has_key
('children'):

76 
	`”r
('Ïyouˆ¥ecif› nØchd»n: %s' % 
Ïyout
)

79 
chd»n
 = 
Ïyout
['children']

80 
	`Ën
(
chd»n
) <= 1:

81 #NÙebook 
should
 
have
 
two
 
Ü
 
mÜe
 
chd»n


82 
	`”r
('šcÜ»ù‚umb” oàchd»ÀfÜ NÙebook: %s' % 
Ïyout
)

85 
num
 = 0

86 
keys
 = 
chd»n
.
	$keys
()

87 
keys
.
	$sÜt
(
chd_com·»
)

89 
chd_key
 
š
 
keys
:

90 
chd
 = 
chd»n
[
chd_key
]

91 
	`dbg
('Makšg‡ chd oàty³: %s' % 
chd
['type'])

92 
chd
['type'] == 'Terminal':

93 
·ss


94 
–if
 
chd
['type'] == 'VPaned':

95 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
num
)

96 
£lf
.
	$¥l™_axis
(
·ge
, 
True
)

97 
–if
 
chd
['type'] == 'HPaned':

98 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
num
)

99 
£lf
.
	$¥l™_axis
(
·ge
, 
F®£
)

100 
num
 =‚um + 1

102 
num
 = 0

103 
chd_key
 
š
 
keys
:

104 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
num
)

105 
nÙ
 
·ge
:

106 #Thi 
·ge
 
dÛs
 
nÙ
 
y‘
 
exi¡
, 
so
 
make
 
™


107 
£lf
.
	$Ãwb
(
chd»n
[
chd_key
])

108 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
num
)

109 
Ïyout
.
	`has_key
('labels'):

110 
Ïb–‹xt
 = 
Ïyout
['Ïb–s'][
num
]

111 
Ïb–‹xt
 
ªd
†abeltext != "None":

112 
Ïb–
 = 
£lf
.
	$g‘_b_Ïb–
(
·ge
)

113 
Ïb–
.
	$£t_cu¡om_Ïb–
(
Ïb–‹xt
)

114 
·ge
.
	$ü—‹_Ïyout
(
chd»n
[
chd_key
])

115 
num
 =‚um + 1

117 
def
 
	$¥l™_axis
(
£lf
, 
widg‘
, 
v”tiÿl
=
True
, 
cwd
=
NÚe
, 
siblšg
=NÚe, 
widg‘fœ¡
=True):

119 
	`dbg
('ÿÎed fÜ widg‘: %s' % 
widg‘
)

120 
Üd”
 = 
NÚe


121 
·ge_num
 = 
£lf
.
	$·ge_num
(
widg‘
)

122 
·ge_num
 == -1:

123 
	`”r
('NÙebook::¥l™_axis: % nÙ found iÀNÙebook' % 
widg‘
)

126 
Ïb–
 = 
£lf
.
	$g‘_b_Ïb–
(
widg‘
)

127 
£lf
.
	$»move
(
widg‘
)

129 
mak”
 = 
	$FaùÜy
()

130 
v”tiÿl
:

131 
cÚš”
 = 
mak”
.
	`make
('vpaned')

133 
cÚš”
 = 
mak”
.
	`make
('hpaned')

135 
nÙ
 
siblšg
:

136 
siblšg
 = 
mak”
.
	`make
('terminal')

137 
siblšg
.
	$£t_cwd
(
cwd
)

138 
siblšg
.
	$¥awn_chd
()

140 
£lf
.
	$š£¹_·ge
(
cÚš”
, 
NÚe
, 
·ge_num
)

141 
£lf
.
	$£t_b_»Üd”abË
(
cÚš”
, 
True
)

142 
£lf
.
	$£t_b_Ïb–
(
cÚš”
, 
Ïb–
)

143 
£lf
.
	$show_®l
()

145 
Üd”
 = [
widg‘
, 
siblšg
]

146 
widg‘fœ¡
 
is
 
F®£
:

147 
Üd”
.
	$»v”£
()

149 
‹rmš®
 
š
 
Üd”
:

150 
cÚš”
.
	$add
(
‹rmš®
)

151 
£lf
.
	$£t_cu¼’t_·ge
(
·ge_num
)

153 
£lf
.
	$show_®l
()

154 
‹rmš®
.
	$g¿b_focus
()

156 
def
 
	$add
(
£lf
, 
widg‘
, 
m‘ad©a
=
NÚe
):

158 
	`dbg
('adding‡‚ewab')

159 
£lf
.
	$Ãwb
(
widg‘
=widg‘, 
m‘ad©a
=metadata)

161 
def
 
	$»move
(
£lf
, 
widg‘
):

163 
·ge_num
 = 
£lf
.
	$·ge_num
(
widg‘
)

164 
·ge_num
 == -1:

165 
	`”r
('%s‚ot found in Notebook. Actual…arent is: %s' %

166 (
widg‘
, widg‘.
	$g‘_·»Á
()))

167 (
F®£
)

168 
£lf
.
	$»move_·ge
(
·ge_num
)

169 
£lf
.
	$discÚÃù_chd
(
widg‘
)

170 (
True
)

172 
def
 
	$»¶aû
(
£lf
, 
Şdwidg‘
, 
Ãwwidg‘
):

174 
·ge_num
 = 
£lf
.
	$·ge_num
(
Şdwidg‘
)

175 
£lf
.
	$»move
(
Şdwidg‘
)

176 
£lf
.
	$add
(
Ãwwidg‘
)

177 
£lf
.
	$»Üd”_chd
(
Ãwwidg‘
, 
·ge_num
)

179 
def
 
	$g‘_chd_m‘ad©a
(
£lf
, 
widg‘
):

181 
to
 
»ü—‹
 
™
 
wh’
 it's„eadded"""

182 
m‘ad©a
 = {
	}
}

183 
m‘ad©a
['bnum'] = 
£lf
.
	$·ge_num
(
widg‘
)

184 
Ïb–
 = 
£lf
.
	$g‘_b_Ïb–
(
widg‘
)

185 
nÙ
 
Ïb–
:

186 
	`dbg
('uÇbËØfšd†ab– fÜ widg‘: %s' % 
widg‘
)

188 
m‘ad©a
['Ïb–'] = 
Ïb–
.
	$g‘_Ïb–
()

189  
m‘ad©a


191 
def
 
	$g‘_chd»n
(
£lf
):

193 
chd»n
 = []

194 
·ge
 
š
 
	`x¿nge
(0,
£lf
.
	$g‘_n_·ges
()):

195 
chd»n
.
	`­³nd
(
£lf
.
	$g‘_Áh_·ge
(
·ge
))

196 (
chd»n
)

198 
def
 
	$Ãwb
(
£lf
, 
debugb
=
F®£
, 
widg‘
=
NÚe
, 
cwd
=NÚe, 
m‘ad©a
=None):

200 
	`dbg
('making‡‚ewab')

201 
´št
 "making‡‚ewab"

202 
mak”
 = 
	$FaùÜy
()

203 
tİ_wšdow
 = 
£lf
.
	$g‘_tİËv–
()

205 
nÙ
 
widg‘
:

206 
widg‘
 = 
mak”
.
	`make
('Terminal')

207 
cwd
:

208 
widg‘
.
	$£t_cwd
(
cwd
)

209 
widg‘
.
	$¥awn_chd
(
debug£rv”
=
debugb
)

211 
sigÇls
 = {'şo£-‹rm': 
£lf
.
w¿pşo£‹rm
,

212 '¥l™-hÜiz': 
£lf
.
¥l™_hÜiz
,

213 '¥l™-v”t': 
£lf
.
¥l™_v”t
,

214 't™Ë-chªge': 
£lf
.
´İag©e_t™Ë_chªge
,

215 'unzoom': 
£lf
.
unzoom
,

216 'b-chªge': 
tİ_wšdow
.
b_chªge
,

217 'group-®l': 
tİ_wšdow
.
group_®l
,

218 'ungroup-®l': 
tİ_wšdow
.
ungroup_®l
,

219 'group-b': 
tİ_wšdow
.
group_b
,

220 'ungroup-b': 
tİ_wšdow
.
ungroup_b
,

221 'move-b': 
tİ_wšdow
.
move_b
,

222 'b-Ãw': [
tİ_wšdow
.
b_Ãw
, 
widg‘
],

223 'Çvig©e': 
tİ_wšdow
.
Çvig©e_‹rmš®
}

225 
mak”
.
isš¡ªû
(
widg‘
, 'Terminal'):

226 
sigÇl
 
š
 
sigÇls
:

227 
¬gs
 = []

228 
hªdËr
 = 
sigÇls
[
sigÇl
]

229 
	$isš¡ªû
(
hªdËr
, 
li¡
):

230 
¬gs
 = 
hªdËr
[1:]

231 
hªdËr
 = handler[0]

232 
£lf
.
	$cÚÃù_chd
(
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
)

234 
m‘ad©a
 
ªd
 m‘ad©a.
	`has_key
('tabnum'):

235 
bpos
 = 
m‘ad©a
['tabnum']

237 
bpos
 = -1

239 
Ïb–
 = 
	`TabLab–
(
£lf
.
wšdow
.
	`g‘_t™Ë
(), self)

240 
m‘ad©a
 
ªd
 m‘ad©a.
	`has_key
('label'):

241 
	`dbg
('ü—tšg TabLab– w™hext: %s' % 
m‘ad©a
['label'])

242 
Ïb–
.
	`£t_cu¡om_Ïb–
(
m‘ad©a
['label'])

243 
Ïb–
.
	`cÚÃù
('şo£-şicked', 
£lf
.
şo£b
)

245 
Ïb–
.
	$show_®l
()

246 
widg‘
.
	$show_®l
()

248 
	`dbg
('š£¹šg…ag©…os™iÚ: %s' % 
bpos
)

249 
£lf
.
	$š£¹_·ge
(
widg‘
, 
NÚe
, 
bpos
)

250 
£lf
.
	$£t_b_Ïb–
(
widg‘
, 
Ïb–
)

251 
£lf
.
	`£t_b_Ïb–_·ckšg
(
widg‘
, 
nÙ
 s–f.
cÚfig
['scroll_tabbar'],

252 
nÙ
 
£lf
.
cÚfig
['scroll_tabbar'],

253 
gtk
.
PACK_START
)

255 
£lf
.
	$£t_b_»Üd”abË
(
widg‘
, 
True
)

256 
£lf
.
	$£t_cu¼’t_·ge
(
bpos
)

257 
£lf
.
	$show_®l
()

258 
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

259 
widg‘
.
	$g¿b_focus
()

261 
def
 
	$w¿pşo£‹rm
(
£lf
, 
widg‘
):

263 
	`dbg
('NÙebook::w¿pşo£‹rm: c®Ëd oÀ%s' % 
widg‘
)

264 
£lf
.
	$şo£‹rm
(
widg‘
):

265 
	`dbg
('Notebook::wrapcloseterm: closeterm succeeded')

266 
£lf
.
	$hoov”
()

268 
	`dbg
('Notebook::wrapcloseterm: closeterm failed')

270 
def
 
	$şo£b
(
£lf
, 
widg‘
, 
Ïb–
):

272 
bnum
 = 
NÚe


273 
Œy
:

274 
nb
 = 
widg‘
.
nÙebook


275 
exû±
 
A‰ribu‹E¼Ü
:

276 
	`”r
('TabLab–::şo£b: c®Ëd oÀnÚ-NÙebook: %s' % 
widg‘
)

279 
i
 
š
 
	`x¿nge
(0, 
nb
.
	`g‘_n_·ges
() + 1):

280 
Ïb–
 =ğ
nb
.
	`g‘_b_Ïb–
Òb.
	$g‘_Áh_·ge
(
i
)):

281 
bnum
 = 
i


284 
bnum
 
is
 
NÚe
:

285 
	`”r
('TabLab–::şo£b: % nÙ iÀ%s. Bašg.' % (
Ïb–
, 
nb
))

288 
mak”
 = 
	$FaùÜy
()

289 
chd
 = 
nb
.
	$g‘_Áh_·ge
(
bnum
)

291 
mak”
.
	`isš¡ªû
(
chd
, 'Terminal'):

292 
	`dbg
('Notebook::closetab: child is‡ single Terminal')

293 
chd
.
	$şo£
()

294 #FIXME: 
We
 
Úly
 dØ
this
 
d–
 
ªd
  
h”e
 
to
 
avoid
 
»movšg
 
the


295 #·g
b–ow
, 
which
 
chd
.
	`şo£
(è
im¶ic™ly
 
dÛs


296 
	$d–
(
Ïb–
)

298 
–if
 
mak”
.
	`isš¡ªû
(
chd
, 'Container'):

299 
	`dbg
('Notebook::closetab: child is‡ Container')

300 
dŸlog
 = 
£lf
.
	`cÚ¡ruù_cÚfœm_şo£
(£lf.
wšdow
, 
	`_
('tab'))

301 
»suÉ
 = 
dŸlog
.
	$run
()

302 
dŸlog
.
	$de¡roy
()

304 
»suÉ
 =ğ
gtk
.
RESPONSE_ACCEPT
:

305 
cÚš”s
 = 
NÚe


306 
objeùs
 = 
NÚe


307 
cÚš”s
, 
objeùs
 = 
	$’um”©e_desûndªts
(
chd
)

309 
	`Ën
(
objeùs
) > 0:

310 
desûndªt
 = 
objeùs
.
	$pİ
()

311 
desûndªt
.
	$şo£
()

312 
gtk
.
	$ev’ts_³ndšg
():

313 
gtk
.
	$maš_™”©iÚ
()

316 
	`dbg
('Notebook::closetab: user cancelled„equest')

319 
	`”r
('NÙebook::şo£b: chd i unknowÀty³ %s' % 
chd
)

322 
nb
.
	$»move_·ge
(
bnum
)

323 
	$d–
(
Ïb–
)

325 
def
 
	$»siz‘”m
(
£lf
, 
widg‘
, 
keyÇme
):

327 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('resizeterm')

329 
def
 
	$zoom
(
£lf
, 
widg‘
, 
fÚtsÿË
 = 
F®£
):

331 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('zoom')

333 
def
 
	$unzoom
(
£lf
, 
widg‘
):

335 
¿i£
 
	`NÙIm¶em’‹dE¼Ü
('unzoom')

337 
def
 
	$fšd_b_roÙ
(
£lf
, 
widg‘
):

339 
widg‘
"""

340 
·»Á
 = 
widg‘
.
	$g‘_·»Á
()

341 
´evious
 = 
·»Á


343 
·»Á
 
is
 
nÙ
 
NÚe
 
ªd
…¬’ˆi nÙ 
£lf
:

344 
´evious
 = 
·»Á


345 
·»Á
 =…¬’t.
	$g‘_·»Á
()

347 
´evious
 =ğ
£lf
:

348 (
widg‘
)

350 (
´evious
)

352 
def
 
	$upd©e_b_Ïb–_‹xt
(
£lf
, 
widg‘
, 
‹xt
):

354 
nÙebook
 = 
£lf
.
	$fšd_b_roÙ
(
widg‘
)

355 
Ïb–
 = 
£lf
.
	$g‘_b_Ïb–
(
nÙebook
)

356 
nÙ
 
Ïb–
:

357 
	`”r
('NÙebook::upd©e_b_Ïb–_‹xt: % nÙ found' % 
widg‘
)

360 
Ïb–
.
	$£t_Ïb–
(
‹xt
)

362 
def
 
	$hoov”
(
£lf
):

364 
num·ges
 = 
£lf
.
	$g‘_n_·ges
()

365 
num·ges
 > 0:

366 
num·ges
 =‚umpages - 1

367 
·ge
 = 
£lf
.
	$g‘_Áh_·ge
(
num·ges
)

368 
nÙ
 
·ge
:

369 
	`dbg
('Removšgƒm±y…age: %d' % 
num·ges
)

370 
£lf
.
	$»move_·ge
(
num·ges
)

372 
£lf
.
	`g‘_n_·ges
() == 1:

373 
	`dbg
('Last…age,„emoving self')

374 
chd
 = 
£lf
.
	$g‘_Áh_·ge
(0)

375 
£lf
.
	$»move_·ge
(0)

376 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

377 
·»Á
.
	$»move
(
£lf
)

378 
£lf
.
úxids
.
	$»move_®l
()

379 
·»Á
.
	$add
(
chd
)

380 
	$d–
(
£lf
)

381 #Fšd 
the
 
Ï¡
 
‹rmš®
 
š
h
Ãw
 
·»Á
 
ªd
 
give
 
™
 
focus


382 
‹rms
 = 
·»Á
.
	$g‘_visibË_‹rmš®s
()

383 
‹rms
.
	`keys
()[-1].
	$g¿b_focus
()

385 
şass
 
	$TabLab–
(
gtk
.
HBox
):

387 
nÙebook
 = 
NÚe


388 
‹rmš©Ü
 = 
NÚe


389 
cÚfig
 = 
NÚe


390 
Ïb–
 = 
NÚe


391 
icÚ
 = 
NÚe


392 
bu‰Ú
 = 
NÚe


394 
__gsigÇls__
 = {

395 'şo£-şicked': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

396 (
gobjeù
.
TYPE_OBJECT
,)),

397 
	}
}

399 
def
 
	$__š™__
(
£lf
, 
t™Ë
, 
nÙebook
):

401 
gtk
.
HBox
.
	$__š™__
(
£lf
)

402 
£lf
.
	$__gobjeù_š™__
()

404 
£lf
.
nÙebook
 =‚otebook

405 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

406 
£lf
.
cÚfig
 = 
	$CÚfig
()

408 
£lf
.
Ïb–
 = 
	$Ed™abËLab–
(
t™Ë
)

409 
£lf
.
	$upd©e_ªgË
()

411 
£lf
.
	$·ck_¡¬t
(
£lf
.
Ïb–
, 
True
, True)

413 
£lf
.
	$upd©e_bu‰Ú
()

414 
£lf
.
	$show_®l
()

416 
def
 
	$£t_Ïb–
(
£lf
, 
‹xt
):

418 
£lf
.
Ïb–
.
	$£t_‹xt
(
‹xt
)

420 
def
 
	$g‘_Ïb–
(
£lf
):

421  
£lf
.
Ïb–
.
	$g‘_‹xt
()

423 
def
 
	$£t_cu¡om_Ïb–
(
£lf
, 
‹xt
):

425 
£lf
.
Ïb–
.
	$£t_‹xt
(
‹xt
)

426 
£lf
.
Ïb–
.
	$£t_cu¡om
()

428 
def
 
	$g‘_cu¡om_Ïb–
(
£lf
):

430 
£lf
.
Ïb–
.
	$is_cu¡om
():

431 (
£lf
.
Ïb–
.
	$g‘_‹xt
())

433 (
NÚe
)

435 
def
 
	$upd©e_bu‰Ú
(
£lf
):

437 
nÙ
 
£lf
.
cÚfig
['close_button_on_tab']:

438 
£lf
.
bu‰Ú
:

439 
£lf
.
bu‰Ú
.
	$»move
(
£lf
.
icÚ
)

440 
£lf
.
	$»move
(
£lf
.
bu‰Ú
)

441 
	$d–
(
£lf
.
bu‰Ú
)

442 
	$d–
(
£lf
.
icÚ
)

443 
£lf
.
bu‰Ú
 = 
NÚe


444 
£lf
.
icÚ
 = 
NÚe


447 
nÙ
 
£lf
.
bu‰Ú
:

448 
£lf
.
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
()

449 
nÙ
 
£lf
.
icÚ
:

450 
£lf
.
icÚ
 = 
gtk
.
	$Image
()

451 
£lf
.
icÚ
.
	$£t_äom_¡ock
(
gtk
.
STOCK_CLOSE
,

452 
gtk
.
ICON_SIZE_MENU
)

454 
£lf
.
bu‰Ú
.
	$£t_focus_Ú_şick
(
F®£
)

455 
£lf
.
bu‰Ú
.
	$£t_»l›f
(
gtk
.
RELIEF_NONE
)

456 
¡yË
 = 
gtk
.
	$RcStyË
()

457 
¡yË
.
xthickÃss
 = 0

458 
¡yË
.
ythickÃss
 = 0

459 
£lf
.
bu‰Ú
.
	$modify_¡yË
(
¡yË
)

460 
£lf
.
bu‰Ú
.
	$add
(
£lf
.
icÚ
)

461 
£lf
.
bu‰Ú
.
	`cÚÃù
('şicked', s–f.
Ú_şo£
)

462 
£lf
.
bu‰Ú
.
	`£t_Çme
('terminator-tab-close-button')

463 
	`ha§‰r
(
£lf
.
bu‰Ú
, 'set_tooltip_text'):

464 
£lf
.
bu‰Ú
.
	`£t_toŞt_‹xt
(
	`_
('Close Tab'))

465 
£lf
.
	$·ck_¡¬t
(
£lf
.
bu‰Ú
, 
F®£
, False)

466 
£lf
.
	$show_®l
()

468 
def
 
	$upd©e_ªgË
(
£lf
):

470 
pos™iÚ
 = 
£lf
.
nÙebook
.
	$g‘_b_pos
()

471 
pos™iÚ
 =ğ
gtk
.
POS_LEFT
:

472 
	`ha§‰r
(
£lf
, 'set_orientation'):

473 
£lf
.
	$£t_Ü›Á©iÚ
(
gtk
.
ORIENTATION_VERTICAL
)

474 
£lf
.
Ïb–
.
	$£t_ªgË
(90)

475 
–if
 
pos™iÚ
 =ğ
gtk
.
POS_RIGHT
:

476 
£lf
.
Ïb–
.
	$£t_ªgË
(270)

478 
	`ha§‰r
(
£lf
, 'set_orientation'):

479 
£lf
.
	$£t_Ü›Á©iÚ
(
gtk
.
ORIENTATION_HORIZONTAL
)

480 
£lf
.
Ïb–
.
	$£t_ªgË
(0)

482 
def
 
	$Ú_şo£
(
£lf
, 
_widg‘
):

484 
£lf
.
	`em™
('close-clicked', self)

486 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/optionparse.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü.
İtiÚ·r£
 - 
P¬£
 
commªdlše
 
İtiÚs


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


16 
impÜt
 
sys


17 
impÜt
 
os


19 
äom
 
İ¬£
 
impÜt
 
	gO±iÚP¬£r
, 
SUPPRESS_HELP


20 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


21 
impÜt
 
ut


22 
impÜt
 
cÚfig


23 
impÜt
 
v”siÚ


24 
äom
 
Œª¦©iÚ
 
impÜt
 
_


26 
def
 
	$execu‹_cb
(
İtiÚ
, 
İt
, 
v®ue
, 
Í¬£r
):

28 
as£¹
 
v®ue
 
is
 
NÚe


29 
v®ue
 = []

30 
Í¬£r
.
¿rgs
:

31 
¬g
 = 
Í¬£r
.
¿rgs
[0]

32 
v®ue
.
	$­³nd
(
¬g
)

33 
	$d–
(
Í¬£r
.
¿rgs
[0])

34 
	$£‰r
(
Í¬£r
.
v®ues
, 
İtiÚ
.
de¡
, 
v®ue
)

36 
def
 
	$·r£_İtiÚs
():

38 
u§ge
 = "usage: %prog [options]"

40 
cÚfigobj
 = 
cÚfig
.
	$CÚfig
()

41 
·r£r
 = 
	$O±iÚP¬£r
(
u§ge
)

43 
·r£r
.
	`add_İtiÚ
('-v', '--v”siÚ', 
aùiÚ
='¡Üe_Œue', 
de¡
='version',

44 
h–p
=
	`_
('Display…rogram version'))

45 
·r£r
.
	`add_İtiÚ
('-m', '--maximi£', 
aùiÚ
='¡Üe_Œue', 
de¡
='maximise',

46 
h–p
=
	`_
('Maximisehe window'))

47 
·r£r
.
	`add_İtiÚ
('-f', '--fuÎsü“n', 
aùiÚ
='store_true',

48 
de¡
='fuÎsü“n', 
h–p
=
	`_
('Makehe window fillhe screen'))

49 
·r£r
.
	`add_İtiÚ
('-b', '--bÜd”Ëss', 
aùiÚ
='store_true',

50 
de¡
='bÜd”Ëss', 
h–p
=
	`_
('Disable window borders'))

51 
·r£r
.
	`add_İtiÚ
('-H', '--hidd’', 
aùiÚ
='¡Üe_Œue', 
de¡
='hidden',

52 
h–p
=
	`_
('Hidehe window‡t startup'))

53 
·r£r
.
	`add_İtiÚ
('-T', '--t™Ë', 
de¡
='fÜûdt™Ë', 
h–p
=
	`_
('Specify‡ \
 forhe window'))

55 
·r£r
.
	`add_İtiÚ
('--geom‘ry', 
de¡
='geom‘ry', 
ty³
='¡ršg', 
h–p
=
	`_
('Set \
…referred size‡nd…osition ofhe window (see X man…age)'))

57 
·r£r
.
	`add_İtiÚ
('-e', '--commªd', 
de¡
='commªd', 
h–p
=
	`_
('Specify‡ \
oƒxecute insideheerminal'))

59 
·r£r
.
	`add_İtiÚ
('-x', '--execu‹', 
de¡
='execu‹', 
aùiÚ
='callback',

60 
ÿÎback
=
execu‹_cb
, 
h–p
=
	`_
('Usehe„est ofhe command†ine‡s‡ \
oƒxecute insideheerminal,‡nd its‡rguments'))

62 
·r£r
.
	`add_İtiÚ
('--wÜkšg-dœeùÜy', 
m‘av¬
='DIR',

63 
de¡
='wÜkšg_dœeùÜy', 
h–p
=
	`_
('Sethe working directory'))

64 
·r£r
.
	`add_İtiÚ
('-r', '--rŞe', 
de¡
='rŞe', 
h–p
=
	`_
('Set‡ custom \
_WINDOW_ROLE…roperty onhe window'))

66 
·r£r
.
	`add_İtiÚ
('-l', '--Ïyout', 
de¡
='Ïyout', 
h–p
=
	`_
('Select‡†ayout'))

67 
·r£r
.
	`add_İtiÚ
('-p', '--´ofe', 
de¡
='´ofe', 
h–p
=
	`_
('Use‡ \
…rofile‡she default'))

69 
·r£r
.
	`add_İtiÚ
('-u', '--no-dbus', 
aùiÚ
='¡Üe_Œue', 
de¡
='nodbus',

70 
h–p
=
	`_
('Disable DBus'))

71 
·r£r
.
	`add_İtiÚ
('-d', '--debug', 
aùiÚ
='couÁ', 
de¡
='debug',

72 
h–p
=
	`_
('Enable debugging information (twice for debug server)'))

73 
·r£r
.
	`add_İtiÚ
('--debug-şas£s', 
aùiÚ
='¡Üe', 
de¡
='debug_classes',

74 
h–p
=
	`_
('Comma separated†ist of classeso†imit debuggingo'))

75 
·r£r
.
	`add_İtiÚ
('--debug-m‘hods', 
aùiÚ
='¡Üe', 
de¡
='debug_methods',

76 
h–p
=
	`_
('Comma separated†ist of methodso†imit debuggingo'))

77 
™em
 
š
 ['--sm-client-id', '--sm-config-prefix', '--screen', '-n',

79 
·r£r
.
	`add_İtiÚ
(
™em
, 
de¡
='dummy', 
aùiÚ
='store',

80 
h–p
=
SUPPRESS_HELP
)

82 (
İtiÚs
, 
¬gs
èğ
·r£r
.
	$·r£_¬gs
()

83 
	`Ën
(
¬gs
) != 0:

84 
·r£r
.
	`”rÜ
('Add™iÚ® uÃx³ùed‡rgum’t found: %s' % 
¬gs
)

86 
İtiÚs
.
v”siÚ
:

87 
´št
 '% %s' % (
v”siÚ
.
APP_NAME
, v”siÚ.
APP_VERSION
)

88 
sys
.
	$ex™
(0)

90 
İtiÚs
.
debug_şas£s
 
Ü
 o±iÚs.
debug_m‘hods
:

91 
nÙ
 
İtiÚs
.
debug
 > 0:

92 
İtiÚs
.
debug
 = 1

94 
İtiÚs
.
debug
:

95 
ut
.
DEBUG
 = 
True


96 
İtiÚs
.
debug
 > 1:

97 
ut
.
DEBUGFILES
 = 
True


98 
İtiÚs
.
debug_şas£s
:

99 
şas£s
 = 
İtiÚs
.
debug_şas£s
.
	`¥l™
(',')

100 
™em
 
š
 
şas£s
:

101 
ut
.
DEBUGCLASSES
.
	`­³nd
(
™em
.
	$¡r
())

102 
İtiÚs
.
debug_m‘hods
:

103 
m‘hods
 = 
İtiÚs
.
debug_m‘hods
.
	`¥l™
(',')

104 
™em
 
š
 
m‘hods
:

105 
ut
.
DEBUGMETHODS
.
	`­³nd
(
™em
.
	$¡r
())

107 
İtiÚs
.
wÜkšg_dœeùÜy
:

108 
os
.
·th
.
	`exi¡s
(os.·th.
	$ex·ndu£r
(
İtiÚs
.
wÜkšg_dœeùÜy
)):

109 
os
.
	`chdœ
(os.
·th
.
	$ex·ndu£r
(
İtiÚs
.
wÜkšg_dœeùÜy
))

111 
	`”r
('OptionParse::parse_options: %s does‚otƒxist' %

112 
İtiÚs
.
wÜkšg_dœeùÜy
)

113 
İtiÚs
.
wÜkšg_dœeùÜy
 = ''

115 
İtiÚs
.
Ïyout
 
is
 
NÚe
:

116 
İtiÚs
.
Ïyout
 = 'default'

118 
İtiÚs
.
´ofe
 
ªd
 o±iÚs.´of
nÙ
 
š
 
cÚfigobj
.
	$li¡_´ofes
():

119 
İtiÚs
.
´ofe
 = 
NÚe


121 
cÚfigobj
.
	$İtiÚs_£t
(
İtiÚs
)

123 
ut
.
DEBUG
 =ğ
True
:

124 
	`dbg
('O±iÚP¬£::·r£_İtiÚs: commªd†šİtiÚs: %s' % 
İtiÚs
)

126 (
İtiÚs
)

	@/home/zq/Project/terminator-0.96/terminatorlib/paned.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
	gv¬ŸÁs
"""

7 
impÜt
 
gobjeù


8 
impÜt
 
gtk


10 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


11 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


12 
äom
 
çùÜy
 
impÜt
 
FaùÜy


13 
äom
 
cÚš”
 
impÜt
 
	gCÚš”


15 #pylšt: 
di§bË
-
msg
=
R0921


16 #pylšt: 
di§bË
-
msg
=
E1101


17 
şass
 
	$Pªed
(
CÚš”
):

20 
pos™iÚ
 = 
NÚe


21 
mak”
 = 
NÚe


23 
def
 
	$__š™__
(
£lf
):

25 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

26 
£lf
.
mak”
 = 
	$FaùÜy
()

27 
CÚš”
.
	$__š™__
(
£lf
)

28 
£lf
.
sigÇls
.
	`­³nd
({'name': 'resize-term',

29 'æags': 
gobjeù
.
SIGNAL_RUN_LAST
,

30 '»tuº_ty³': 
gobjeù
.
TYPE_NONE
,

31 '·¿m_ty³s': (
gobjeù
.
TYPE_STRING
,)
	}
})

34 #pylšt: 
di§bË
-
msg
=
W0613


35 
def
 
	$£t_š™Ÿl_pos™iÚ
(
£lf
, 
widg‘
, 
ev’t
):

37 
nÙ
 
£lf
.
pos™iÚ
:

38 
	$isš¡ªû
(
£lf
, 
gtk
.
VPªed
):

39 
£lf
.
pos™iÚ
 = s–f.
®loÿtiÚ
.
height
 / 2

41 
£lf
.
pos™iÚ
 = s–f.
®loÿtiÚ
.
width
 / 2

43 
	`dbg
("Pªed::£t_š™Ÿl_pos™iÚ: S‘tšg…os™iÚo: %d" % 
£lf
.
pos™iÚ
)

44 
£lf
.
	$£t_pos™iÚ
(
£lf
.
pos™iÚ
)

45 
£lf
.
úxids
.
	`»move_sigÇl
(self, 'expose-event')

47 #pylšt: 
di§bË
-
msg
=
W0613


48 
def
 
	$¥l™_axis
(
£lf
, 
widg‘
, 
v”tiÿl
=
True
, 
cwd
=
NÚe
, 
siblšg
=None,

49 
widg‘fœ¡
=
True
):

51 
Üd”
 = 
NÚe


53 
£lf
.
	$»move
(
widg‘
)

54 
v”tiÿl
:

55 
cÚš”
 = 
	$VPªed
()

57 
cÚš”
 = 
	$HPªed
()

59 
nÙ
 
siblšg
:

60 
siblšg
 = 
£lf
.
mak”
.
	`make
('terminal')

61 
siblšg
.
	$£t_cwd
(
cwd
)

62 
siblšg
.
	$¥awn_chd
()

64 
£lf
.
	$add
(
cÚš”
)

65 
£lf
.
	$show_®l
()

67 
Üd”
 = [
widg‘
, 
siblšg
]

68 
widg‘fœ¡
 
is
 
F®£
:

69 
Üd”
.
	$»v”£
()

71 
‹rmš®
 
š
 
Üd”
:

72 
cÚš”
.
	$add
(
‹rmš®
)

74 
£lf
.
	$show_®l
()

76 
def
 
	$add
(
£lf
, 
widg‘
, 
m‘ad©a
=
NÚe
):

78 
	`Ën
(
£lf
.
chd»n
) == 0:

79 
£lf
.
	$·ck1
(
widg‘
, 
True
, True)

80 
£lf
.
chd»n
.
	$­³nd
(
widg‘
)

81 
–if
 
	`Ën
(
£lf
.
chd»n
) == 1:

82 
£lf
.
	$g‘_chd1
():

83 
£lf
.
	$·ck2
(
widg‘
, 
True
, True)

85 
£lf
.
	$·ck1
(
widg‘
, 
True
, True)

86 
£lf
.
chd»n
.
	$­³nd
(
widg‘
)

88 
¿i£
 
	`V®ueE¼Ü
('Paned widgets can only havewo children')

90 
£lf
.
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

91 
tİ_wšdow
 = 
£lf
.
	$g‘_tİËv–
()

92 
sigÇls
 = {'şo£-‹rm': 
£lf
.
w¿pşo£‹rm
,

93 '¥l™-hÜiz': 
£lf
.
¥l™_hÜiz
,

94 '¥l™-v”t': 
£lf
.
¥l™_v”t
,

95 't™Ë-chªge': 
£lf
.
´İag©e_t™Ë_chªge
,

96 '»size-‹rm': 
£lf
.
»siz‘”m
,

97 'zoom': 
tİ_wšdow
.
zoom
,

98 'b-chªge': 
tİ_wšdow
.
b_chªge
,

99 'group-®l': 
tİ_wšdow
.
group_®l
,

100 'ungroup-®l': 
tİ_wšdow
.
ungroup_®l
,

101 'group-b': 
tİ_wšdow
.
group_b
,

102 'ungroup-b': 
tİ_wšdow
.
ungroup_b
,

103 'move-b': 
tİ_wšdow
.
move_b
,

104 'maximi£': [
tİ_wšdow
.
zoom
, 
F®£
],

105 'b-Ãw': [
tİ_wšdow
.
b_Ãw
, 
widg‘
],

106 'Çvig©e': 
tİ_wšdow
.
Çvig©e_‹rmš®
}

108 
sigÇl
 
š
 
sigÇls
:

109 
¬gs
 = []

110 
hªdËr
 = 
sigÇls
[
sigÇl
]

111 
	$isš¡ªû
(
hªdËr
, 
li¡
):

112 
¬gs
 = 
hªdËr
[1:]

113 
hªdËr
 = handler[0]

114 
£lf
.
	$cÚÃù_chd
(
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
)

116 
widg‘
.
	$g¿b_focus
()

118 
–if
 
	$isš¡ªû
(
widg‘
, 
gtk
.
Pªed
):

119 
Œy
:

120 
£lf
.
	`cÚÃù_chd
(
widg‘
, '»size-‹rm', s–f.
»siz‘”m
)

121 
exû±
 
Ty³E¼Ü
:

122 
	`”r
('Pªed::add: % ha nØsigÇÈ»size-‹rm' % 
widg‘
)

124 
def
 
	$»move
(
£lf
, 
widg‘
):

126 
gtk
.
Pªed
.
	$»move
(
£lf
, 
widg‘
)

127 
£lf
.
	$discÚÃù_chd
(
widg‘
)

128 
£lf
.
chd»n
.
	$»move
(
widg‘
)

129 (
True
)

131 
def
 
	$g‘_chd»n
(
£lf
):

133 
chd»n
 = []

134 
chd»n
.
	`­³nd
(
£lf
.
	$g‘_chd1
())

135 
chd»n
.
	`­³nd
(
£lf
.
	$g‘_chd2
())

136 (
chd»n
)

138 
def
 
	$w¿pşo£‹rm
(
£lf
, 
widg‘
):

140 
	`dbg
('Pªed::w¿pşo£‹rm: C®Ëd oÀ%s' % 
widg‘
)

141 
£lf
.
	$şo£‹rm
(
widg‘
):

142 #Aˆ
this
 
pošt
 
we
 
Úly
 
have
 
Úe
 
chd
, 
which
 
is
 
the
 
survivšg
 
‹rm


143 
siblšg
 = 
£lf
.
chd»n
[0]

144 
£lf
.
	$»move
(
siblšg
)

146 
m‘ad©a
 = 
NÚe


147 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

148 
m‘ad©a
 = 
·»Á
.
	$g‘_chd_m‘ad©a
(
£lf
)

149 
	`dbg
('m‘ad©¨obšed fÜ %s: %s' % (
£lf
, 
m‘ad©a
))

150 
·»Á
.
	$»move
(
£lf
)

151 
£lf
.
úxids
.
	$»move_®l
()

152 
·»Á
.
	$add
(
siblšg
, 
m‘ad©a
)

153 
siblšg
.
	$g¿b_focus
()

154 
	$d–
(
£lf
)

156 
	`dbg
("Paned::wrapcloseterm: self.closeterm failed")

158 
def
 
	$hoov”
(
£lf
):

160 
	`Ën
(
£lf
.
chd»n
) == 1:

161 
	`dbg
('Paned::hoover: We only have one child, die')

162 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

163 
chd
 = 
£lf
.
chd»n
[0]

164 
£lf
.
	$»move
(
chd
)

165 
·»Á
.
	$»¶aû
(
£lf
, 
chd
)

166 
	$d–
(
£lf
)

168 
def
 
	$»siz‘”m
(
£lf
, 
widg‘
, 
keyÇme
):

170 
keyÇme
 
š
 ['up', 'down'] 
ªd
 
	$isš¡ªû
(
£lf
, 
gtk
.
VPªed
):

171 #Thi 
is
 
a
 
key
 
we
 
ÿn
 
hªdË


172 
pos™iÚ
 = 
£lf
.
	$g‘_pos™iÚ
()

174 
£lf
.
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

175 
fÚtheight
 = 
widg‘
.
v‹
.
	$g‘_ch¬_height
()

177 
fÚtheight
 = 10

179 
keyÇme
 == 'up':

180 
£lf
.
	`£t_pos™iÚ
(
pos™iÚ
 - 
fÚtheight
)

182 
£lf
.
	`£t_pos™iÚ
(
pos™iÚ
 + 
fÚtheight
)

183 
–if
 
keyÇme
 
š
 ['Ëá', 'right'] 
ªd
 
	$isš¡ªû
(
£lf
, 
gtk
.
HPªed
):

184 #Thi 
is
 
a
 
key
 
we
 
ÿn
 
hªdË


185 
pos™iÚ
 = 
£lf
.
	$g‘_pos™iÚ
()

187 
£lf
.
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

188 
fÚtwidth
 = 
widg‘
.
v‹
.
	$g‘_ch¬_width
()

190 
fÚtwidth
 = 10

192 
keyÇme
 == 'left':

193 
£lf
.
	`£t_pos™iÚ
(
pos™iÚ
 - 
fÚtwidth
)

195 
£lf
.
	`£t_pos™iÚ
(
pos™iÚ
 + 
fÚtwidth
)

197 #Thi 
is
 
nÙ
 
a
 
key
 
we
 
ÿn
 
hªdË


198 
£lf
.
	`em™
('»size-‹rm', 
keyÇme
)

200 
def
 
	$ü—‹_Ïyout
(
£lf
, 
Ïyout
):

202 
nÙ
 
Ïyout
.
	`has_key
('children'):

203 
	`”r
('Ïyouˆ¥ecif› nØchd»n: %s' % 
Ïyout
)

206 
chd»n
 = 
Ïyout
['children']

207 
	`Ën
(
chd»n
) != 2:

208 #Pªed 
widg‘s
 
ÿn
 
Úly
 
have
 
two
 
chd»n


209 
	`”r
('šcÜ»ù‚umb” oàchd»ÀfÜ Pªed: %s' % 
Ïyout
)

212 
keys
 = []

214 #FIXME: 
This
 
£ems
 
kšda
 
ugly
. 
AÎ
 
we
 
wªt
 
h”e
 
is
 
to
 
know
 
the
 
Üd”


215 #oà
chd»n
 
ba£d
 
Ú
 
chd
['order']

216 
Œy
:

217 
chd_Üd”_m­
 = {
	}
}

218 
chd
 
š
 
chd»n
:

219 
key
 = 
chd»n
[
chd
]['order']

220 
chd_Üd”_m­
[
key
] = 
chd


221 
m­_keys
 = 
chd_Üd”_m­
.
	$keys
()

222 
m­_keys
.
	$sÜt
()

223 
m­_key
 
š
 
m­_keys
:

224 
keys
.
	$­³nd
(
chd_Üd”_m­
[
m­_key
])

225 
exû±
 
KeyE¼Ü
:

227 #š 
the
 
wrÚg
 
Üd”


228 
keys
 = 
chd»n
.
	$keys
()

230 
num
 = 0

231 
chd_key
 
š
 
keys
:

232 
chd
 = 
chd»n
[
chd_key
]

233 
	`dbg
('Makšg‡ chd oàty³: %s' % 
chd
['type'])

234 
chd
['type'] == 'Terminal':

235 
·ss


236 
–if
 
chd
['type'] == 'VPaned':

237 
num
 == 0:

238 
‹rmš®
 = 
£lf
.
	$g‘_chd1
()

240 
‹rmš®
 = 
£lf
.
	$g‘_chd2
()

241 
£lf
.
	$¥l™_axis
(
‹rmš®
, 
True
)

242 
–if
 
chd
['type'] == 'HPaned':

243 
num
 == 0:

244 
‹rmš®
 = 
£lf
.
	$g‘_chd1
()

246 
‹rmš®
 = 
£lf
.
	$g‘_chd2
()

247 
£lf
.
	$¥l™_axis
(
‹rmš®
, 
F®£
)

249 
	`”r
('unknowÀchdy³: %s' % 
chd
['type'])

250 
num
 =‚um + 1

252 
£lf
.
	`g‘_chd1
().
	$ü—‹_Ïyout
(
chd»n
[
keys
[0]])

253 
£lf
.
	`g‘_chd2
().
	$ü—‹_Ïyout
(
chd»n
[
keys
[1]])

255 #StÜ
the
 
pos™iÚ
 
Ï‹r


256 
Ïyout
['position']:

257 
£lf
.
pos™iÚ
 = (
Ïyout
['position'])

259 
def
 
	$g¿b_focus
(
£lf
):

261 
£lf
.
	`g‘_chd1
().
	$g¿b_focus
()

263 
şass
 
	$HPªed
(
Pªed
, 
gtk
.
HPªed
):

265 
def
 
	$__š™__
(
£lf
):

267 
Pªed
.
	$__š™__
(
£lf
)

268 
gtk
.
HPªed
.
	$__š™__
(
£lf
)

269 
£lf
.
	$»gi¡”_sigÇls
(
HPªed
)

270 
£lf
.
úxids
.
	`Ãw
(£lf, 'expo£-ev’t', s–f.
£t_š™Ÿl_pos™iÚ
)

272 
şass
 
	$VPªed
(
Pªed
, 
gtk
.
VPªed
):

274 
def
 
	$__š™__
(
£lf
):

276 
Pªed
.
	$__š™__
(
£lf
)

277 
gtk
.
VPªed
.
	$__š™__
(
£lf
)

278 
£lf
.
	$»gi¡”_sigÇls
(
VPªed
)

279 
£lf
.
úxids
.
	`Ãw
(£lf, 'expo£-ev’t', s–f.
£t_š™Ÿl_pos™iÚ
)

281 
gobjeù
.
	$ty³_»gi¡”
(
HPªed
)

282 
gobjeù
.
	$ty³_»gi¡”
(
VPªed
)

283 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/plugin.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
In¥œed
 
by
 
Armš
 
	gRÚach”
's…ost‡t

6 
	gh‰p
:

7 
U£d
 
w™h
 
³rmissiÚ
 (
the
 
code
 
š
 
th©
 
po¡
 
is
 
to
 
be


8 
cÚsid”ed
 
BSD
 
liûnûd
, 
³r
 
the
 
authÜs
 
wishes
)

10 >>> 
	g»gi¡ry
 = 
PlugšRegi¡ry
()

11 >>> 
»gi¡ry
.
š¡ªûs


13 >>> 
»gi¡ry
.
lßd_¶ugšs
(
True
)

14 >>> 
¶ugšs
 = 
»gi¡ry
.
g‘_¶ugšs_by_ÿ·b™y
('test')

15 >>> 
Ën
(
¶ugšs
)

17 >>> 
¶ugšs
[0] #doùe¡: +
ELLIPSIS


18 <
‹¡¶ugš
.
Te¡Plugš
 
objeù
 
©
 0x...>

19 >>> 
»gi¡ry
.
g‘_¶ugšs_by_ÿ·b™y
('this_should_not_ever_exist')

21 >>> 
¶ugšs
[0].
do_‹¡
()

26 
impÜt
 
sys


27 
impÜt
 
os


28 
impÜt
 
bÜg


29 
äom
 
cÚfig
 
impÜt
 
CÚfig


30 
äom
 
ut
 
impÜt
 
dbg
, 
	g”r
, 
g‘_cÚfig_dœ


31 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


33 
şass
 
	$Plugš
(
objeù
):

35 
ÿ·b™›s
 = 
NÚe


37 
def
 
	$__š™__
(
£lf
):

39 
·ss


41 
def
 
	$uÆßd
(
£lf
):

43 
·ss


45 
şass
 
	$PlugšRegi¡ry
(
bÜg
.
BÜg
):

47 
avaabË_¶ugšs
 = 
NÚe


48 
š¡ªûs
 = 
NÚe


49 
·th
 = 
NÚe


50 
dÚe
 = 
NÚe


52 
def
 
	$__š™__
(
£lf
):

54 
bÜg
.
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

55 
£lf
.
	$´•¬e_©Œibu‹s
()

57 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

59 
nÙ
 
£lf
.
š¡ªûs
:

60 
£lf
.
š¡ªûs
 = {
	}
}

61 
nÙ
 
£lf
.
·th
:

62 
£lf
.
·th
 = []

63 (
h—d
, 
	g_
èğ
os
.
·th
.
	$¥l™
(
bÜg
.
__fe__
)

64 
£lf
.
·th
.
	`­³nd
(
os
.·th.
	`još
(
h—d
, 'plugins'))

65 
£lf
.
·th
.
	`­³nd
(
os
.·th.
	`još
(
	`g‘_cÚfig_dœ
(), 'plugins'))

66 
	`dbg
('PluginRegistry::prepare_attributes: Plugin…ath: %s' %

67 
£lf
.
·th
)

68 
nÙ
 
£lf
.
dÚe
:

69 
£lf
.
dÚe
 = 
F®£


70 
nÙ
 
£lf
.
avaabË_¶ugšs
:

71 
£lf
.
avaabË_¶ugšs
 = {
	}
}

73 
def
 
	$lßd_¶ugšs
(
£lf
, 
‹¡šg
=
F®£
):

75 
£lf
.
dÚe
:

76 
	`dbg
('PluginRegistry::load_plugins: Already†oaded')

79 
cÚfig
 = 
	$CÚfig
()

81 
¶ugšdœ
 
š
 
£lf
.
·th
:

82 
sys
.
·th
.
	$š£¹
(0, 
¶ugšdœ
)

83 
Œy
:

84 
fes
 = 
os
.
	$li¡dœ
(
¶ugšdœ
)

85 
exû±
 
OSE¼Ü
:

86 
sys
.
·th
.
	$»move
(
¶ugšdœ
)

88 
¶ugš
 
š
 
fes
:

89 
¶ugš·th
 = 
os
.
·th
.
	$još
(
¶ugšdœ
, 
¶ugš
)

90 
os
.
·th
.
	$isfe
(
¶ugš·th
è
ªd
 
¶ugš
[-3:] == '.py':

91 
	`dbg
('PluginRegistry::load_plugins: Importing…lugin %s' %

92 
¶ugš
)

93 
Œy
:

94 
moduË
 = 
	`__impÜt__
(
¶ugš
[:-3], 
NÚe
, None, [''])

95 
™em
 
š
 
	`g‘©Œ
(
moduË
, 'AVAILABLE'):

96 
™em
 
nÙ
 
š
 
£lf
.
avaabË_¶ugšs
.
	$keys
():

97 
func
 = 
	$g‘©Œ
(
moduË
, 
™em
)

98 
£lf
.
avaabË_¶ugšs
[
™em
] = 
func


100 
nÙ
 
‹¡šg
 
ªd
 
™em
‚Ù 
š
 
cÚfig
['enabled_plugins']:

101 
	`dbg
('¶ugš % nÙƒÇbËd, skpšg' % 
™em
)

103 
™em
 
nÙ
 
š
 
£lf
.
š¡ªûs
:

104 
£lf
.
š¡ªûs
[
™em
] = 
	$func
()

105 
exû±
 
Exû±iÚ
, 
ex
:

106 
	`”r
('PlugšRegi¡ry::lßd_¶ugšs: ImpÜtšg…lugš % \
: %s' % (
¶ugš
, 
ex
))

109 
£lf
.
dÚe
 = 
True


111 
def
 
	$g‘_¶ugšs_by_ÿ·b™y
(
£lf
, 
ÿ·b™y
):

113 
»suÉ
 = []

114 
	`dbg
('PlugšRegi¡ry::g‘_¶ugšs_by_ÿ·b™y: s—rchšg %d…lugš \
 %s' % (
	`Ën
(
£lf
.
š¡ªûs
), 
ÿ·b™y
))

116 
¶ugš
 
š
 
£lf
.
š¡ªûs
:

117 
ÿ·b™y
 
š
 
£lf
.
š¡ªûs
[
¶ugš
].
ÿ·b™›s
:

118 
»suÉ
.
	$­³nd
(
£lf
.
š¡ªûs
[
¶ugš
])

119  
»suÉ


121 
def
 
	$g‘_®l_¶ugšs
(
£lf
):

123 (
£lf
.
š¡ªûs
)

125 
def
 
	$g‘_avaabË_¶ugšs
(
£lf
):

127 
di§bËd
"""

128 (
£lf
.
avaabË_¶ugšs
.
	$keys
())

130 
def
 
	$is_’abËd
(
£lf
, 
¶ugš
):

132 
nÙ
"""

133 (
£lf
.
š¡ªûs
.
	$has_key
(
¶ugš
))

135 
def
 
	$’abË
(
£lf
, 
¶ugš
):

137 
¶ugš
 
š
 
£lf
.
š¡ªûs
:

138 
	`”r
("CªnÙƒÇbË…lugš %s,‡Ì—dyƒÇbËd" % 
¶ugš
)

139 
	`dbg
("EÇblšg %s" % 
¶ugš
)

140 
£lf
.
š¡ªûs
[
¶ugš
] = s–f.
avaabË_¶ugšs
[plugin]()

142 
def
 
	$di§bË
(
£lf
, 
¶ugš
):

144 
	`dbg
("Di§blšg %s" % 
¶ugš
)

145 
£lf
.
š¡ªûs
[
¶ugš
].
	$uÆßd
()

146 
	$d–
(
£lf
.
š¡ªûs
[
¶ugš
])

148 #Thi 
is
 
wh”e
 
we
 
should
 
defše
 
a
 
ba£
 
şass
 
—ch
 
ty³
 
of
 
¶ugš
 we

151 #URLHªdË¸- 
This
 
adds
 
a
 
»gex
 
m©ch
 
to
 
the
 
T”mš®
 
widg‘
 
ªd
 
´ovides
‡

152 #ÿÎback 
to
 
tuº
 
th©
 
što
 
a
 
URL
.

153 
şass
 
	$URLHªdËr
(
Plugš
):

155 
ÿ·b™›s
 = ['url_handler']

156 
hªdËr_Çme
 = 
NÚe


157 
m©ch
 = 
NÚe


159 
def
 
	$__š™__
(
£lf
):

161 
Plugš
.
	$__š™__
(
£lf
)

162 
‹rmš©Ü
 = 
	$T”mš©Ü
()

163 
‹rmš®
 
š
 
‹rmš©Ü
.
‹rmš®s
:

164 
‹rmš®
.
	$m©ch_add
(
£lf
.
hªdËr_Çme
, s–f.
m©ch
)

166 
def
 
	$ÿÎback
(
£lf
, 
u¾
):

168 
¿i£
 
NÙIm¶em’‹dE¼Ü


170 
def
 
	$uÆßd
(
£lf
):

172 
nÙ
 
£lf
.
m©ch
:

173 
	`”r
('unload called without self.handler_name being set')

175 
‹rmš©Ü
 = 
	$T”mš©Ü
()

176 
‹rmš®
 
š
 
‹rmš©Ü
.
‹rmš®s
:

177 
‹rmš®
.
	$m©ch_»move
(
£lf
.
hªdËr_Çme
)

179 #M’uI‹m - 
This
 
is
 
abË
 
to
 
execu‹
 
code
 
duršg
 
the
 
cÚ¡ruùiÚ
 
of
he

180 #cÚ‹xˆ
m’u
 
of
 
a
 
T”mš®
.

181 
şass
 
	$M’uI‹m
(
Plugš
):

183 
ÿ·b™›s
 = ['terminal_menu']

185 
def
 
	$ÿÎback
(
£lf
, 
m’u™ems
, 
m’u
, 
‹rmš®
):

187 
¿i£
 
NÙIm¶em’‹dE¼Ü


	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/activitywatch.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
time


7 
impÜt
 
gtk


8 
impÜt
 
gobjeù


10 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
…lugin

11 
äom
 
	g‹rmš©Ülib
.
Œª¦©iÚ
 
impÜt
 
_


12 
äom
 
	g‹rmš©Ülib
.
ut
 
impÜt
 
	g”r
, 
dbg


13 
äom
 
	g‹rmš©Ülib
.
v”siÚ
 
impÜt
 
APP_NAME


15 
	gŒy
:

16 
impÜt
 
pynÙify


17 #Ev”y 
¶ugš
 
you
 
wªt
 
T”mš©Ü
 
to
 
lßd
 *
mu¡
* 
be
 
li¡ed
 
š
 'AVAILABLE'

18 #Thi 
is
 
šside
 
this
 
Œy
 
so
 
we
 
Úly
 
make
 
the
 
¶ugš
 
avaabË
 
pynÙify


19 #i 
´e£Á
 
Ú
 
this
 
compu‹r
.

20 
AVAILABLE
 = ['ActivityWatch', 'InactivityWatch']

21 
exû±
 
	gImpÜtE¼Ü
:

22 
”r
(
_
('ActivityWatch…lugin unavailable:…lease install…ython-notify'))

24 
şass
 
	$Aùiv™yW©ch
(
¶ugš
.
M’uI‹m
):

26 
ÿ·b™›s
 = ['terminal_menu']

27 
w©ches
 = 
NÚe


28 
Ï¡_nÙif›s
 = 
NÚe


29 
tim”s
 = 
NÚe


31 
def
 
	$__š™__
(
£lf
):

32 
¶ugš
.
M’uI‹m
.
	$__š™__
(
£lf
)

33 
nÙ
 
£lf
.
w©ches
:

34 
£lf
.
w©ches
 = {
	}
}

35 
nÙ
 
£lf
.
Ï¡_nÙif›s
:

36 
£lf
.
Ï¡_nÙif›s
 = {}

37 
nÙ
 
£lf
.
tim”s
:

38 
£lf
.
tim”s
 = {}

40 
pynÙify
.
š™
(
APP_NAME
.
	$ÿp™®ize
())

42 
def
 
	$ÿÎback
(
£lf
, 
m’u™ems
, 
m’u
, 
‹rmš®
):

44 
nÙ
 
£lf
.
w©ches
.
	$has_key
(
‹rmš®
):

45 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Watch for‡ctivity'))

46 
™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
w©ch
, 
‹rmš®
)

48 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Stop watching for‡ctivity'))

49 
™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
unw©ch
, 
‹rmš®
)

50 
m’u™ems
.
	$­³nd
(
™em
)

52 
def
 
	$w©ch
(
£lf
, 
_widg‘
, 
‹rmš®
):

54 
v‹
 = 
‹rmš®
.
	$g‘_v‹
()

55 
£lf
.
w©ches
[
‹rmš®
] = 
v‹
.
	`cÚÃù
('contents-changed',

56 
£lf
.
nÙify
, 
‹rmš®
)

58 
def
 
	$unw©ch
(
£lf
, 
_widg‘
, 
‹rmš®
):

60 
v‹
 = 
‹rmš®
.
	$g‘_v‹
()

61 
v‹
.
	$discÚÃù
(
£lf
.
w©ches
[
‹rmš®
])

62 
	$d–
(
£lf
.
w©ches
[
‹rmš®
])

64 
def
 
	$nÙify
(
£lf
, 
_v‹
, 
‹rmš®
):

66 
show_nÙify
 = 
F®£


69 
‹rmš®
.
v‹
.
	`æags
(è& 
gtk
.
HAS_FOCUS
:

70  
True


72 
nÙe
 = 
pynÙify
.
	`NÙifiÿtiÚ
('Terminator', 'Activity in: %s' %

73 
‹rmš®
.
	`g‘_wšdow_t™Ë
(), 'terminator')

75 
this_time
 = 
time
.
	`mktime
Ñime.
	$gmtime
())

76 
nÙ
 
£lf
.
Ï¡_nÙif›s
.
	$has_key
(
‹rmš®
):

77 
show_nÙify
 = 
True


79 
Ï¡_time
 = 
£lf
.
Ï¡_nÙif›s
[
‹rmš®
]

80 
this_time
 - 
Ï¡_time
 > 10:

81 
show_nÙify
 = 
True


83 
show_nÙify
 =ğ
True
:

84 
nÙe
.
	$show
()

85 
£lf
.
Ï¡_nÙif›s
[
‹rmš®
] = 
this_time


87  
True


89 
şass
 
	$IÇùiv™yW©ch
(
¶ugš
.
M’uI‹m
):

91 
ÿ·b™›s
 = ['terminal_menu']

92 
w©ches
 = 
NÚe


93 
Ï¡_aùiv™›s
 = 
NÚe


94 
tim”s
 = 
NÚe


96 
def
 
	$__š™__
(
£lf
):

97 
¶ugš
.
M’uI‹m
.
	$__š™__
(
£lf
)

98 
nÙ
 
£lf
.
w©ches
:

99 
£lf
.
w©ches
 = {
	}
}

100 
nÙ
 
£lf
.
Ï¡_aùiv™›s
:

101 
£lf
.
Ï¡_aùiv™›s
 = {}

102 
nÙ
 
£lf
.
tim”s
:

103 
£lf
.
tim”s
 = {}

105 
pynÙify
.
š™
(
APP_NAME
.
	$ÿp™®ize
())

107 
def
 
	$ÿÎback
(
£lf
, 
m’u™ems
, 
m’u
, 
‹rmš®
):

109 
nÙ
 
£lf
.
w©ches
.
	$has_key
(
‹rmš®
):

110 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
("Watch for silence"))

111 
™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
w©ch
, 
‹rmš®
)

113 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
("Stop watching for silence"))

114 
™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
unw©ch
, 
‹rmš®
)

115 
m’u™ems
.
	$­³nd
(
™em
)

116 
	`dbg
('Menu items‡ppended')

118 
def
 
	$w©ch
(
£lf
, 
_widg‘
, 
‹rmš®
):

120 
v‹
 = 
‹rmš®
.
	$g‘_v‹
()

121 
£lf
.
w©ches
[
‹rmš®
] = 
v‹
.
	`cÚÃù
('contents-changed',

122 
£lf
.
»£t_tim”
, 
‹rmš®
)

123 
timeout_id
 = 
gobjeù
.
	$timeout_add
(5000, 
£lf
.
check_times
, 
‹rmš®
)

124 
£lf
.
tim”s
[
‹rmš®
] = 
timeout_id


125 
	`dbg
('tim” % added fÜ %s' %(
timeout_id
, 
‹rmš®
))

127 
def
 
	$unw©ch
(
£lf
, 
_v‹
, 
‹rmš®
):

129 
v‹
 = 
‹rmš®
.
	$g‘_v‹
()

130 
v‹
.
	$discÚÃù
(
£lf
.
w©ches
[
‹rmš®
])

131 
	$d–
(
£lf
.
w©ches
[
‹rmš®
])

132 
gobjeù
.
	$sourû_»move
(
£lf
.
tim”s
[
‹rmš®
])

133 
	$d–
(
£lf
.
tim”s
[
‹rmš®
])

135 
def
 
	$»£t_tim”
(
£lf
, 
_v‹
, 
‹rmš®
):

137 
time_now
 = 
time
.
	`mktime
Ñime.
	$gmtime
())

138 
£lf
.
Ï¡_aùiv™›s
[
‹rmš®
] = 
time_now


139 
	`dbg
('»£ˆaùiv™yimfÜ %s' % 
‹rmš®
)

141 
def
 
	$check_times
(
£lf
, 
‹rmš®
):

143 
time_now
 = 
time
.
	`mktime
Ñime.
	$gmtime
())

144 
nÙ
 
£lf
.
Ï¡_aùiv™›s
.
	$has_key
(
‹rmš®
):

145 
	`dbg
('T”mš® % ha nØÏ¡‡ùiv™y' % 
‹rmš®
)

146  
True


148 
	`dbg
('£cÚd sšû†a¡‡ùiv™y: %à(%s)' % (
time_now
 - 
£lf
.
Ï¡_aùiv™›s
[
‹rmš®
],erminal))

149 
time_now
 - 
£lf
.
Ï¡_aùiv™›s
[
‹rmš®
] >= 10.0:

150 
	$d–
(
£lf
.
Ï¡_aùiv™›s
[
‹rmš®
])

151 
nÙe
 = 
pynÙify
.
	`NÙifiÿtiÚ
('Terminator', 'Silence in: %s' %

152 
‹rmš®
.
	`g‘_wšdow_t™Ë
(), 'terminator')

153 
nÙe
.
	$show
()

155  
True


	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/custom_commands.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
impÜt
 
sys


6 
impÜt
 
	gos


8 #Fix 
impÜts
 
wh’
 
‹¡šg
 
this
 
fe
 
dœeùly


9 
	g__Çme__
 == '__main__':

10 
sys
.
·th
.
­³nd
Ğ
os
.·th.
još
(os.·th.
dœÇme
(
__fe__
), "../.."))

12 
impÜt
 
gtk


13 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
…lugin

14 
äom
 
	g‹rmš©Ülib
.
cÚfig
 
impÜt
 
CÚfig


15 
äom
 
	g‹rmš©Ülib
.
Œª¦©iÚ
 
impÜt
 
_


16 
äom
 
	g‹rmš©Ülib
.
ut
 
impÜt
 
	gg‘_cÚfig_dœ


18 (
	gCC_COL_ENABLED
, 
	gCC_COL_NAME
, 
	gCC_COL_COMMAND
èğ
	$¿nge
(0,3)

20 #Ev”y 
¶ugš
 
you
 
wªt
 
T”mš©Ü
 
to
 
lßd
 *
mu¡
* 
be
 
li¡ed
 
š
 'AVAILABLE'

21 
AVAILABLE
 = ['CustomCommandsMenu']

23 
şass
 
	$Cu¡omCommªdsM’u
(
¶ugš
.
M’uI‹m
):

25 
ÿ·b™›s
 = ['terminal_menu']

26 
cmd_li¡
 = []

27 
cÚf_fe
 = 
os
.
·th
.
	`još
(
	`g‘_cÚfig_dœ
(),"custom_commands")

29 
def
 
	$__š™__
Ğ
£lf
):

30 
cÚfig
 = 
	$CÚfig
()

31 
£ùiÚs
 = 
cÚfig
.
	$¶ugš_g‘_cÚfig
(
£lf
.
__şass__
.
__Çme__
)

32 
nÙ
 
	$isš¡ªû
(
£ùiÚs
, 
diù
):

34 
·¹
 
š
 
£ùiÚs
:

35 
s
 = 
£ùiÚs
[
·¹
]

36 
	`nÙ
 (
s
.
	`has_key
("Çme"è
ªd
 s.has_key("command")):

37 
´št
 "Cu¡omCommªdsM’u: IgnÜšg seùiÚ %s" % 
s


39 
Çme
 = 
s
["name"]

40 
commªd
 = 
s
["command"]

41 
’abËd
 = 
s
["’abËd"] 
ªd
 s["’abËd"] 
Ü
 
F®£


42 
£lf
.
cmd_li¡
.
	`­³nd
(

43 {'’abËd' : 
’abËd
,

44 'Çme' : 
Çme
,

45 'commªd' : 
commªd


46 
	}
}

48 
def
 
	$ÿÎback
(
£lf
, 
m’u™ems
, 
m’u
, 
‹rmš®
):

50 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Custom Commands'))

51 
m’u™ems
.
	$­³nd
(
™em
)

53 
subm’u
 = 
gtk
.
	$M’u
()

54 
™em
.
	$£t_subm’u
(
subm’u
)

56 
m’u™em
 = 
gtk
.
	$ImageM’uI‹m
(
gtk
.
STOCK_PREFERENCES
)

57 
m’u™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
cÚfigu»
)

58 
subm’u
.
	$­³nd
(
m’u™em
)

60 
m’u™em
 = 
gtk
.
	$S•¬©ÜM’uI‹m
()

61 
subm’u
.
	$­³nd
(
m’u™em
)

63 
theme
 = 
gtk
.
	$IcÚTheme
()

64 
commªd
 
š
 
£lf
.
cmd_li¡
:

65 
nÙ
 
commªd
['enabled']:

67 
exe
 = 
commªd
['commªd'].
	`¥l™
(' ')[0]

68 
icÚšfo
 = 
theme
.
	$choo£_icÚ
([
exe
], 
gtk
.
ICON_SIZE_MENU
, gtk.
ICON_LOOKUP_USE_BUILTIN
)

69 
icÚšfo
:

70 
image
 = 
gtk
.
	$Image
()

71 
image
.
	$£t_äom_icÚ_Çme
(
exe
, 
gtk
.
ICON_SIZE_MENU
)

72 
m’u™em
 = 
gtk
.
	`ImageM’uI‹m
(
commªd
['name'])

73 
m’u™em
.
	$£t_image
(
image
)

75 
m’u™em
 = 
gtk
.
	`M’uI‹m
(
commªd
["name"])

76 
m’u™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
_execu‹
, {'‹rmš®' : 
‹rmš®
, 'commªd' : 
commªd
['commªd'] 
	}
})

77 
subm’u
.
	$­³nd
(
m’u™em
)

79 
def
 
	$_§ve_cÚfig
(
£lf
):

80 
cÚfig
 = 
	$CÚfig
()

81 
i
 = 0

82 
Ëngth
 = 
	$Ën
(
£lf
.
cmd_li¡
)

83 
i
 < 
Ëngth
:

84 
’abËd
 = 
£lf
.
cmd_li¡
[
i
]['enabled']

85 
Çme
 = 
£lf
.
cmd_li¡
[
i
]['name']

86 
commªd
 = 
£lf
.
cmd_li¡
[
i
]['command']

88 
™em
 = {
	}
}

89 
™em
['’abËd'] = 
’abËd


90 
™em
['Çme'] = 
Çme


91 
™em
['commªd'] = 
commªd


93 
cÚfig
.
	$¶ugš_£t
(
£lf
.
__şass__
.
__Çme__
, 
Çme
, 
™em
)

94 
cÚfig
.
	$§ve
()

95 
i
 = i + 1

97 
def
 
	$_execu‹
(
£lf
, 
widg‘
, 
d©a
):

98 
commªd
 = 
d©a
['command']

99 
commªd
[
	`Ën
(command)-1] != '\n':

100 
commªd
 = command + '\n'

101 
d©a
['‹rmš®'].
v‹
.
	$ãed_chd
(
commªd
)

103 
def
 
	$cÚfigu»
(
£lf
, 
widg‘
, 
d©a
 = 
NÚe
):

104 
ui
 = {
	}
}

105 
dbox
 = 
gtk
.
DŸlog
(

106 
_
("Custom Commands Configuration"),

107 
NÚe
,

108 
gtk
.
DIALOG_MODAL
,

110 
gtk
.
STOCK_CANCEL
, gtk.
RESPONSE_REJECT
,

111 
gtk
.
STOCK_OK
, gtk.
RESPONSE_ACCEPT


114 
	g¡Üe
 = 
gtk
.
	$Li¡StÜe
(
boŞ
, 
¡r
, str)

116 
commªd
 
š
 
£lf
.
cmd_li¡
:

117 
¡Üe
.
	`­³nd
([
commªd
['enabled'], command['name'], command['command']])

119 
Œ“v›w
 = 
gtk
.
	$T»eV›w
(
¡Üe
)

120 #Œ“v›w.
	`cÚÃù
("cursÜ-chªged", 
£lf
.
Ú_cursÜ_chªged
, 
ui
)

121 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

122 
£ËùiÚ
.
	$£t_mode
(
gtk
.
SELECTION_SINGLE
)

123 
£ËùiÚ
.
	`cÚÃù
("chªged", 
£lf
.
Ú_£ËùiÚ_chªged
, 
ui
)

124 
ui
['Œ“v›w'] = 
Œ“v›w


126 
»nd””
 = 
gtk
.
	$C–lR’d””ToggË
()

127 
»nd””
.
	`cÚÃù
('toggËd', 
£lf
.
Ú_toggËd
, 
ui
)

128 
cŞumn
 = 
gtk
.
	`T»eV›wCŞumn
("EÇbËd", 
»nd””
, 
aùive
=
CC_COL_ENABLED
)

129 
Œ“v›w
.
	$­³nd_cŞumn
(
cŞumn
)

131 
»nd””
 = 
gtk
.
	$C–lR’d””Text
()

132 
cŞumn
 = 
gtk
.
	`T»eV›wCŞumn
("Name", 
»nd””
, 
‹xt
=
CC_COL_NAME
)

133 
Œ“v›w
.
	$­³nd_cŞumn
(
cŞumn
)

135 
»nd””
 = 
gtk
.
	$C–lR’d””Text
()

136 
cŞumn
 = 
gtk
.
	`T»eV›wCŞumn
("Commªd", 
»nd””
, 
‹xt
=
CC_COL_COMMAND
)

137 
Œ“v›w
.
	$­³nd_cŞumn
(
cŞumn
)

139 
hbox
 = 
gtk
.
	$HBox
()

140 
hbox
.
	$·ck_¡¬t
(
Œ“v›w
)

141 
dbox
.
vbox
.
	$·ck_¡¬t
(
hbox
)

143 
bu‰Ú_box
 = 
gtk
.
	$VBox
()

145 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_GOTO_TOP
)

146 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

147 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_gÙo_tİ
, 
ui
)

148 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

149 
ui
['bu‰Ú_tİ'] = 
bu‰Ú


151 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_GO_UP
)

152 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

153 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_go_up
, 
ui
)

154 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

155 
ui
['bu‰Ú_up'] = 
bu‰Ú


157 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_GO_DOWN
)

158 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

159 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_go_down
, 
ui
)

160 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

161 
ui
['bu‰Ú_down'] = 
bu‰Ú


163 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_GOTO_LAST
)

164 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

165 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_gÙo_Ï¡
, 
ui
)

166 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

167 
ui
['bu‰Ú_Ï¡'] = 
bu‰Ú


169 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_NEW
)

170 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

171 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_Ãw
, 
ui
)

172 
ui
['bu‰Ú_Ãw'] = 
bu‰Ú


174 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_EDIT
)

175 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

176 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

177 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_ed™
, 
ui
)

178 
ui
['bu‰Ú_ed™'] = 
bu‰Ú


180 
bu‰Ú
 = 
gtk
.
	$Bu‰Ú
(
¡ock
=
gtk
.
STOCK_DELETE
)

181 
bu‰Ú_box
.
	$·ck_¡¬t
(
bu‰Ú
, 
F®£
, 
True
)

182 
bu‰Ú
.
	`cÚÃù
("şicked", 
£lf
.
Ú_d–‘e
, 
ui
)

183 
bu‰Ú
.
	$£t_£ns™ive
(
F®£
)

184 
ui
['bu‰Ú_d–‘e'] = 
bu‰Ú


188 
hbox
.
	$·ck_¡¬t
(
bu‰Ú_box
)

189 
dbox
.
	$show_®l
()

190 
»s
 = 
dbox
.
	$run
()

191 
»s
 =ğ
gtk
.
RESPONSE_ACCEPT
:

192 #w
§ve
 
the
 
cÚfig


193 
™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

194 
£lf
.
cmd_li¡
 = []

195 
™”
:

196 (
’abËd
, 
Çme
, 
commªd
èğ
¡Üe
.
	$g‘
(
™”
,

197 
CC_COL_ENABLED
,

198 
CC_COL_NAME
,

199 
CC_COL_COMMAND
)

200 
£lf
.
cmd_li¡
.
	`­³nd
(

201 {'’abËd' : 
’abËd
,

202 'Çme': 
Çme
,

203 'commªd' : 
commªd
}

205 
™”
 = 
¡Üe
.
	$™”_Ãxt
(
™”
)

206 
£lf
.
	$_§ve_cÚfig
()

208 
dbox
.
	$de¡roy
()

211 
def
 
	$Ú_toggËd
(
£lf
, 
widg‘
, 
·th
, 
d©a
):

212 
Œ“v›w
 = 
d©a
['treeview']

213 
¡Üe
 = 
Œ“v›w
.
	$g‘_mod–
()

214 
™”
 = 
¡Üe
.
	$g‘_™”
(
·th
)

215 (
’abËd
, 
Çme
, 
commªd
èğ
¡Üe
.
	$g‘
(
™”
,

216 
CC_COL_ENABLED
,

217 
CC_COL_NAME
,

218 
CC_COL_COMMAND


220 
¡Üe
.
	$£t_v®ue
(
™”
, 
CC_COL_ENABLED
, 
nÙ
 
’abËd
)

221 
cmd
 
š
 
£lf
.
cmd_li¡
:

222 
cmd
['Çme'] =ğ
Çme
:

223 
cmd
['’abËd'] = 
nÙ
 
’abËd


226 
def
 
	$Ú_£ËùiÚ_chªged
(
£lf
,
£ËùiÚ
, 
d©a
=
NÚe
):

227 
Œ“v›w
 = 
£ËùiÚ
.
	$g‘_Œ“_v›w
()

228 (
mod–
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

229 
d©a
['bu‰Ú_tİ'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

230 
d©a
['bu‰Ú_up'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

231 
d©a
['bu‰Ú_down'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

232 
d©a
['bu‰Ú_Ï¡'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

233 
d©a
['bu‰Ú_ed™'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

234 
d©a
['bu‰Ú_d–‘e'].
	$£t_£ns™ive
(
™”
 
is
 
nÙ
 
NÚe
)

236 
def
 
	`_ü—‹_commªd_dŸlog
(
£lf
, 
’abËd_v¬
 = 
F®£
, 
Çme_v¬
 = "", 
commªd_v¬
 = ""):

237 
dŸlog
 = 
gtk
.
	`DŸlog
(

238 
	`_
("New Command"),

239 
NÚe
,

240 
gtk
.
DIALOG_MODAL
,

242 
gtk
.
STOCK_CANCEL
, gtk.
RESPONSE_REJECT
,

243 
gtk
.
STOCK_OK
, gtk.
RESPONSE_ACCEPT


246 
bË
 = 
gtk
.
	$TabË
(3, 2)

248 
Ïb–
 = 
gtk
.
	`Lab–
(
	`_
("Enabled:"))

249 
bË
.
	$©ch
(
Ïb–
, 0, 1, 0, 1)

250 
’abËd
 = 
gtk
.
	$CheckBu‰Ú
()

251 
’abËd
.
	$£t_aùive
(
’abËd_v¬
)

252 
bË
.
	$©ch
(
’abËd
, 1, 2, 0, 1)

254 
Ïb–
 = 
gtk
.
	`Lab–
(
	`_
("Name:"))

255 
bË
.
	$©ch
(
Ïb–
, 0, 1, 1, 2)

256 
Çme
 = 
gtk
.
	$EÁry
()

257 
Çme
.
	$£t_‹xt
(
Çme_v¬
)

258 
bË
.
	$©ch
(
Çme
, 1, 2, 1, 2)

260 
Ïb–
 = 
gtk
.
	`Lab–
(
	`_
("Command:"))

261 
bË
.
	$©ch
(
Ïb–
, 0, 1, 2, 3)

262 
commªd
 = 
gtk
.
	$EÁry
()

263 
commªd
.
	$£t_‹xt
(
commªd_v¬
)

264 
bË
.
	$©ch
(
commªd
, 1, 2, 2, 3)

266 
dŸlog
.
vbox
.
	$·ck_¡¬t
(
bË
)

267 
dŸlog
.
	$show_®l
()

268  (
dŸlog
,
’abËd
,
Çme
,
commªd
)

270 
def
 
	$_”rÜ
(
£lf
, 
msg
):

271 
”r
 = 
gtk
.
	$Mes§geDŸlog
(
dŸlog
,

272 
gtk
.
DIALOG_MODAL
,

273 
gtk
.
MESSAGE_ERROR
,

274 
gtk
.
BUTTONS_CLOSE
,

275 
msg


277 
”r
.
	$run
()

278 
”r
.
	$de¡roy
()

283 
def
 
	$Ú_Ãw
(
£lf
, 
bu‰Ú
, 
d©a
):

284 (
dŸlog
,
’abËd
,
Çme
,
commªd
èğ
£lf
.
	$_ü—‹_commªd_dŸlog
()

285 
»s
 = 
dŸlog
.
	$run
()

286 
™em
 = {
	}
}

287 
»s
 =ğ
gtk
.
RESPONSE_ACCEPT
:

288 
™em
['’abËd'] = 
’abËd
.
	$g‘_aùive
()

289 
™em
['Çme'] = 
Çme
.
	$g‘_‹xt
()

290 
™em
['commªd'] = 
commªd
.
	$g‘_‹xt
()

291 
™em
['Çme'] =ğ'' 
Ü
 item['command'] == '':

292 
”r
 = 
gtk
.
	`Mes§geDŸlog
(
dŸlog
,

293 
gtk
.
DIALOG_MODAL
,

294 
gtk
.
MESSAGE_ERROR
,

295 
gtk
.
BUTTONS_CLOSE
,

296 
	`_
("You‚eedo define‡‚ame‡nd command")

298 
”r
.
	$run
()

299 
”r
.
	$de¡roy
()

301 #w
have
 
a
 
Ãw
 
commªd


302 
¡Üe
 = 
d©a
['Œ“v›w'].
	$g‘_mod–
()

303 
™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

304 
Çme_exi¡
 = 
F®£


305 
™”
 !ğ
NÚe
:

306 
¡Üe
.
	`g‘_v®ue
(
™”
,
CC_COL_NAME
è=ğ
™em
['name']:

307 
Çme_exi¡
 = 
True


309 
™”
 = 
¡Üe
.
	$™”_Ãxt
(
™”
)

310 
nÙ
 
Çme_exi¡
:

311 
¡Üe
.
	`­³nd
((
™em
['enabled'], item['name'], item['command']))

313 
£lf
.
	`_”r
(
	`_
("Nam*%s*‡Ì—dyƒxi¡"è% 
™em
['name'])

314 
dŸlog
.
	$de¡roy
()

316 
def
 
	$Ú_gÙo_tİ
(
£lf
, 
bu‰Ú
, 
d©a
):

317 
Œ“v›w
 = 
d©a
['treeview']

318 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

319 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

321 
nÙ
 
™”
:

323 
fœ¡™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

324 
¡Üe
.
	$move_befÜe
(
™”
, 
fœ¡™”
)

326 
def
 
	$Ú_go_up
(
£lf
, 
bu‰Ú
, 
d©a
):

327 
Œ“v›w
 = 
d©a
['treeview']

328 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

329 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

331 
nÙ
 
™”
:

334 
tmp™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

336 if(
¡Üe
.
	`g‘_·th
(
tmp™”
è=ğ¡Üe.
	$g‘_·th
(
™”
)):

339 
tmp™”
:

340 
Ãxt
 = 
¡Üe
.
	$™”_Ãxt
(
tmp™”
)

341 if(
¡Üe
.
	`g‘_·th
(
Ãxt
è=ğ¡Üe.
	$g‘_·th
(
™”
)):

342 
¡Üe
.
	$sw­
(
™”
, 
tmp™”
)

344 
tmp™”
 = 
Ãxt


346 
def
 
	$Ú_go_down
(
£lf
, 
bu‰Ú
, 
d©a
):

347 
Œ“v›w
 = 
d©a
['treeview']

348 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

349 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

351 
nÙ
 
™”
:

353 
Ãxt
 = 
¡Üe
.
	$™”_Ãxt
(
™”
)

354 
Ãxt
:

355 
¡Üe
.
	$sw­
(
™”
, 
Ãxt
)

357 
def
 
	$Ú_gÙo_Ï¡
(
£lf
, 
bu‰Ú
, 
d©a
):

358 
Œ“v›w
 = 
d©a
['treeview']

359 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

360 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

362 
nÙ
 
™”
:

364 
Ï¡™”
 = 
™”


365 
tmp™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

366 
tmp™”
:

367 
Ï¡™”
 = 
tmp™”


368 
tmp™”
 = 
¡Üe
.
	$™”_Ãxt
(
tmp™”
)

370 
¡Üe
.
	$move_aá”
(
™”
, 
Ï¡™”
)

373 
def
 
	$Ú_d–‘e
(
£lf
, 
bu‰Ú
, 
d©a
):

374 
Œ“v›w
 = 
d©a
['treeview']

375 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

376 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

377 
™”
:

378 
¡Üe
.
	$»move
(
™”
)

382 
def
 
	$Ú_ed™
(
£lf
, 
bu‰Ú
, 
d©a
):

383 
Œ“v›w
 = 
d©a
['treeview']

384 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

385 (
¡Üe
, 
™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

387 
nÙ
 
™”
:

390 (
dŸlog
,
’abËd
,
Çme
,
commªd
èğ
£lf
.
	`_ü—‹_commªd_dŸlog
(

391 
’abËd_v¬
 = 
¡Üe
.
	`g‘_v®ue
(
™”
, 
CC_COL_ENABLED
),

392 
Çme_v¬
 = 
¡Üe
.
	`g‘_v®ue
(
™”
, 
CC_COL_NAME
),

393 
commªd_v¬
 = 
¡Üe
.
	$g‘_v®ue
(
™”
, 
CC_COL_COMMAND
)

395 
»s
 = 
dŸlog
.
	$run
()

396 
™em
 = {
	}
}

397 
»s
 =ğ
gtk
.
RESPONSE_ACCEPT
:

398 
™em
['’abËd'] = 
’abËd
.
	$g‘_aùive
()

399 
™em
['Çme'] = 
Çme
.
	$g‘_‹xt
()

400 
™em
['commªd'] = 
commªd
.
	$g‘_‹xt
()

401 
™em
['Çme'] =ğ'' 
Ü
 item['command'] == '':

402 
”r
 = 
gtk
.
	`Mes§geDŸlog
(
dŸlog
,

403 
gtk
.
DIALOG_MODAL
,

404 
gtk
.
MESSAGE_ERROR
,

405 
gtk
.
BUTTONS_CLOSE
,

406 
	`_
("You‚eedo define‡‚ame‡nd command")

408 
”r
.
	$run
()

409 
”r
.
	$de¡roy
()

411 
tmp™”
 = 
¡Üe
.
	$g‘_™”_fœ¡
()

412 
Çme_exi¡
 = 
F®£


413 
tmp™”
 !ğ
NÚe
:

414 
¡Üe
.
	`g‘_·th
(
tmp™”
è!ğ¡Üe.
	$g‘_·th
(
™”
è
ªd
 
¡Üe
.
	`g‘_v®ue
(
tmp™”
,
CC_COL_NAME
è=ğ
™em
['name']:

415 
Çme_exi¡
 = 
True


417 
tmp™”
 = 
¡Üe
.
	$™”_Ãxt
(
tmp™”
)

418 
nÙ
 
Çme_exi¡
:

419 
¡Üe
.
	`£t
(
™”
,

420 
CC_COL_ENABLED
,
™em
['enabled'],

421 
CC_COL_NAME
, 
™em
['name'],

422 
CC_COL_COMMAND
, 
™em
['command']

425 
£lf
.
	`_”r
(
	`_
("Nam*%s*‡Ì—dyƒxi¡"è% 
™em
['name'])

427 
dŸlog
.
	$de¡roy
()

430 
__Çme__
 == '__main__':

431 
c
 = 
	$Cu¡omCommªdsM’u
()

432 
c
.
	$cÚfigu»
(
NÚe
, None)

433 
gtk
.
	`maš
()

	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/maven.py

1 #Cİyrighˆ(
c
è2010 
Jul›n
 
NicouÏud
 <
jul›n
.
nicouÏud
@
gma
.
com
>

2 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


3 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


4 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

5 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

6 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


7 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


8 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

9 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


10 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


11 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ


12 #, 
Bo¡Ú
, 
MA
 02110-1301 
USA


13 
impÜt
 
»


14 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
…lugin

16 
	gAVAILABLE
 = [ 'MavenPluginURLHandler' ]

18 
şass
 
	$Mav’PlugšURLHªdËr
(
¶ugš
.
URLHªdËr
):

20 
d‘eùed
, 
™
 
is
 
tuºed
 
što
 
a
 
lšk
 
to
 
™s
 
docum’tiÚ
 
s™e
.

21 
If
 
a
 
Mav’
 
¶ugš
 
gßl
 
is
 
d‘eùed
, 
the
 
lšk
 
pošts
 
to
he

22 
·¹icuÏr
 
gßl
 
·ge
. 
OÆy
 
	$A·che
 (
Üg
.
­ache
.
mav’
.
¶ugšs
)

23 
ªd
 
	$Codehaus
 (
Üg
.
codehaus
.
mojo
è
¶ugšs
 
¬e
 
suµÜ‹d
."""

25 
ÿ·b™›s
 = ['url_handler']

26 
hªdËr_Çme
 = 'maven_plugin'

28 
mav’_f‹rs
 = {
	}
}

29 
mav’_f‹rs
['apache_maven_plugin_shortname'] = 'clean|compiler|deploy|failsafe|install|resources|site|surefire|verifier|ear|ejb|jar|rar|war|shade|changelog|changes|checkstyle|clover|doap|docck|javadoc|jxr|linkcheck|pmd|project-info-reports|surefire-report|ant|antrun|archetype|assembly|dependency|enforcer|gpg|help|invoker|jarsigner|one|patch|pdf|plugin|release|reactor|remote-resources|repository|scm|source|stage|toolchains|eclipse|idea'

30 
mav’_f‹rs
['codehaus_maven_plugin_shortname'] = 'jboss|jboss-packaging|tomcat|was6|antlr|antlr3|aspectj|axistools|castor|commons-attributes|gwt|hibernate3|idlj|javacc|jaxb2|jpox|jspc|openjpa|rmic|sablecc|sqlj|sysdeo-tomcat|xmlbeans|xdoclet|netbeans-freeform|nbm|clirr|cobertura|taglist|scmchangelog|findbugs|fitnesse|selenium|animal-sniffer|appassembler|build-helper|exec|keytool|latex|ounce|rpm|sql|versions|apt|cbuilds|jspc|native|retrotranslator|springws|smc|ideauidesigner|dita|docbook|javancss|jdepend|dashboard|emma|sonar|jruby|dbunit|shitty|batik|buildnumber|ianal|jalopy|jasperreports|l10n|minijar|native2ascii|osxappbundle|properties|solaris|truezip|unix|virtualization|wagon|webstart|xml|argouml|dbupgrade|chronos|ckjm|codenarc|deb|ec2|enchanter|ejbdoclet|graphing|j2me|javascriptools|jardiff|kodo|macker|springbeandoc|mock-repository|nsis|pomtools|setup|simian-report|syslog|visibroker|weblogic|webdoclet|xjc|xsltc'

31 
mav’_f‹rs
['apache_maven_plugin_artifact_id'] = 'maven\-(%(apache_maven_plugin_shortname)s)\-plugin' % maven_filters

32 
mav’_f‹rs
['codehaus_maven_plugin_artifact_id'] = '(%(codehaus_maven_plugin_shortname)s)\-maven\-plugin' % maven_filters

33 
mav’_f‹rs
['maven_plugin_version'] = '[a-zA-Z0-9\.-]+'

34 
mav’_f‹rs
['maven_plugin_goal'] = '[a-zA-Z-]+'

35 
mav’_f‹rs
['maven_plugin'] = '(%(apache_maven_plugin_artifact_id)s|%(codehaus_maven_plugin_artifact_id)s)(:%(maven_plugin_version)s:%(maven_plugin_goal)s)?' % maven_filters

36 
mav’_f‹rs
['maven_plugin_named_groups'] = '(?P<artifact_id>%(apache_maven_plugin_artifact_id)s|%(codehaus_maven_plugin_artifact_id)s)(:%(maven_plugin_version)s:(?P<goal>%(maven_plugin_goal)s))?' % maven_filters

38 
m©ch
 = '\\b%(mav’_¶ugš)s\\b' % 
mav’_f‹rs


40 
def
 
	$ÿÎback
(
£lf
, 
u¾
):

41 
m©ches
 = 
»
.
	`m©ch
(
Mav’PlugšURLHªdËr
.
mav’_f‹rs
['mav’_¶ugš_Çmed_groups'], 
u¾
)

42 
m©ches
 
is
 
nÙ
 
NÚe
:

43 
¬tiçùid
 = 
m©ches
.
	`group
('artifact_id')

44 
gßl
 = 
m©ches
.
	`group
('goal')

45 
¬tiçùid
 
is
 
nÙ
 
NÚe
:

46 
»
.
	`m©ch
(
Mav’PlugšURLHªdËr
.
mav’_f‹rs
['­ache_mav’_¶ugš_¬tiçù_id'], 
¬tiçùid
):

47 
gßl
 
is
 
nÙ
 
NÚe
:

48  'h‰p://mav’.­ache.Üg/¶ugšs/%s/%s-mojo.html' % ( 
¬tiçùid
, 
gßl
)

50  'h‰p://mav’.­ache.Üg/¶ugšs/%s' % 
¬tiçùid


51 
–if
 
»
.
	`m©ch
(
Mav’PlugšURLHªdËr
.
mav’_f‹rs
['codehaus_mav’_¶ugš_¬tiçù_id'], 
¬tiçùid
):

52 
gßl
 
is
 
nÙ
 
NÚe
:

53  'h‰p://mojo.codehaus.Üg/%s/%s-mojo.html' % ( 
¬tiçùid
, 
gßl
)

55  'h‰p://mojo.codehaus.Üg/%s' % 
¬tiçùid


57 
¶ugš
.
	`”r
("WrÚg m©ch '%s' fÜ Mav’PlugšURLHªdËr." % 
u¾
)

	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/terminalshot.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
	g‹rmš®s
"""

7 
impÜt
 
os


8 
impÜt
 
gtk


9 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
…lugin

10 
äom
 
	g‹rmš©Ülib
.
Œª¦©iÚ
 
impÜt
 
_


11 
äom
 
	g‹rmš©Ülib
.
ut
 
impÜt
 
	gwidg‘_pixbuf


13 #Ev”y 
¶ugš
 
you
 
wªt
 
T”mš©Ü
 
to
 
lßd
 *
mu¡
* 
be
 
li¡ed
 
š
 'AVAILABLE'

14 
	gAVAILABLE
 = ['TerminalShot']

16 
şass
 
	$T”mš®ShÙ
(
¶ugš
.
M’uI‹m
):

18 
ÿ·b™›s
 = ['terminal_menu']

19 
dŸlog_aùiÚ
 = 
gtk
.
FILE_CHOOSER_ACTION_SAVE


20 
dŸlog_bu‰Ús
 = (
gtk
.
STOCK_CANCEL
, gtk.
RESPONSE_CANCEL
,

21 
gtk
.
STOCK_SAVE
, gtk.
RESPONSE_OK
)

23 
def
 
	$__š™__
(
£lf
):

24 
¶ugš
.
M’uI‹m
.
	$__š™__
(
£lf
)

26 
def
 
	$ÿÎback
(
£lf
, 
m’u™ems
, 
m’u
, 
‹rmš®
):

28 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Terminal screenshot'))

29 
™em
.
	`cÚÃù
("aùiv©e", 
£lf
.
‹rmš®shÙ
, 
‹rmš®
)

30 
m’u™ems
.
	$­³nd
(
™em
)

32 
def
 
	$‹rmš®shÙ
(
£lf
, 
_widg‘
, 
‹rmš®
):

34 #G¿b 
a
 
pixbuf
 
of
 
the
 
‹rmš®


35 
Üig_pixbuf
 = 
	$widg‘_pixbuf
(
‹rmš®
)

37 
§vedŸlog
 = 
gtk
.
	`FeChoo£rDŸlog
(
t™Ë
="Save image",

38 
aùiÚ
=
£lf
.
dŸlog_aùiÚ
,

39 
bu‰Ús
=
£lf
.
dŸlog_bu‰Ús
)

40 
§vedŸlog
.
	$£t_do_ov”wr™e_cÚfœm©iÚ
(
True
)

41 
§vedŸlog
.
	$£t_loÿl_Úly
(
True
)

43 
pixbuf
 = 
Üig_pixbuf
.
	`sÿË_sim¶e
(Üig_pixbuf.
	`g‘_width
() / 2,

44 
Üig_pixbuf
.
	`g‘_height
() / 2,

45 
gtk
.
gdk
.
INTERP_BILINEAR
)

46 
image
 = 
gtk
.
	$image_Ãw_äom_pixbuf
(
pixbuf
)

47 
§vedŸlog
.
	$£t_´ev›w_widg‘
(
image
)

49 
§vedŸlog
.
	$show_®l
()

50 
»¥Ú£
 = 
§vedŸlog
.
	$run
()

51 
·th
 = 
NÚe


52 
»¥Ú£
 =ğ
gtk
.
RESPONSE_OK
:

53 
·th
 = 
os
.·th.
	`još
(
§vedŸlog
.
	`g‘_cu¼’t_fŞd”
(),

54 
§vedŸlog
.
	$g‘_f’ame
())

55 
Üig_pixbuf
.
	`§ve
(
·th
, 'png')

57 
§vedŸlog
.
	`de¡roy
()

	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/testplugin.py

1 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
 
	g¶ugš


3 #AVAILABLE 
mu¡
 
cÚš
 
a
 
li¡
 
of
 
®l
 
the
 
şas£s
 
th©
 
you
 
wªt
 
expo£d


4 
	gAVAILABLE
 = ['TestPlugin']

6 
şass
 
	$Te¡Plugš
(
¶ugš
.
Plugš
):

7 
ÿ·b™›s
 = ['test']

9 
def
 
	$do_‹¡
(
£lf
):

	@/home/zq/Project/terminator-0.96/terminatorlib/plugins/url_handlers.py

1 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
?

2 #GPL 
v2
 
Úly


4 
impÜt
 
»


5 
impÜt
 
	g‹rmš©Ülib
.
¶ugš
 
as
 
	g¶ugš


7 #Ev”y 
¶ugš
 
you
 
wªt
 
T”mš©Ü
 
to
 
lßd
 *
mu¡
* 
be
 
li¡ed
 
š
 'AVAILABLE'

8 
	gAVAILABLE
 = ['LaunchpadBugURLHandler', 'LaunchpadCodeURLHandler', 'APTURLHandler']

10 
şass
 
	$Launch·dBugURLHªdËr
(
¶ugš
.
URLHªdËr
):

12 
şosu»
 
’Œy
... 'LP: #12345' 
th’
 
™
 
should
 
be
 
ŒªsfÜmed
 
što
 
a


13 
Launch·d
 
Bug
 
URL
"""

14 
ÿ·b™›s
 = ['url_handler']

15 
hªdËr_Çme
 = 'launchpad_bug'

16 
m©ch
 = '\\b(lp|LP):?\s?#?[0-9]+(,\s*#?[0-9]+)*\\b'

18 
def
 
	$ÿÎback
(
£lf
, 
u¾
):

20 
™em
 
š
 
»
.
	`fšd®l
(
r
'[0-9]+', 
u¾
):

21 
u¾
 = 'h‰ps://bugs.Ïunch·d.Ãt/bugs/%s' % 
™em


22 (
u¾
)

24 
şass
 
	$Launch·dCodeURLHªdËr
(
¶ugš
.
URLHªdËr
):

26 
b¿nch
 
’Œy
 
th’
 
™
 
should
 
be
 
ŒªsfÜmed
 
što
 
a
 
code
.
Ïunch·d
.
Ãt
 
URL
"""

27 
ÿ·b™›s
 = ['url_handler']

28 
hªdËr_Çme
 = 'launchpad_code'

29 
Íf‹rs
 = {
	}
}

30 
Íf‹rs
['project'] = '[a-z0-9]{1}[a-z0-9\.\-\+]+'

31 
Íf‹rs
['group'] = '~%s' %†pfilters['project']

32 
Íf‹rs
['series'] =†pfilters['project']

33 
Íf‹rs
['branch'] = '[a-zA-Z0-9]{1}[a-zA-Z0-9_+@.-]+'

35 
m©ch
 = '\\b(Öp|LP):%Õrojeù)s(/%(£r›s)s)?|Öp|LP):%(group)s/(%Õrojeù)s|\+junk)/%(b¿nch)s)\\b' % 
Íf‹rs


37 
def
 
	$ÿÎback
(
£lf
, 
u¾
):

39 
u¾
.
	`¡¬tsw™h
('lp:'):

40 
u¾
 = url[3:]

41 ('h‰ps://code.Ïunch·d.Ãt/+b¿nch/%s' % 
u¾
)

43 
şass
 
	$APTURLHªdËr
(
¶ugš
.
URLHªdËr
):

45 
™
 
­´İrŸ‹ly
"""

46 
ÿ·b™›s
 = ['url_handler']

47 
hªdËr_Çme
 = 'apturl'

48 
m©ch
 = '\\bapt:.*\\b'

50 
def
 
	$ÿÎback
(
£lf
, 
u¾
):

52 (
u¾
)

	@/home/zq/Project/terminator-0.96/terminatorlib/prefseditor.py

1 #!/
u¤
/
bš
/
pythÚ


4 
Lßd
 
a
 
UIBud”
 
cÚfig
 
	gfe
, 
di¥Ïy
 
	g™
,

5 
pİuÏ‹
 
™
 
w™h
 
our
 
cu¼’t
 
	gcÚfig
, 
th’
 
İtiÚ®ly
 
»ad
 
th©
 
back
 
out
 
ªd


6 
wr™e
 
™
 
to
 
a
 
cÚfig
 
	gfe


10 
impÜt
 
os


11 
impÜt
 
gtk


13 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


14 
impÜt
 
cÚfig


15 
äom
 
keybšdšgs
 
impÜt
 
	gKeybšdšgs
, 
Keym­E¼Ü


16 
äom
 
Œª¦©iÚ
 
impÜt
 
_


17 
äom
 
’codšg
 
impÜt
 
T”mš©ÜEncodšg


18 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


19 
äom
 
¶ugš
 
impÜt
 
PlugšRegi¡ry


21 
def
 
	$cŞÜ2hex
(
widg‘
):

23 
as
 8b
™
 
hex
 
v®ues
, 
sšûs
 
™s
  
behaviour
 
is
 
to
 
give
 16bit values"""

24 
widcŞ
 = 
widg‘
.
	$g‘_cŞÜ
()

25 ('#%02x%02x%02x' % (
widcŞ
.
»d
>>8, widcŞ.
g»’
>>8, widcŞ.
blue
>>8))

27 #FIXME: 
We
 
Ãed
 
to
 
check
 
th©
 
we
 
have
 
»´e£Áed
 
®l
 
of
 
	`CÚfig
(è
b–ow


28 
şass
 
P»fsEd™Ü
:

30 
cÚfig
 = 
NÚe


31 
»gi¡ry
 = 
NÚe


32 
¶ugšs
 = 
NÚe


33 
keybšdšgs
 = 
NÚe


34 
wšdow
 = 
NÚe


35 
bud”
 = 
NÚe


36 
Ïyou‹d™Ü
 = 
NÚe


37 
´evious_Ïyout_£ËùiÚ
 = 
NÚe


38 
´evious_´ofe_£ËùiÚ
 = 
NÚe


39 
cŞÜschemev®ues
 = {'black_on_yellow': 0,

46 'cu¡om': 7
	}
}

47 
cŞourschemes
 = {'grey_on_black': ['#aaaaaa', '#000000'],

54 
·Ë‰ev®ues
 = {'tango': 0,

60 
·Ë‰es
 = {'tango': '#000000:#cc0000:#4e9a06:#c4a000:#3465a4:\
#75507b:#06989a:#d3d7cf:#555753:#ef2929:#8ae234:#fce94f:#729fcf:\
#ad7fa8:#34e2e2:#eeeeec',

75 
keybšdšgÇmes
 = { 'zoom_in' : 'Increase font size',

130 
def
 
	$__š™__
 (
£lf
, 
‹rm
):

131 
£lf
.
cÚfig
 = cÚfig.
	$CÚfig
()

132 
£lf
.
‹rm
 =erm

133 
£lf
.
bud”
 = 
gtk
.
	$Bud”
()

134 
£lf
.
keybšdšgs
 = 
	$Keybšdšgs
()

135 
Œy
:

136 #Figu» 
out
 
wh”e
 
our
 
lib¿ry
 
is
 
Ú
-
disk
 
so
 
we
 
ÿn
 
İ’
 our

137 (
h—d
, 
_
èğ
os
.
·th
.
	$¥l™
(
cÚfig
.
__fe__
)

138 
lib¿ry·th
 = 
os
.
·th
.
	`još
(
h—d
, 'preferences.glade')

139 
gÏdefe
 = 
	`İ’
(
lib¿ry·th
, 'r')

140 
gÏded©a
 = 
gÏdefe
.
	$»ad
()

141 
exû±
 
Exû±iÚ
, 
ex
:

142 
´št
 "Failedo find…references.glade"

143 
´št
 
ex


146 
£lf
.
bud”
.
	$add_äom_¡ršg
(
gÏded©a
)

147 
£lf
.
wšdow
 = s–f.
bud”
.
	`g‘_objeù
('prefswin')

148 
£lf
.
Ïyou‹d™Ü
 = 
	$LayoutEd™Ü
(
£lf
.
bud”
)

149 
£lf
.
bud”
.
	$cÚÃù_sigÇls
(
£lf
)

150 
£lf
.
Ïyou‹d™Ü
.
	$´•¬e
()

151 
£lf
.
wšdow
.
	$show_®l
()

152 
Œy
:

153 
£lf
.
cÚfig
.
	$šhib™_§ve
()

154 
£lf
.
	$£t_v®ues
()

155 
exû±
 
Exû±iÚ
, 
e
:

156 
	`”r
('UÇbËØ£ˆv®ues: %s' % 
e
)

157 
£lf
.
cÚfig
.
	$unšhib™_§ve
()

159 
def
 
	$Ú_şo£bu‰Ú_şicked
(
£lf
, 
_bu‰Ú
):

161 
‹rmš©Ü
 = 
	$T”mš©Ü
()

162 
‹rmš©Ü
.
	$»cÚfigu»
()

163 
£lf
.
wšdow
.
	$de¡roy
()

164 
	$d–
(
£lf
)

166 
def
 
	$£t_v®ues
(
£lf
):

168 
	`CÚfig
()"""

169 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


171 ## 
Glob®
 
b


172 #Mou£ 
focus


173 
focus
 = 
£lf
.
cÚfig
['focus']

174 
aùive
 = 0

175 
focus
 == 'click':

176 
aùive
 = 1

177 
–if
 
focus
 
š
 ['sloppy', 'mouse']:

178 
aùive
 = 2

179 
widg‘
 = 
	`guig‘
('focuscombo')

180 
widg‘
.
	$£t_aùive
(
aùive
)

181 #T”mš® 
£·¿tÜ
 
size


182 
‹rm£psize
 = 
£lf
.
cÚfig
['handle_size']

183 
widg‘
 = 
	`guig‘
('handlesize')

184 
widg‘
.
	`£t_v®ue
((
‹rm£psize
))

185 #Wšdow 
geom‘ry
 
hšts


186 
geomhšt
 = 
£lf
.
cÚfig
['geometry_hinting']

187 
widg‘
 = 
	`guig‘
('wingeomcheck')

188 
widg‘
.
	$£t_aùive
(
geomhšt
)

189 #Wšdow 
¡©e


190 
İtiÚ
 = 
£lf
.
cÚfig
['window_state']

191 
İtiÚ
 == 'hidden':

192 
aùive
 = 1

193 
–if
 
İtiÚ
 == 'maximise':

194 
aùive
 = 2

195 
–if
 
İtiÚ
 == 'fullscreen':

196 
aùive
 = 3

198 
aùive
 = 0

199 
widg‘
 = 
	`guig‘
('winstatecombo')

200 
widg‘
.
	$£t_aùive
(
aùive
)

201 #Wšdow 
bÜd”s


202 
widg‘
 = 
	`guig‘
('winbordercheck')

203 
widg‘
.
	`£t_aùive
(
nÙ
 
£lf
.
cÚfig
['borderless'])

204 #Tab 
b¬
 
pos™iÚ


205 
İtiÚ
 = 
£lf
.
cÚfig
['tab_position']

206 
widg‘
 = 
	`guig‘
('tabposcombo')

207 
İtiÚ
 == 'bottom':

208 
aùive
 = 1

209 
–if
 
İtiÚ
 == 'left':

210 
aùive
 = 2

211 
–if
 
İtiÚ
 == 'right':

212 
aùive
 = 3

213 
–if
 
İtiÚ
 == 'hidden':

214 
aùive
 = 4

216 
aùive
 = 0

217 
widg‘
.
	$£t_aùive
(
aùive
)

218 #DBu 
S”v”


219 
widg‘
 = 
	`guig‘
('dbuscheck')

220 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['dbus'])

221 #Hid
äom
 
skb¬


222 
widg‘
 = 
	`guig‘
('hidefromtaskbcheck')

223 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['hide_from_taskbar'])

224 #Alway 
Ú
 
tİ


225 
widg‘
 = 
	`guig‘
('alwaysontopcheck')

226 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['always_on_top'])

227 #Hid
Ú
 
lo£
 
focus


228 
widg‘
 = 
	`guig‘
('hideonlosefocuscheck')

229 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['hide_on_lose_focus'])

230 #Show 
Ú
 
®l
 
wÜk¥aûs


231 
widg‘
 = 
	`guig‘
('stickycheck')

232 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['sticky'])

233 #Hid
size
 
‹xt
 
äom
 
the
 
t™Ë
 
b¬


234 
widg‘
 = 
	`guig‘
('title_hide_sizetextcheck')

235 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['title_hide_sizetext'])

237 ## 
Profe
 
b


238 #PİuÏ‹ 
the
 
´ofe
 
li¡


239 
widg‘
 = 
	`guig‘
('profilelist')

240 
li¡¡Üe
 = 
widg‘
.
	$g‘_mod–
()

241 
´ofes
 = 
£lf
.
cÚfig
.
	$li¡_´ofes
()

242 
£lf
.
´ofe™”s
 = {
	}
}

243 
´ofe
 
š
 
´ofes
:

244 
´ofe
 == 'default':

245 
ed™abË
 = 
F®£


247 
ed™abË
 = 
True


248 
£lf
.
´ofe™”s
[
´ofe
] = 
li¡¡Üe
.
	$­³nd
([
´ofe
, 
ed™abË
])

249 
£ËùiÚ
 = 
widg‘
.
	$g‘_£ËùiÚ
()

250 
£ËùiÚ
.
	`cÚÃù
('chªged', 
£lf
.
Ú_´ofe_£ËùiÚ_chªged
)

251 
£ËùiÚ
.
	`£Ëù_™”
(
£lf
.
´ofe™”s
['default'])

253 ## 
Layouts
 
b


254 
widg‘
 = 
	`guig‘
('layoutlist')

255 
li¡¡Üe
 = 
widg‘
.
	$g‘_mod–
()

256 
Ïyouts
 = 
£lf
.
cÚfig
.
	$li¡_Ïyouts
()

257 
£lf
.
Ïyout™”s
 = {
	}
}

258 
Ïyout
 
š
 
Ïyouts
:

259 
Ïyout
 == 'default':

260 
ed™abË
 = 
F®£


262 
ed™abË
 = 
True


263 
£lf
.
Ïyout™”s
[
Ïyout
] = 
li¡¡Üe
.
	$­³nd
([
Ïyout
, 
ed™abË
])

264 
£ËùiÚ
 = 
widg‘
.
	$g‘_£ËùiÚ
()

265 
£ËùiÚ
.
	`cÚÃù
('chªged', 
£lf
.
Ú_Ïyout_£ËùiÚ_chªged
)

266 
£ËùiÚ
.
	`£Ëù_™”
(
£lf
.
Ïyout™”s
['default'])

267 #Now 
£t
 
up
 
the
 
£ËùiÚ
 
chªged
 
hªdËr
 th
Ïyout
 
™£lf


268 
widg‘
 = 
	`guig‘
('LayoutTreeView')

269 
£ËùiÚ
 = 
widg‘
.
	$g‘_£ËùiÚ
()

270 
£ËùiÚ
.
	`cÚÃù
('chªged', 
£lf
.
Ú_Ïyout_™em_£ËùiÚ_chªged
)

272 ## 
Keybšdšgs
 
b


273 
widg‘
 = 
	`guig‘
('keybindingtreeview')

274 
li¡¡Üe
 = 
widg‘
.
	$g‘_mod–
()

275 
li¡¡Üe
.
	$£t_sÜt_cŞumn_id
(0, 
gtk
.
SORT_ASCENDING
)

276 
keybšdšgs
 = 
£lf
.
cÚfig
['keybindings']

277 
keybšdšg
 
š
 
keybšdšgs
:

278 
keyv®
 = 0

279 
mask
 = 0

280 
v®ue
 = 
keybšdšgs
[
keybšdšg
]

281 
v®ue
 
is
 
nÙ
 
NÚe
 
ªd
 value != '':

282 
Œy
:

283 (
keyv®
, 
mask
èğ
£lf
.
keybšdšgs
.
	$_·r£bšdšg
(
v®ue
)

284 
exû±
 
Keym­E¼Ü
:

285 
·ss


286 
li¡¡Üe
.
	$­³nd
([
keybšdšg
, 
£lf
.
keybšdšgÇmes
[keybinding],

287 
keyv®
, 
mask
])

289 ## 
Plugšs
 
b


290 #PİuÏ‹ 
the
 
¶ugš
 
li¡


291 
widg‘
 = 
	`guig‘
('pluginlist')

292 
li¡¡Üe
 = 
widg‘
.
	$g‘_mod–
()

293 
£lf
.
»gi¡ry
 = 
	$PlugšRegi¡ry
()

294 
£lf
.
¶ugš™”s
 = {
	}
}

295 
¶ugšli¡
 = 
£lf
.
»gi¡ry
.
	$g‘_avaabË_¶ugšs
()

296 
£lf
.
¶ugšs
 = {
	}
}

297 
¶ugš
 
š
 
¶ugšli¡
:

298 
£lf
.
¶ugšs
[
¶ugš
] = s–f.
»gi¡ry
.
	$is_’abËd
(
¶ugš
)

300 
¶ugš
 
š
 
£lf
.
¶ugšs
:

301 
£lf
.
¶ugš™”s
[
¶ugš
] = 
li¡¡Üe
.
	$­³nd
([
¶ugš
,

302 
£lf
.
¶ugšs
[
¶ugš
]])

303 
£ËùiÚ
 = 
widg‘
.
	$g‘_£ËùiÚ
()

304 
£ËùiÚ
.
	`cÚÃù
('chªged', 
£lf
.
Ú_¶ugš_£ËùiÚ_chªged
)

305 
	`Ën
(
£lf
.
¶ugš™”s
) > 0:

306 
£ËùiÚ
.
	`£Ëù_™”
(
li¡¡Üe
.
	$g‘_™”_fœ¡
())

308 
def
 
	$£t_´ofe_v®ues
(
£lf
, 
´ofe
):

310 
£lf
.
cÚfig
.
	$£t_´ofe
(
´ofe
)

311 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


313 
	`dbg
('P»fsEd™Ü::£t_´ofe_v®ues: S‘tšg…rof%s' % 
´ofe
)

315 ## 
G’”®
 
b


316 #U£ 
sy¡em
 
fÚt


317 
widg‘
 = 
	`guig‘
('system_font_checkbutton')

318 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['use_system_font'])

319 
£lf
.
	$Ú_sy¡em_fÚt_checkbu‰Ú_toggËd
(
widg‘
)

320 #FÚˆ
£ËùÜ


321 
widg‘
 = 
	`guig‘
('font_selector')

323 
£lf
.
cÚfig
['u£_sy¡em_fÚt'] =ğ
True
:

324 
fÚŠame
 = 
£lf
.
cÚfig
.
	$g‘_sy¡em_fÚt
()

325 
fÚŠame
 
is
 
nÙ
 
NÚe
:

326 
widg‘
.
	$£t_fÚt_Çme
(
fÚŠame
)

328 
widg‘
.
	`£t_fÚt_Çme
(
£lf
.
cÚfig
['font'])

329 #AÎow 
bŞd
 
‹xt


330 
widg‘
 = 
	`guig‘
('allow_bold_checkbutton')

331 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['allow_bold'])

332 #AÁi-
®Ÿs


333 
widg‘
 = 
	`guig‘
('antialias_checkbutton')

334 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['antialias'])

335 #IcÚ 
‹rmš®
 
b–l


336 
widg‘
 = 
	`guig‘
('icon_bell_checkbutton')

337 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['icon_bell'])

338 #Visu® 
‹rmš®
 
b–l


339 
widg‘
 = 
	`guig‘
('visual_bell_checkbutton')

340 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['visible_bell'])

341 #AudibË 
‹rmš®
 
b–l


342 
widg‘
 = 
	`guig‘
('audible_bell_checkbutton')

343 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['audible_bell'])

344 #WM_URGENT 
‹rmš®
 
b–l


345 
widg‘
 = 
	`guig‘
('urgent_bell_checkbutton')

346 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['urgent_bell'])

347 #Show 
t™Ëb¬


348 
widg‘
 = 
	`guig‘
('show_titlebar')

349 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['show_titlebar'])

350 #Cİy 
Ú
 
£ËùiÚ


351 
widg‘
 = 
	`guig‘
('copy_on_selection')

352 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['copy_on_selection'])

353 #WÜd 
ch¬s


354 
widg‘
 = 
	`guig‘
('word_chars_entry')

355 
widg‘
.
	`£t_‹xt
(
£lf
.
cÚfig
['word_chars'])

356 #CursÜ 
sh­e


357 
widg‘
 = 
	`guig‘
('cursor_shape_combobox')

358 
£lf
.
cÚfig
['cursor_shape'] == 'underline':

359 
aùive
 = 1

360 
–if
 
£lf
.
cÚfig
['cursor_shape'] == 'ibeam':

361 
aùive
 = 2

363 
aùive
 = 0

364 
widg‘
.
	$£t_aùive
(
aùive
)

365 #CursÜ 
blšk


366 
widg‘
 = 
	`guig‘
('cursor_blink')

367 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['cursor_blink'])

368 #CursÜ 
cŞour


369 
widg‘
 = 
	`guig‘
('cursor_color')

370 
widg‘
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	`CŞÜ
(
£lf
.
cÚfig
['cursor_color']))

372 ## 
Commªd
 
b


373 #Logš 
sh–l


374 
widg‘
 = 
	`guig‘
('login_shell_checkbutton')

375 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['login_shell'])

376 #Logš 
»cÜds


377 
widg‘
 = 
	`guig‘
('update_records_checkbutton')

378 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['update_records'])

379 #U£ 
Cu¡om
 
commªd


380 
widg‘
 = 
	`guig‘
('use_custom_command_checkbutton')

381 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['use_custom_command'])

382 
£lf
.
	$Ú_u£_cu¡om_commªd_checkbu‰Ú_toggËd
(
widg‘
)

383 #Cu¡om 
Commªd


384 
widg‘
 = 
	`guig‘
('custom_command_entry')

385 
widg‘
.
	`£t_‹xt
(
£lf
.
cÚfig
['custom_command'])

386 #Ex™ 
aùiÚ


387 
widg‘
 = 
	`guig‘
('exit_action_combobox')

388 
£lf
.
cÚfig
['exit_action'] == 'restart':

389 
widg‘
.
	$£t_aùive
(1)

390 
–if
 
£lf
.
cÚfig
['exit_action'] == 'hold':

391 
widg‘
.
	$£t_aùive
(2)

393 #DeçuÉ 
is
 
to
 
şo£
 
the
 
‹rmš®


394 
widg‘
.
	$£t_aùive
(0)

396 ## 
CŞÜs
 
b


397 #U£ 
sy¡em
 
cŞÜs


398 
widg‘
 = 
	`guig‘
('use_theme_colors_checkbutton')

399 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['use_theme_colors'])

401 
widg‘
 = 
	`guig‘
('color_scheme_combobox')

402 
scheme
 = 
NÚe


403 
ascheme
 
š
 
£lf
.
cŞourschemes
:

404 
fÜecŞ
 = 
£lf
.
cŞourschemes
[
ascheme
][0]

405 
backcŞ
 = 
£lf
.
cŞourschemes
[
ascheme
][1]

406 
£lf
.
cÚfig
['fÜeground_cŞÜ'].
	`low”
(è=ğ
fÜecŞ
 
ªd
 \

407 
£lf
.
cÚfig
['background_cŞÜ'].
	`low”
(è=ğ
backcŞ
:

408 
scheme
 = 
ascheme


410 
scheme
 
nÙ
 
š
 
£lf
.
cŞÜschemev®ues
:

411 
£lf
.
cÚfig
['fÜeground_cŞÜ'] 
š
 [
NÚe
, ''] 
Ü
 \

412 
£lf
.
cÚfig
['background_cŞÜ'] 
š
 [
NÚe
, '']:

413 
scheme
 = 'grey_on_black'

415 
scheme
 = 'custom'

416 #NOTE: 
The
 
scheme
 
is
 
£t
 
š
 
the
 
GUI
 
widg‘
 
aá”
h
fÜe
/
back
 
cŞours


417 #FÜeground 
cŞÜ


418 
widg‘
 = 
	`guig‘
('foreground_colorpicker')

419 
widg‘
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	`CŞÜ
(
£lf
.
cÚfig
['foreground_color']))

420 
scheme
 == 'custom':

421 
widg‘
.
	$£t_£ns™ive
(
True
)

423 
widg‘
.
	$£t_£ns™ive
(
F®£
)

424 #Background 
cŞÜ


425 
widg‘
 = 
	`guig‘
('background_colorpicker')

426 
widg‘
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	`CŞÜ
(
£lf
.
cÚfig
['background_color']))

427 
scheme
 == 'custom':

428 
widg‘
.
	$£t_£ns™ive
(
True
)

430 
widg‘
.
	$£t_£ns™ive
(
F®£
)

431 #Now 
aùu®ly
 
£t
 
the
 
scheme


432 
widg‘
 = 
	`guig‘
('color_scheme_combobox')

433 
widg‘
.
	$£t_aùive
(
£lf
.
cŞÜschemev®ues
[
scheme
])

434 #P®‘‹ 
scheme


435 
widg‘
 = 
	`guig‘
('palette_combobox')

436 
·Ë‰e
 = 
NÚe


437 
­®‘‹
 
š
 
£lf
.
·Ë‰es
:

438 
£lf
.
cÚfig
['·Ë‰e'].
	`low”
(è=ğ£lf.
·Ë‰es
[
­®‘‹
]:

439 
·Ë‰e
 = 
­®‘‹


440 
·Ë‰e
 
nÙ
 
š
 
£lf
.
·Ë‰ev®ues
:

441 
£lf
.
cÚfig
['·Ë‰e'] 
š
 [
NÚe
, '']:

442 
·Ë‰e
 = 'rxvt'

444 
·Ë‰e
 = 'custom'

445 #NOTE: 
The
 
·Ë‰e
 
£ËùÜ
 
is
 
£t
 
aá”
 
the
 
cŞour
 
pick”s


446 #P®‘‹ 
cŞour
 
pick”s


447 
cŞou½®‘‹
 = 
£lf
.
cÚfig
['·Ë‰e'].
	`¥l™
(':')

448 
i
 
š
 
	$x¿nge
(1, 17):

449 
widg‘
 = 
	`guig‘
('·Ë‰e_cŞÜpick”_%d' % 
i
)

450 
widg‘
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	`CŞÜ
(
cŞou½®‘‹
[
i
 - 1]))

451 #Now 
£t
 
the
 
·Ë‰e
 
£ËùÜ
 
widg‘


452 
widg‘
 = 
	`guig‘
('palette_combobox')

453 
widg‘
.
	$£t_aùive
(
£lf
.
·Ë‰ev®ues
[
·Ë‰e
])

454 #T™Ëb¬ 
cŞÜs


455 
b™
 
š
 ['title_transmit_fg_color', 'title_transmit_bg_color',

458 
widg‘
 = 
	$guig‘
(
b™
)

459 
widg‘
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	$CŞÜ
(
£lf
.
cÚfig
[
b™
]))

461 ## 
Background
 
b


462 #RadiØ
v®ues


463 
£lf
.
cÚfig
['background_type'] == 'solid':

464 
	`guig‘
('sŞid_¿diobu‰Ú').
	$£t_aùive
(
True
)

465 
–if
 
£lf
.
cÚfig
['background_type'] == 'image':

466 
	`guig‘
('image_¿diobu‰Ú').
	$£t_aùive
(
True
)

467 
–if
 
£lf
.
cÚfig
['background_type'] == 'transparent':

468 
	`guig‘
('Œª¥¬’t_¿diobu‰Ú').
	$£t_aùive
(
True
)

469 
£lf
.
	$upd©e_background_b
()

470 #Background 
image
 
fe


471 
£lf
.
cÚfig
['background_image'] != '':

472 
widg‘
 = 
	`guig‘
('background_image_filechooser')

473 
£lf
.
cÚfig
['background_image'] 
is
 
nÙ
 
NÚe
 
ªd
 \

474 
£lf
.
cÚfig
['background_image'] != '':

475 
widg‘
.
	`£t_f’ame
(
£lf
.
cÚfig
['background_image'])

476 #Background 
image
 
süŞls


477 
widg‘
 = 
	`guig‘
('scroll_background_checkbutton')

478 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['scroll_background'])

479 #Background 
shadšg


480 
widg‘
 = 
	`guig‘
('background_darkness_scale')

481 
widg‘
.
	`£t_v®ue
((
£lf
.
cÚfig
['background_darkness']))

483 ## 
SüŞlšg
 
b


484 #SüŞlb¬ 
pos™iÚ


485 
widg‘
 = 
	`guig‘
('scrollbar_position_combobox')

486 
v®ue
 = 
£lf
.
cÚfig
['scrollbar_position']

487 
v®ue
 == 'left':

488 
widg‘
.
	$£t_aùive
(0)

489 
–if
 
v®ue
 
š
 ['disabled', 'hidden']:

490 
widg‘
.
	$£t_aùive
(2)

492 
widg‘
.
	$£t_aùive
(1)

493 #SüŞlback 
lšes


494 
widg‘
 = 
	`guig‘
('scrollback_lines_spinbutton')

495 
widg‘
.
	`£t_v®ue
(
£lf
.
cÚfig
['scrollback_lines'])

496 #SüŞlback 
šfš™e


497 
widg‘
 = 
	`guig‘
('scrollback_infinite')

498 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['scrollback_infinite'])

499 #SüŞÈ
Ú
 
outut


500 
widg‘
 = 
	`guig‘
('scroll_on_output_checkbutton')

501 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['scroll_on_output'])

502 #SüŞÈ
Ú
 
key¡roke


503 
widg‘
 = 
	`guig‘
('scroll_on_keystroke_checkbutton')

504 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['scroll_on_keystroke'])

505 #SüŞÈ
š
 
®‹º©e
 
mode


506 
widg‘
 = 
	`guig‘
('alternate_screen_scroll_checkbutton')

507 
widg‘
.
	`£t_aùive
(
£lf
.
cÚfig
['alternate_screen_scroll'])

509 ## 
Com·tib™y
 
b


510 #Back¥aû 
key


511 
widg‘
 = 
	`guig‘
('backspace_binding_combobox')

512 
v®ue
 = 
£lf
.
cÚfig
['backspace_binding']

513 
v®ue
 == 'control-h':

514 
widg‘
.
	$£t_aùive
(1)

515 
–if
 
v®ue
 == 'ascii-del':

516 
widg‘
.
	$£t_aùive
(2)

517 
–if
 
v®ue
 == 'escape-sequence':

518 
widg‘
.
	$£t_aùive
(3)

520 
widg‘
.
	$£t_aùive
(0)

521 #D–‘
key


522 
widg‘
 = 
	`guig‘
('delete_binding_combobox')

523 
v®ue
 = 
£lf
.
cÚfig
['delete_binding']

524 
v®ue
 == 'control-h':

525 
widg‘
.
	$£t_aùive
(1)

526 
–if
 
v®ue
 == 'ascii-del':

527 
widg‘
.
	$£t_aùive
(2)

528 
–if
 
v®ue
 == 'escape-sequence':

529 
widg‘
.
	$£t_aùive
(3)

531 
widg‘
.
	$£t_aùive
(0)

533 
row™”
 = 
NÚe


534 
widg‘
 = 
	`guig‘
('encoding_combobox')

535 
’codšg¡Üe
 = 
	`guig‘
('EncodingListStore')

536 
v®ue
 = 
£lf
.
cÚfig
['encoding']

537 
’codšgs
 = 
	`T”mš©ÜEncodšg
().
	$g‘_li¡
()

538 
’codšgs
.
	`sÜt
(
Ïmbda
 
x
, 
y
: 
	`cmp
(x[2].
	`low”
(), y[2].
	$low”
()))

540 
’codšg
 
š
 
’codšgs
:

541 
’codšg
[1] 
is
 
NÚe
:

544 
Ïb–
 = "% %s" % (
’codšg
[2],ƒncoding[1])

545 
row™”
 = 
’codšg¡Üe
.
	$­³nd
([
Ïb–
, 
’codšg
[1]])

547 
’codšg
[1] =ğ
v®ue
:

548 
widg‘
.
	$£t_aùive_™”
(
row™”
)

550 
def
 
	$£t_Ïyout
(
£lf
, 
Ïyout_Çme
):

552 
£lf
.
Ïyou‹d™Ü
.
	$£t_Ïyout
(
Ïyout_Çme
)

554 
def
 
	$Ú_wšgeomcheck_toggËd
(
£lf
, 
widg‘
):

556 
£lf
.
cÚfig
['geom‘ry_hštšg'] = 
widg‘
.
	$g‘_aùive
()

557 
£lf
.
cÚfig
.
	$§ve
()

559 
def
 
	$Ú_dbuscheck_toggËd
(
£lf
, 
widg‘
):

561 
£lf
.
cÚfig
['dbus'] = 
widg‘
.
	$g‘_aùive
()

562 
£lf
.
cÚfig
.
	$§ve
()

564 
def
 
	$Ú_wšbÜd”check_toggËd
(
£lf
, 
widg‘
):

566 
£lf
.
cÚfig
['bÜd”Ëss'] = 
nÙ
 
widg‘
.
	$g‘_aùive
()

567 
£lf
.
cÚfig
.
	$§ve
()

569 
def
 
	$Ú_hideäomskbcheck_toggËd
(
£lf
, 
widg‘
):

571 
£lf
.
cÚfig
['hide_äom_skb¬'] = 
widg‘
.
	$g‘_aùive
()

572 
£lf
.
cÚfig
.
	$§ve
()

574 
def
 
	$Ú_®waysÚtİcheck_toggËd
(
£lf
, 
widg‘
):

576 
£lf
.
cÚfig
['®ways_Ú_tİ'] = 
widg‘
.
	$g‘_aùive
()

577 
£lf
.
cÚfig
.
	$§ve
()

579 
def
 
	$Ú_hideÚlo£focuscheck_toggËd
(
£lf
, 
widg‘
):

581 
£lf
.
cÚfig
['hide_Ú_lo£_focus'] = 
widg‘
.
	$g‘_aùive
()

582 
£lf
.
cÚfig
.
	$§ve
()

584 
def
 
	$Ú_¡ickycheck_toggËd
(
£lf
, 
widg‘
):

586 
£lf
.
cÚfig
['¡icky'] = 
widg‘
.
	$g‘_aùive
()

587 
£lf
.
cÚfig
.
	$§ve
()

589 
def
 
	$Ú_t™Ë_hide_siz‘extcheck_toggËd
(
£lf
, 
widg‘
):

591 
£lf
.
cÚfig
['t™Ë_hide_siz‘ext'] = 
widg‘
.
	$g‘_aùive
()

592 
£lf
.
cÚfig
.
	$§ve
()

594 
def
 
	$Ú_®low_bŞd_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

596 
£lf
.
cÚfig
['®low_bŞd'] = 
widg‘
.
	$g‘_aùive
()

597 
£lf
.
cÚfig
.
	$§ve
()

599 
def
 
	$Ú_ªtŸlŸs_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

601 
£lf
.
cÚfig
['ªtŸlŸs'] = 
widg‘
.
	$g‘_aùive
()

602 
£lf
.
cÚfig
.
	$§ve
()

604 
def
 
	$Ú_show_t™Ëb¬_toggËd
(
£lf
, 
widg‘
):

606 
£lf
.
cÚfig
['show_t™Ëb¬'] = 
widg‘
.
	$g‘_aùive
()

607 
£lf
.
cÚfig
.
	$§ve
()

609 
def
 
	$Ú_cİy_Ú_£ËùiÚ_toggËd
(
£lf
, 
widg‘
):

611 
£lf
.
cÚfig
['cİy_Ú_£ËùiÚ'] = 
widg‘
.
	$g‘_aùive
()

612 
£lf
.
cÚfig
.
	$§ve
()

614 
def
 
	$Ú_cursÜ_blšk_toggËd
(
£lf
, 
widg‘
):

616 
£lf
.
cÚfig
['cursÜ_blšk'] = 
widg‘
.
	$g‘_aùive
()

617 
£lf
.
cÚfig
.
	$§ve
()

619 
def
 
	$Ú_icÚ_b–l_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

621 
£lf
.
cÚfig
['icÚ_b–l'] = 
widg‘
.
	$g‘_aùive
()

622 
£lf
.
cÚfig
.
	$§ve
()

624 
def
 
	$Ú_visu®_b–l_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

626 
£lf
.
cÚfig
['visibË_b–l'] = 
widg‘
.
	$g‘_aùive
()

627 
£lf
.
cÚfig
.
	$§ve
()

629 
def
 
	$Ú_audibË_b–l_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

631 
£lf
.
cÚfig
['audibË_b–l'] = 
widg‘
.
	$g‘_aùive
()

632 
£lf
.
cÚfig
.
	$§ve
()

634 
def
 
	$Ú_urg’t_b–l_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

636 
£lf
.
cÚfig
['urg’t_b–l'] = 
widg‘
.
	$g‘_aùive
()

637 
£lf
.
cÚfig
.
	$§ve
()

639 
def
 
	$Ú_logš_sh–l_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

641 
£lf
.
cÚfig
['logš_sh–l'] = 
widg‘
.
	$g‘_aùive
()

642 
£lf
.
cÚfig
.
	$§ve
()

644 
def
 
	$Ú_upd©e_»cÜds_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

646 
£lf
.
cÚfig
['upd©e_»cÜds'] = 
widg‘
.
	$g‘_aùive
()

647 
£lf
.
cÚfig
.
	$§ve
()

649 
def
 
	$Ú_süŞl_background_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

651 
£lf
.
cÚfig
['süŞl_background'] = 
widg‘
.
	$g‘_aùive
()

652 
£lf
.
cÚfig
.
	$§ve
()

654 
def
 
	$Ú_®‹º©e_sü“n_süŞl_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

656 
£lf
.
cÚfig
['®‹º©e_sü“n_süŞl'] = 
widg‘
.
	$g‘_aùive
()

657 
£lf
.
cÚfig
.
	$§ve
()

659 
def
 
	$Ú_süŞl_Ú_key¡roke_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

661 
£lf
.
cÚfig
['süŞl_Ú_key¡roke'] = 
widg‘
.
	$g‘_aùive
()

662 
£lf
.
cÚfig
.
	$§ve
()

664 
def
 
	$Ú_süŞl_Ú_ouut_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

666 
£lf
.
cÚfig
['süŞl_Ú_ouut'] = 
widg‘
.
	$g‘_aùive
()

667 
£lf
.
cÚfig
.
	$§ve
()

669 
def
 
	$Ú_d–‘e_bšdšg_combobox_chªged
(
£lf
, 
widg‘
):

671 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

672 
£Ëùed
 == 1:

673 
v®ue
 = 'control-h'

674 
–if
 
£Ëùed
 == 2:

675 
v®ue
 = 'ascii-del'

676 
–if
 
£Ëùed
 == 3:

677 
v®ue
 = 'escape-sequence'

679 
v®ue
 = 'automatic'

680 
£lf
.
cÚfig
['d–‘e_bšdšg'] = 
v®ue


681 
£lf
.
cÚfig
.
	$§ve
()

683 
def
 
	$Ú_back¥aû_bšdšg_combobox_chªged
(
£lf
, 
widg‘
):

685 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

686 
£Ëùed
 == 1:

687 
v®ue
 = 'control-h'

688 
–if
 
£Ëùed
 == 2:

689 
v®ue
 = 'ascii-del'

690 
–if
 
£Ëùed
 == 3:

691 
v®ue
 == 'escape-sequence'

693 
v®ue
 = 'automatic'

694 
£lf
.
cÚfig
['back¥aû_bšdšg'] = 
v®ue


695 
£lf
.
cÚfig
.
	$§ve
()

697 
def
 
	$Ú_’codšg_combobox_chªged
(
£lf
, 
widg‘
):

699 
£Ëùed
 = 
widg‘
.
	$g‘_aùive_™”
()

700 
li¡¡Üe
 = 
widg‘
.
	$g‘_mod–
()

701 
v®ue
 = 
li¡¡Üe
.
	$g‘_v®ue
(
£Ëùed
, 1)

703 
£lf
.
cÚfig
['’codšg'] = 
v®ue


704 
£lf
.
cÚfig
.
	$§ve
()

706 
def
 
	$Ú_süŞlback_lšes_¥šbu‰Ú_v®ue_chªged
(
£lf
, 
widg‘
):

708 
v®ue
 = 
widg‘
.
	$g‘_v®ue_as_št
()

709 
£lf
.
cÚfig
['süŞlback_lšes'] = 
v®ue


710 
£lf
.
cÚfig
.
	$§ve
()

712 
def
 
	$Ú_süŞlback_šfš™e_toggËd
(
£lf
, 
widg‘
):

714 
¥šbu‰Ú
 = 
£lf
.
bud”
.
	`g‘_objeù
('scrollback_lines_spinbutton')

715 
v®ue
 = 
widg‘
.
	$g‘_aùive
()

716 
v®ue
 =ğ
True
:

717 
¥šbu‰Ú
.
	$£t_£ns™ive
(
F®£
)

719 
¥šbu‰Ú
.
	$£t_£ns™ive
(
True
)

720 
£lf
.
cÚfig
['süŞlback_šfš™e'] = 
v®ue


721 
£lf
.
cÚfig
.
	$§ve
()

723 
def
 
	$Ú_süŞlb¬_pos™iÚ_combobox_chªged
(
£lf
, 
widg‘
):

725 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

726 
£Ëùed
 == 1:

727 
v®ue
 = 'right'

728 
–if
 
£Ëùed
 == 2:

729 
v®ue
 = 'hidden'

731 
v®ue
 = 'left'

732 
£lf
.
cÚfig
['süŞlb¬_pos™iÚ'] = 
v®ue


733 
£lf
.
cÚfig
.
	$§ve
()

735 
def
 
	$Ú_d¬k’_background_sÿË_chªge_v®ue
(
£lf
, 
widg‘
, 
süŞl
, 
v®ue
):

737 
£lf
.
cÚfig
['background_d¬kÃss'] = 
	$round
(
v®ue
, 2)

738 
£lf
.
cÚfig
.
	$§ve
()

740 
def
 
	$Ú_background_image_fechoo£r_fe_£t
(
£lf
, 
widg‘
):

742 
£lf
.
cÚfig
['background_image'] = 
widg‘
.
	$g‘_f’ame
()

743 
£lf
.
cÚfig
.
	$§ve
()

745 
def
 
	$Ú_·Ë‰e_combobox_chªged
(
£lf
, 
widg‘
):

747 
v®ue
 = 
NÚe


748 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


749 
aùive
 = 
widg‘
.
	$g‘_aùive
()

751 
key
 
š
 
£lf
.
·Ë‰ev®ues
.
	$keys
():

752 
£lf
.
·Ë‰ev®ues
[
key
] =ğ
aùive
:

753 
v®ue
 = 
key


755 
v®ue
 == 'custom':

756 
£ns™ive
 = 
True


758 
£ns™ive
 = 
F®£


760 
num
 
š
 
	$x¿nge
(1, 17):

761 
pick”
 = 
	`guig‘
('·Ë‰e_cŞÜpick”_%d' % 
num
)

762 
pick”
.
	$£t_£ns™ive
(
£ns™ive
)

764 
v®ue
 
š
 
£lf
.
·Ë‰es
:

765 
·Ë‰e
 = 
£lf
.
·Ë‰es
[
v®ue
]

766 
·Ë‰eb™s
 = 
·Ë‰e
.
	`¥l™
(':')

767 
num
 
š
 
	$x¿nge
(1, 17):

768 #Upd©
the
 
visibË
 
–em’ts


769 
pick”
 = 
	`guig‘
('·Ë‰e_cŞÜpick”_%d' % 
num
)

770 
pick”
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	`CŞÜ
(
·Ë‰eb™s
[
num
 - 1]))

771 
–if
 
v®ue
 == 'custom':

772 
·Ë‰eb™s
 = []

773 
num
 
š
 
	$x¿nge
(1, 17):

774 
pick”
 = 
	`guig‘
('·Ë‰e_cŞÜpick”_%d' % 
num
)

775 
·Ë‰eb™s
.
	`­³nd
(
	$cŞÜ2hex
(
pick”
))

776 
·Ë‰e
 = ':'.
	$još
(
·Ë‰eb™s
)

778 
	`”r
('UnknowÀ·Ë‰v®ue: %s' % 
v®ue
)

781 
£lf
.
cÚfig
['·Ë‰e'] = 
·Ë‰e


782 
£lf
.
cÚfig
.
	$§ve
()

784 
def
 
	$Ú_background_cŞÜpick”_cŞÜ_£t
(
£lf
, 
widg‘
):

786 
£lf
.
cÚfig
['background_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

787 
£lf
.
cÚfig
.
	$§ve
()

789 
def
 
	$Ú_fÜeground_cŞÜpick”_cŞÜ_£t
(
£lf
, 
widg‘
):

791 
£lf
.
cÚfig
['fÜeground_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

792 
£lf
.
cÚfig
.
	$§ve
()

794 
def
 
	$Ú_·Ë‰e_cŞÜpick”_cŞÜ_£t
(
£lf
, 
widg‘
):

796 
·Ë‰e
 = 
NÚe


797 
·Ë‰eb™s
 = []

798 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


800 #FIXME: 
We
 dØ
this
 
©
 
Ëa¡
 
Úû
 
–£wh”e
. 
»çùÜ
!

801 
num
 
š
 
	$x¿nge
(1, 17):

802 
pick”
 = 
	`guig‘
('·Ë‰e_cŞÜpick”_%d' % 
num
)

803 
v®ue
 = 
	$cŞÜ2hex
(
pick”
)

804 
·Ë‰eb™s
.
	$­³nd
(
v®ue
)

805 
·Ë‰e
 = ':'.
	$još
(
·Ë‰eb™s
)

807 
£lf
.
cÚfig
['·Ë‰e'] = 
·Ë‰e


808 
£lf
.
cÚfig
.
	$§ve
()

810 
def
 
	$Ú_ex™_aùiÚ_combobox_chªged
(
£lf
, 
widg‘
):

812 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

813 
£Ëùed
 == 1:

814 
v®ue
 = 'restart'

815 
–if
 
£Ëùed
 == 2:

816 
v®ue
 = 'hold'

818 
v®ue
 = 'close'

819 
£lf
.
cÚfig
['ex™_aùiÚ'] = 
v®ue


820 
£lf
.
cÚfig
.
	$§ve
()

822 
def
 
	$Ú_cu¡om_commªd_’Œy_chªged
(
£lf
, 
widg‘
):

824 
£lf
.
cÚfig
['cu¡om_commªd'] = 
widg‘
.
	$g‘_‹xt
()

825 
£lf
.
cÚfig
.
	$§ve
()

827 
def
 
	$Ú_cursÜ_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

829 
£lf
.
cÚfig
['cursÜ_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

830 
£lf
.
cÚfig
.
	$§ve
()

832 
def
 
	$Ú_cursÜ_sh­e_combobox_chªged
(
£lf
, 
widg‘
):

834 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

835 
£Ëùed
 == 1:

836 
v®ue
 = 'underline'

837 
–if
 
£Ëùed
 == 2:

838 
v®ue
 = 'ibeam'

840 
v®ue
 = 'block'

841 
£lf
.
cÚfig
['cursÜ_sh­e'] = 
v®ue


842 
£lf
.
cÚfig
.
	$§ve
()

844 
def
 
	$Ú_wÜd_ch¬s_’Œy_chªged
(
£lf
, 
widg‘
):

846 
£lf
.
cÚfig
['wÜd_ch¬s'] = 
widg‘
.
	$g‘_‹xt
()

847 
£lf
.
cÚfig
.
	$§ve
()

849 
def
 
	$Ú_fÚt_£ËùÜ_fÚt_£t
(
£lf
, 
widg‘
):

851 
£lf
.
cÚfig
['fÚt'] = 
widg‘
.
	$g‘_fÚt_Çme
()

852 
£lf
.
cÚfig
.
	$§ve
()

854 
def
 
	$Ú_t™Ë_»ûive_bg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

856 
£lf
.
cÚfig
['t™Ë_»ûive_bg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

857 
£lf
.
cÚfig
.
	$§ve
()

859 
def
 
	$Ú_t™Ë_»ûive_fg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

861 
£lf
.
cÚfig
['t™Ë_»ûive_fg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

862 
£lf
.
cÚfig
.
	$§ve
()

864 
def
 
	$Ú_t™Ë_šaùive_bg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

866 
£lf
.
cÚfig
['t™Ë_šaùive_bg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

867 
£lf
.
cÚfig
.
	$§ve
()

869 
def
 
	$Ú_t™Ë_Œªsm™_bg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

871 
£lf
.
cÚfig
['t™Ë_Œªsm™_bg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

872 
£lf
.
cÚfig
.
	$§ve
()

874 
def
 
	$Ú_t™Ë_šaùive_fg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

876 
£lf
.
cÚfig
['t™Ë_šaùive_fg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

877 
£lf
.
cÚfig
.
	$§ve
()

879 
def
 
	$Ú_t™Ë_Œªsm™_fg_cŞÜ_cŞÜ_£t
(
£lf
, 
widg‘
):

881 
£lf
.
cÚfig
['t™Ë_Œªsm™_fg_cŞÜ'] = 
	$cŞÜ2hex
(
widg‘
)

882 
£lf
.
cÚfig
.
	$§ve
()

884 
def
 
	$Ú_hªdËsize_chªge_v®ue
(
£lf
, 
widg‘
, 
süŞl
, 
v®ue
):

886 
v®ue
 = (value)

887 
v®ue
 > 5:

888 
v®ue
 = 5

889 
£lf
.
cÚfig
['hªdË_size'] = 
v®ue


890 
£lf
.
cÚfig
.
	$§ve
()

892 
def
 
	$Ú_focuscombo_chªged
(
£lf
, 
widg‘
):

894 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

895 
£Ëùed
 == 1:

896 
v®ue
 = 'click'

897 
–if
 
£Ëùed
 == 2:

898 
v®ue
 = 'mouse'

900 
v®ue
 = 'system'

901 
£lf
.
cÚfig
['focus'] = 
v®ue


902 
£lf
.
cÚfig
.
	$§ve
()

904 
def
 
	$Ú_bposcombo_chªged
(
£lf
, 
widg‘
):

906 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

907 
£Ëùed
 == 1:

908 
v®ue
 = 'bottom'

909 
–if
 
£Ëùed
 == 2:

910 
v®ue
 = 'left'

911 
–if
 
£Ëùed
 == 3:

912 
v®ue
 = 'right'

913 
–if
 
£Ëùed
 == 4:

914 
v®ue
 = 'hidden'

916 
v®ue
 = 'top'

917 
£lf
.
cÚfig
['b_pos™iÚ'] = 
v®ue


918 
£lf
.
cÚfig
.
	$§ve
()

920 
def
 
	$Ú_wš¡©ecombo_chªged
(
£lf
, 
widg‘
):

922 
£Ëùed
 = 
widg‘
.
	$g‘_aùive
()

923 
£Ëùed
 == 1:

924 
v®ue
 = 'hidden'

925 
–if
 
£Ëùed
 == 2:

926 
v®ue
 = 'maximise'

927 
–if
 
£Ëùed
 == 3:

928 
v®ue
 = 'fullscreen'

930 
v®ue
 = 'normal'

931 
£lf
.
cÚfig
['wšdow_¡©e'] = 
v®ue


932 
£lf
.
cÚfig
.
	$§ve
()

934 
def
 
	$Ú_´of—ddbu‰Ú_şicked
(
£lf
, 
_bu‰Ú
):

936 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


938 
Œ“v›w
 = 
	`guig‘
('profilelist')

939 
mod–
 = 
Œ“v›w
.
	$g‘_mod–
()

940 
v®ues
 = [ 
r
[0] ¸
š
 
mod–
 ]

942 
Ãw´ofe
 = 
	`_
('New Profile')

943 
Ãw´ofe
 
š
 
v®ues
:

944 
i
 = 1

945 
Ãw´ofe
 
š
 
v®ues
:

946 
i
 = i + 1

947 
Ãw´ofe
 = '% %d' % (
	`_
('New Profe'), 
i
)

949 
£lf
.
cÚfig
.
	$add_´ofe
(
Ãw´ofe
):

950 
»s
 = 
mod–
.
	$­³nd
([
Ãw´ofe
, 
True
])

951 
»s
:

952 
·th
 = 
mod–
.
	$g‘_·th
(
»s
)

953 
Œ“v›w
.
	`£t_cursÜ
(
·th
, 
focus_cŞumn
ñ»ev›w.
	`g‘_cŞumn
(0),

954 
¡¬t_ed™šg
=
True
)

956 
£lf
.
Ïyou‹d™Ü
.
	$upd©e_´ofes
()

958 
def
 
	$Ú_´of”emovebu‰Ú_şicked
(
£lf
, 
_bu‰Ú
):

960 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


962 
Œ“v›w
 = 
	`guig‘
('profilelist')

963 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

964 (
mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

965 
´ofe
 = 
mod–
.
	$g‘_v®ue
(
row™”
, 0)

967 
´ofe
 == 'default':

968 #W
shouldn
't†et…eople deletehis…rofile

971 
£lf
.
´evious_´ofe_£ËùiÚ
 = 
NÚe


972 
£lf
.
cÚfig
.
	$d–_´ofe
(
´ofe
)

973 
mod–
.
	$»move
(
row™”
)

974 
£ËùiÚ
.
	`£Ëù_™”
(
mod–
.
	$g‘_™”_fœ¡
())

975 
£lf
.
Ïyou‹d™Ü
.
	$upd©e_´ofes
()

977 
def
 
	$Ú_Ïyouddbu‰Ú_şicked
(
£lf
, 
_bu‰Ú
):

979 
‹rmš©Ü
 = 
	$T”mš©Ü
()

980 
cu¼’t_Ïyout
 = 
‹rmš©Ü
.
	$desüibe_Ïyout
()

981 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


983 
Œ“v›w
 = 
	`guig‘
('layoutlist')

984 
mod–
 = 
Œ“v›w
.
	$g‘_mod–
()

985 
v®ues
 = [ 
r
[0] ¸
š
 
mod–
 ]

987 
Çme
 = 
	`_
('New Layout')

988 
Çme
 
š
 
v®ues
:

989 
i
 = 1

990 
Çme
 
š
 
v®ues
:

991 
i
 = i + 1

992 
Çme
 = '% %d' % (
	`_
('New Layout'), 
i
)

994 
£lf
.
cÚfig
.
	$add_Ïyout
(
Çme
, 
cu¼’t_Ïyout
):

995 
»s
 = 
mod–
.
	$­³nd
([
Çme
, 
True
])

996 
»s
:

997 
·th
 = 
mod–
.
	$g‘_·th
(
»s
)

998 
Œ“v›w
.
	`£t_cursÜ
(
·th
, 
focus_cŞumn
ñ»ev›w.
	`g‘_cŞumn
(0),

999 
¡¬t_ed™šg
=
True
)

1001 
£lf
.
cÚfig
.
	$§ve
()

1003 
def
 
	$Ú_ÏyouŒemovebu‰Ú_şicked
(
£lf
, 
_bu‰Ú
):

1005 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1007 
Œ“v›w
 = 
	`guig‘
('layoutlist')

1008 
£ËùiÚ
 = 
Œ“v›w
.
	$g‘_£ËùiÚ
()

1009 (
mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

1010 
Ïyout
 = 
mod–
.
	$g‘_v®ue
(
row™”
, 0)

1012 
Ïyout
 == 'default':

1013 #W
shouldn
't†et…eople deletehis†ayout

1016 
£lf
.
´evious_£ËùiÚ
 = 
NÚe


1017 
£lf
.
cÚfig
.
	$d–_Ïyout
(
Ïyout
)

1018 
mod–
.
	$»move
(
row™”
)

1019 
£ËùiÚ
.
	`£Ëù_™”
(
mod–
.
	$g‘_™”_fœ¡
())

1020 
£lf
.
cÚfig
.
	$§ve
()

1022 
def
 
	$Ú_u£_cu¡om_commªd_checkbu‰Ú_toggËd
(
£lf
, 
checkbox
):

1024 
£ns™iv™y
 
of
 
the
 
cu¡om_commªd
 
’Œybox
"""

1025 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1026 
widg‘
 = 
	`guig‘
('custom_command_entry')

1027 
v®ue
 = 
checkbox
.
	$g‘_aùive
()

1029 
widg‘
.
	$£t_£ns™ive
(
v®ue
)

1030 
£lf
.
cÚfig
['u£_cu¡om_commªd'] = 
v®ue


1031 
£lf
.
cÚfig
.
	$§ve
()

1033 
def
 
	$Ú_sy¡em_fÚt_checkbu‰Ú_toggËd
(
£lf
, 
checkbox
):

1035 
£ns™iv™y
 
of
 
the
 
fÚt
 
£ËùÜ
"""

1036 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1037 
widg‘
 = 
	`guig‘
('font_selector')

1038 
v®ue
 = 
checkbox
.
	$g‘_aùive
()

1040 
widg‘
.
	$£t_£ns™ive
(
nÙ
 
v®ue
)

1041 
£lf
.
cÚfig
['u£_sy¡em_fÚt'] = 
v®ue


1042 
£lf
.
cÚfig
.
	$§ve
()

1044 
def
 
	$Ú_»£t_com·tib™y_şicked
(
£lf
, 
widg‘
):

1046 
§ã¡
 
v®ues
"""

1047 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1049 
widg‘
 = 
	`guig‘
('backspace_binding_combobox')

1050 
widg‘
.
	$£t_aùive
(2)

1051 
widg‘
 = 
	`guig‘
('delete_binding_combobox')

1052 
widg‘
.
	$£t_aùive
(3)

1054 
def
 
	$Ú_background_ty³_toggËd
(
£lf
, 
_widg‘
):

1056 
£lf
.
	$upd©e_background_b
()

1058 
def
 
	$upd©e_background_b
(
£lf
):

1060 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1062 #Background 
ty³


1063 
backty³
 = 
NÚe


1064 
imagewidg‘
 = 
	`guig‘
('image_radiobutton')

1065 
Œªswidg‘
 = 
	`guig‘
('transparent_radiobutton')

1066 
Œªswidg‘
.
	`g‘_aùive
(è=ğ
True
:

1067 
backty³
 = 'transparent'

1068 
–if
 
imagewidg‘
.
	`g‘_aùive
(è=ğ
True
:

1069 
backty³
 = 'image'

1071 
backty³
 = 'solid'

1072 
£lf
.
cÚfig
['background_ty³'] = 
backty³


1073 
£lf
.
cÚfig
.
	$§ve
()

1075 
backty³
 == 'image':

1076 
	`guig‘
('background_image_fechoo£r').
	$£t_£ns™ive
(
True
)

1077 
	`guig‘
('süŞl_background_checkbu‰Ú').
	$£t_£ns™ive
(
True
)

1079 
	`guig‘
('background_image_fechoo£r').
	$£t_£ns™ive
(
F®£
)

1080 
	`guig‘
('süŞl_background_checkbu‰Ú').
	$£t_£ns™ive
(
F®£
)

1081 
backty³
 == 'transparent':

1082 
	`guig‘
('d¬k’_background_sÿË').
	$£t_£ns™ive
(
True
)

1084 
	`guig‘
('d¬k’_background_sÿË').
	$£t_£ns™ive
(
F®£
)

1086 
def
 
	$Ú_´ofe_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1088 (
li¡mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

1089 
nÙ
 
row™”
:

1090 #Som‘hšg 
is
 
wrÚg
, 
ju¡
 
jump
 
to
 
the
 
fœ¡
 
™em
 
š
h
li¡


1091 
Œ“v›w
 = 
£ËùiÚ
.
	$g‘_Œ“_v›w
()

1092 
li¡¡Üe
 = 
Œ“v›w
.
	$g‘_mod–
()

1093 
£ËùiÚ
.
	`£Ëù_™”
(
li¡¡Üe
.
	$g‘_™”_fœ¡
())

1095 
´ofe
 = 
li¡mod–
.
	$g‘_v®ue
(
row™”
, 0)

1096 
£lf
.
	$£t_´ofe_v®ues
(
´ofe
)

1097 
£lf
.
´evious_´ofe_£ËùiÚ
 = 
´ofe


1099 
widg‘
 = 
£lf
.
bud”
.
	`g‘_objeù
('profileremovebutton')

1100 
´ofe
 == 'default':

1101 
widg‘
.
	$£t_£ns™ive
(
F®£
)

1103 
widg‘
.
	$£t_£ns™ive
(
True
)

1105 
def
 
	$Ú_¶ugš_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1107 (
li¡mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

1108 
nÙ
 
row™”
:

1109 #Som‘hšg 
is
 
wrÚg
, 
ju¡
 
jump
 
to
 
the
 
fœ¡
 
™em
 
š
h
li¡


1110 
Œ“v›w
 = 
£ËùiÚ
.
	$g‘_Œ“_v›w
()

1111 
li¡¡Üe
 = 
Œ“v›w
.
	$g‘_mod–
()

1112 
£ËùiÚ
.
	`£Ëù_™”
(
li¡¡Üe
.
	$g‘_™”_fœ¡
())

1114 
¶ugš
 = 
li¡mod–
.
	$g‘_v®ue
(
row™”
, 0)

1115 
£lf
.
	$£t_¶ugš
(
¶ugš
)

1116 
£lf
.
´evious_¶ugš_£ËùiÚ
 = 
¶ugš


1118 
widg‘
 = 
£lf
.
bud”
.
	`g‘_objeù
('plugintogglebutton')

1120 
def
 
	$Ú_¶ugš_toggËd
(
£lf
, 
ûÎ
, 
·th
):

1122 
Œ“v›w
 = 
£lf
.
bud”
.
	`g‘_objeù
('pluginlist')

1123 
mod–
 = 
Œ“v›w
.
	$g‘_mod–
()

1124 
¶ugš
 = 
mod–
[
·th
][0]

1126 
nÙ
 
£lf
.
¶ugšs
[
¶ugš
]:

1127 #Plugš 
is
 
cu¼’y
 
di§bËd
, 
lßd
 
™


1128 
£lf
.
»gi¡ry
.
	$’abË
(
¶ugš
)

1130 #Plugš 
is
 
cu¼’y
 
’abËd
, 
uÆßd
 
™


1131 
£lf
.
»gi¡ry
.
	$di§bË
(
¶ugš
)

1133 
£lf
.
¶ugšs
[
¶ugš
] = 
nÙ
 self.plugins[plugin]

1134 #Upd©
the
 
Œ“v›w


1135 
mod–
[
·th
][1] = 
£lf
.
¶ugšs
[
¶ugš
]

1137 
’abËd_¶ugšs
 = [
x
 x 
š
 
£lf
.
¶ugšs
 £lf.¶ugšs[x] =ğ
True
]

1138 
£lf
.
cÚfig
['’abËd_¶ugšs'] = 
’abËd_¶ugšs


1139 
£lf
.
cÚfig
.
	$§ve
()

1141 
def
 
	$£t_¶ugš
(
£lf
, 
¶ugš
):

1143 
¶ugš·ÃÏb–
 = 
£lf
.
bud”
.
	`g‘_objeù
('pluginpanelabel')

1144 
¶ugšcÚfig
 = 
£lf
.
cÚfig
.
	$¶ugš_g‘_cÚfig
(
¶ugš
)

1145 #FIXME: 
Im¶em’t
 
this
, 
we
 
Ãed
 
to
‡uto-
cÚ¡ruù
 
a
 
UI
 
the
 
¶ugš


1147 
def
 
	$Ú_´ofe_Çme_ed™ed
(
£lf
, 
ûÎ
, 
·th
, 
Ãw‹xt
):

1149 
ŞdÇme
 = 
ûÎ
.
	`g‘_´İ”ty
('text')

1150 
ŞdÇme
 =ğ
Ãw‹xt
 
Ü
 oldname == 'default':

1152 
	`dbg
('PrefsEditor::on_profile_name_edited: Changing %so %s' %

1153 (
ŞdÇme
, 
Ãw‹xt
))

1154 
£lf
.
cÚfig
.
	$»Çme_´ofe
(
ŞdÇme
, 
Ãw‹xt
)

1155 
£lf
.
cÚfig
.
	$§ve
()

1157 
widg‘
 = 
£lf
.
bud”
.
	`g‘_objeù
('profilelist')

1158 
mod–
 = 
widg‘
.
	$g‘_mod–
()

1159 
™”a
 = 
mod–
.
	$g‘_™”
(
·th
)

1160 
mod–
.
	$£t_v®ue
(
™”a
, 0, 
Ãw‹xt
)

1162 
ŞdÇme
 =ğ
£lf
.
´evious_´ofe_£ËùiÚ
:

1163 
£lf
.
´evious_´ofe_£ËùiÚ
 = 
Ãw‹xt


1165 
def
 
	$Ú_Ïyout_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1167 
£lf
.
Ïyou‹d™Ü
.
	$Ú_Ïyout_£ËùiÚ_chªged
(
£ËùiÚ
)

1169 
def
 
	$Ú_Ïyout_™em_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1171 
£lf
.
Ïyou‹d™Ü
.
	$Ú_Ïyout_™em_£ËùiÚ_chªged
(
£ËùiÚ
)

1173 
def
 
	$Ú_Ïyout_´ofe_choo£r_chªged
(
£lf
, 
widg‘
):

1175 
£lf
.
Ïyou‹d™Ü
.
	$Ú_Ïyout_´ofe_choo£r_chªged
(
widg‘
)

1177 
def
 
	$Ú_Ïyout_´ofe_commªd_chªged
(
£lf
, 
widg‘
):

1179 
£lf
.
Ïyou‹d™Ü
.
	$Ú_Ïyout_´ofe_commªd_aùiv©e
(
widg‘
)

1181 
def
 
	$Ú_Ïyout_Çme_ed™ed
(
£lf
, 
ûÎ
, 
·th
, 
Ãw‹xt
):

1183 
ŞdÇme
 = 
ûÎ
.
	`g‘_´İ”ty
('text')

1184 
ŞdÇme
 =ğ
Ãw‹xt
 
Ü
 oldname == 'default':

1186 
	`dbg
('Chªgšg % tØ%s' % (
ŞdÇme
, 
Ãw‹xt
))

1187 
£lf
.
cÚfig
.
	$»Çme_Ïyout
(
ŞdÇme
, 
Ãw‹xt
)

1188 
£lf
.
cÚfig
.
	$§ve
()

1190 
widg‘
 = 
£lf
.
bud”
.
	`g‘_objeù
('layoutlist')

1191 
mod–
 = 
widg‘
.
	$g‘_mod–
()

1192 
™”a
 = 
mod–
.
	$g‘_™”
(
·th
)

1193 
mod–
.
	$£t_v®ue
(
™”a
, 0, 
Ãw‹xt
)

1195 
ŞdÇme
 =ğ
£lf
.
´evious_Ïyout_£ËùiÚ
:

1196 
£lf
.
´evious_Ïyout_£ËùiÚ
 = 
Ãw‹xt


1198 
ŞdÇme
 =ğ
£lf
.
Ïyou‹d™Ü
.
Ïyout_Çme
:

1199 
£lf
.
Ïyou‹d™Ü
.
Ïyout_Çme
 = 
Ãw‹xt


1201 
def
 
	$Ú_cŞÜ_scheme_combobox_chªged
(
£lf
, 
widg‘
):

1203 
v®ue
 = 
NÚe


1204 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1205 
aùive
 = 
widg‘
.
	$g‘_aùive
()

1207 
key
 
š
 
£lf
.
cŞÜschemev®ues
.
	$keys
():

1208 
£lf
.
cŞÜschemev®ues
[
key
] =ğ
aùive
:

1209 
v®ue
 = 
key


1211 
fÜe
 = 
	`guig‘
('foreground_colorpicker')

1212 
back
 = 
	`guig‘
('background_colorpicker')

1213 
v®ue
 == 'custom':

1214 
fÜe
.
	$£t_£ns™ive
(
True
)

1215 
back
.
	$£t_£ns™ive
(
True
)

1217 
fÜe
.
	$£t_£ns™ive
(
F®£
)

1218 
back
.
	$£t_£ns™ive
(
F®£
)

1220 
fÜecŞ
 = 
NÚe


1221 
backcŞ
 = 
NÚe


1222 
v®ue
 
š
 
£lf
.
cŞourschemes
:

1223 
fÜecŞ
 = 
£lf
.
cŞourschemes
[
v®ue
][0]

1224 
backcŞ
 = 
£lf
.
cŞourschemes
[
v®ue
][1]

1225 
–if
 
v®ue
 == 'custom':

1226 
fÜecŞ
 = 
	$cŞÜ2hex
(
fÜe
)

1227 
backcŞ
 = 
	$cŞÜ2hex
(
back
)

1229 
	`”r
('UnknowÀcŞourschemv®ue: %s' % 
v®ue
)

1232 
fÜe
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	$CŞÜ
(
fÜecŞ
))

1233 
back
.
	`£t_cŞÜ
(
gtk
.
gdk
.
	$CŞÜ
(
backcŞ
))

1235 
£lf
.
cÚfig
['fÜeground_cŞÜ'] = 
fÜecŞ


1236 
£lf
.
cÚfig
['background_cŞÜ'] = 
backcŞ


1237 
£lf
.
cÚfig
.
	$§ve
()

1239 
def
 
	$Ú_u£_theme_cŞÜs_checkbu‰Ú_toggËd
(
£lf
, 
widg‘
):

1241 
guig‘
 = 
£lf
.
bud”
.
g‘_objeù


1242 
aùive
 = 
widg‘
.
	$g‘_aùive
()

1244 
scheme
 = 
	`guig‘
('color_scheme_combobox')

1245 
fÜe
 = 
	`guig‘
('foreground_colorpicker')

1246 
back
 = 
	`guig‘
('background_colorpicker')

1248 
aùive
:

1249 
widg‘
 
š
 [
scheme
, 
fÜe
, 
back
]:

1250 
widg‘
.
	$£t_£ns™ive
(
F®£
)

1252 
scheme
.
	$£t_£ns™ive
(
True
)

1253 
£lf
.
	$Ú_cŞÜ_scheme_combobox_chªged
(
scheme
)

1255 
£lf
.
cÚfig
['u£_theme_cŞÜs'] = 
aùive


1256 
£lf
.
cÚfig
.
	$§ve
()

1258 
def
 
	$Ú_ûÎ»nd””_acûl_ed™ed
(
£lf
, 
li¡¡Üe
, 
·th
, 
key
, 
mods
, 
_code
):

1260 
ûÎ™”
 = 
li¡¡Üe
.
	$g‘_™”_äom_¡ršg
(
·th
)

1261 
li¡¡Üe
.
	$£t
(
ûÎ™”
, 2, 
key
, 3, 
mods
)

1263 
bšdšg
 = 
li¡¡Üe
.
	`g‘_v®ue
Öi¡¡Üe.
	`g‘_™”
(
·th
), 0)

1264 
acûl
 = 
gtk
.
	$acûË¿tÜ_Çme
(
key
, 
mods
)

1265 
£lf
.
cÚfig
['keybšdšgs'][
bšdšg
] = 
acûl


1266 
£lf
.
cÚfig
.
	$§ve
()

1268 
def
 
	$Ú_ûÎ»nd””_acûl_ş—»d
(
£lf
, 
li¡¡Üe
, 
·th
):

1270 
ûÎ™”
 = 
li¡¡Üe
.
	$g‘_™”_äom_¡ršg
(
·th
)

1271 
li¡¡Üe
.
	$£t
(
ûÎ™”
, 2, 0, 3, 0)

1273 
bšdšg
 = 
li¡¡Üe
.
	`g‘_v®ue
Öi¡¡Üe.
	`g‘_™”
(
·th
), 0)

1274 
£lf
.
cÚfig
['keybšdšgs'][
bšdšg
] = 
NÚe


1275 
£lf
.
cÚfig
.
	$§ve
()

1277 
şass
 
LayoutEd™Ü
:

1278 
´ofe_ids_to_´ofe
 = 
NÚe


1279 
´ofe_´ofe_to_ids
 = 
NÚe


1280 
Ïyout_Çme
 = 
NÚe


1281 
Ïyout_™em
 = 
NÚe


1282 
bud”
 = 
NÚe


1283 
Œ“v›w
 = 
NÚe


1284 
Œ“¡Üe
 = 
NÚe


1285 
cÚfig
 = 
NÚe


1287 
def
 
	$__š™__
(
£lf
, 
bud”
):

1289 
£lf
.
cÚfig
 = cÚfig.
	$CÚfig
()

1290 
£lf
.
bud”
 = builder

1292 
def
 
	$´•¬e
(
£lf
, 
Ïyout
=
NÚe
):

1294 
£lf
.
Œ“v›w
 = s–f.
bud”
.
	`g‘_objeù
('LayoutTreeView')

1295 
£lf
.
Œ“¡Üe
 = s–f.
bud”
.
	`g‘_objeù
('LayoutTreeStore')

1296 
£lf
.
	$upd©e_´ofes
()

1297 
Ïyout
:

1298 
£lf
.
	$£t_Ïyout
(
Ïyout
)

1300 
def
 
	$£t_Ïyout
(
£lf
, 
Ïyout_Çme
):

1302 
£lf
.
Ïyout_Çme
 =†ayout_name

1303 
¡Üe
 = 
£lf
.
Œ“¡Üe


1304 
Ïyout
 = 
£lf
.
cÚfig
.
	$Ïyout_g‘_cÚfig
(
Ïyout_Çme
)

1305 
li¡™ems
 = {
	}
}

1306 
¡Üe
.
	$ş—r
()

1308 
chd»n
 = 
Ïyout
.
	$keys
()

1309 
i
 = 0

1310 
chd»n
 != []:

1311 
chd
 = 
chd»n
.
	$pİ
()

1312 
chd_ty³
 = 
Ïyout
[
chd
]['type']

1313 
·»Á
 = 
Ïyout
[
chd
]['parent']

1315 
chd_ty³
 !ğ'Wšdow' 
ªd
 
·»Á
 
nÙ
 
š
 
Ïyout
:

1316 #W
have
 
ª
 
Üphª
!

1317 
	`”r
('% i ª o½hª iÀthi Ïyout. Disÿrdšg' % 
chd
)

1319 
Œy
:

1320 
·»Á™”
 = 
li¡™ems
[
·»Á
]

1321 
exû±
 
KeyE¼Ü
:

1322 
chd_ty³
 == 'Window':

1323 
·»Á™”
 = 
NÚe


1326 
chd»n
.
	$š£¹
(0, 
chd
)

1329 
chd_ty³
 == 'VPaned':

1330 
chd_ty³
 = 'Vertical split'

1331 
–if
 
chd_ty³
 == 'HPaned':

1332 
chd_ty³
 = 'Horizontal split'

1334 
li¡™ems
[
chd
] = 
¡Üe
.
	$­³nd
(
·»Á™”
, [
chd
, 
chd_ty³
])

1336 
Œ“v›w
 = 
£lf
.
bud”
.
	`g‘_objeù
('LayoutTreeView')

1337 
Œ“v›w
.
	$ex·nd_®l
()

1339 
def
 
	$upd©e_´ofes
(
£lf
):

1341 
£lf
.
´ofe_ids_to_´ofe
 = {
	}
}

1342 
£lf
.
´ofe_´ofe_to_ids
= {}

1343 
choo£r
 = 
£lf
.
bud”
.
g‘_objeù
('layout_profile_chooser')

1344 
mod–
 = 
choo£r
.
	$g‘_mod–
()

1346 
mod–
.
	$ş—r
()

1348 
´ofes
 = 
£lf
.
cÚfig
.
	$li¡_´ofes
()

1349 
´ofes
.
	$sÜt
()

1350 
i
 = 0

1351 
´ofe
 
š
 
´ofes
:

1352 
£lf
.
´ofe_ids_to_´ofe
[
i
] = 
´ofe


1353 
£lf
.
´ofe_´ofe_to_ids
[
´ofe
] = 
i


1354 
mod–
.
	$­³nd
([
´ofe
])

1355 
i
 = i + 1

1357 
def
 
	$Ú_Ïyout_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1359 (
li¡mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

1360 
nÙ
 
row™”
:

1361 #Som‘hšg 
is
 
wrÚg
, 
ju¡
 
jump
 
to
 
the
 
fœ¡
 
™em
 
š
h
li¡


1362 
£ËùiÚ
.
	`£Ëù_™”
(
£lf
.
Œ“¡Üe
.
	$g‘_™”_fœ¡
())

1364 
Ïyout
 = 
li¡mod–
.
	$g‘_v®ue
(
row™”
, 0)

1365 
£lf
.
	$£t_Ïyout
(
Ïyout
)

1366 
£lf
.
´evious_Ïyout_£ËùiÚ
 = 
Ïyout


1368 
widg‘
 = 
£lf
.
bud”
.
	`g‘_objeù
('layoutremovebutton')

1369 
Ïyout
 == 'default':

1370 
widg‘
.
	$£t_£ns™ive
(
F®£
)

1372 
widg‘
.
	$£t_£ns™ive
(
True
)

1374 
def
 
	$Ú_Ïyout_™em_£ËùiÚ_chªged
(
£lf
, 
£ËùiÚ
):

1376 (
Œ“mod–
, 
row™”
èğ
£ËùiÚ
.
	$g‘_£Ëùed
()

1377 
nÙ
 
row™”
:

1379 
™em
 = 
Œ“mod–
.
	$g‘_v®ue
(
row™”
, 0)

1380 
£lf
.
Ïyout_™em
 = 
™em


1381 
£lf
.
	$£t_Ïyout_™em
(
™em
)

1383 
def
 
	$£t_Ïyout_™em
(
£lf
, 
™em_Çme
):

1385 
Ïyout
 = 
£lf
.
cÚfig
.
	$Ïyout_g‘_cÚfig
(
£lf
.
Ïyout_Çme
)

1386 
Ïyout_™em
 = 
Ïyout
[
£lf
.layout_item]

1387 
commªd
 = 
£lf
.
bud”
.
	`g‘_objeù
('layout_profile_command')

1388 
choo£r
 = 
£lf
.
bud”
.
	`g‘_objeù
('layout_profile_chooser')

1390 
Ïyout_™em
['type'] != 'Terminal':

1391 
commªd
.
	$£t_£ns™ive
(
F®£
)

1392 
choo£r
.
	$£t_£ns™ive
(
F®£
)

1395 
commªd
.
	$£t_£ns™ive
(
True
)

1396 
choo£r
.
	$£t_£ns™ive
(
True
)

1397 
Ïyout_™em
.
	`has_key
('commªd'è
ªd
†ayout_item['command'] != '':

1398 
commªd
.
	`£t_‹xt
(
Ïyout_™em
['command'])

1400 
commªd
.
	`£t_‹xt
('')

1402 
Ïyout_™em
.
	`has_key
('´ofe'è
ªd
†ayout_item['profile'] != '':

1403 
choo£r
.
	`£t_aùive
(
£lf
.
´ofe_´ofe_to_ids
[
Ïyout_™em
['profile']])

1405 
choo£r
.
	$£t_aùive
(0)

1407 
def
 
	$Ú_Ïyout_´ofe_choo£r_chªged
(
£lf
, 
widg‘
):

1409 
nÙ
 
£lf
.
Ïyout_™em
:

1411 
´ofe
 = 
widg‘
.
	$g‘_aùive_‹xt
()

1412 
Ïyout
 = 
£lf
.
cÚfig
.
	$Ïyout_g‘_cÚfig
(
£lf
.
Ïyout_Çme
)

1413 
Ïyout
[
£lf
.
Ïyout_™em
]['´ofe'] = 
´ofe


1414 
£lf
.
cÚfig
.
	$§ve
()

1416 
def
 
	$Ú_Ïyout_´ofe_commªd_aùiv©e
(
£lf
, 
widg‘
):

1418 
commªd
 = 
widg‘
.
	$g‘_‹xt
()

1419 
Ïyout
 = 
£lf
.
cÚfig
.
	$Ïyout_g‘_cÚfig
(
£lf
.
Ïyout_Çme
)

1420 
Ïyout
[
£lf
.
Ïyout_™em
]['commªd'] = 
commªd


1421 
£lf
.
cÚfig
.
	$§ve
()

1423 
__Çme__
 == '__main__':

1424 
impÜt
 
ut


1425 
ut
.
DEBUG
 = 
True


1426 
impÜt
 
‹rmš®


1427 
TERM
 = 
‹rmš®
.
	$T”mš®
()

1428 
PREFEDIT
 = 
	$P»fsEd™Ü
(
TERM
)

1430 
gtk
.
	`maš
()

	@/home/zq/Project/terminator-0.96/terminatorlib/searchbar.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
gtk


7 
impÜt
 
gobjeù


8 
impÜt
 
»


10 
äom
 
Œª¦©iÚ
 
impÜt
 
_


11 
äom
 
cÚfig
 
impÜt
 
	gCÚfig


13 #pylšt: 
di§bË
-
msg
=
R0904


14 
şass
 
	$S—rchb¬
(
gtk
.
HBox
):

17 
__gsigÇls__
 = {

18 '’d-£¬ch': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

19 
	}
}

21 
’Œy
 = 
NÚe


22 
»¦ab–
 = 
NÚe


23 
Ãxt
 = 
NÚe


24 
´ev
 = 
NÚe


26 
v‹
 = 
NÚe


27 
cÚfig
 = 
NÚe


29 
£¬ch¡ršg
 = 
NÚe


30 
£¬ch»
 = 
NÚe


31 
£¬chrow
 = 
NÚe


33 
£¬ch™s
 = 
NÚe


35 
def
 
	$__š™__
(
£lf
):

37 
gtk
.
HBox
.
	$__š™__
(
£lf
)

38 
£lf
.
	$__gobjeù_š™__
()

40 
£lf
.
cÚfig
 = 
	$CÚfig
()

42 #S—rch 
‹xt


43 
£lf
.
’Œy
 = 
gtk
.
	$EÁry
()

44 
£lf
.
’Œy
.
	$£t_aùiv©es_deçuÉ
(
True
)

45 
£lf
.
’Œy
.
	$show
()

46 
£lf
.
’Œy
.
	`cÚÃù
('aùiv©e', s–f.
do_£¬ch
)

47 
£lf
.
’Œy
.
	`cÚÃù
('key-´ess-ev’t', s–f.
£¬ch_key´ess
)

50 
Ïb–
 = 
gtk
.
	`Lab–
(
	`_
('Search:'))

51 
Ïb–
.
	$show
()

53 #ResuÉ 
Ïb–


54 
£lf
.
»¦ab–
 = 
gtk
.
	`Lab–
('')

55 
£lf
.
»¦ab–
.
	$show
()

57 #Clo£ 
Bu‰Ú


58 
şo£
 = 
gtk
.
	$Bu‰Ú
()

59 
şo£
.
	$£t_»l›f
(
gtk
.
RELIEF_NONE
)

60 
şo£
.
	$£t_focus_Ú_şick
(
F®£
)

61 
icÚ
 = 
gtk
.
	$Image
()

62 
icÚ
.
	$£t_äom_¡ock
(
gtk
.
STOCK_CLOSE
, gtk.
ICON_SIZE_MENU
)

63 
şo£
.
	$add
(
icÚ
)

64 
şo£
.
	`£t_Çme
('terminator-search-close-button')

65 
	`ha§‰r
(
şo£
, 'set_tooltip_text'):

66 
şo£
.
	`£t_toŞt_‹xt
(
	`_
('Close Search bar'))

67 
şo£
.
	`cÚÃù
('şicked', 
£lf
.
’d_£¬ch
)

68 
şo£
.
	$show_®l
()

70 #Nexˆ
Bu‰Ú


71 
£lf
.
Ãxt
 = 
gtk
.
	`Bu‰Ú
(
	`_
('Next'))

72 
£lf
.
Ãxt
.
	$show
()

73 
£lf
.
Ãxt
.
	$£t_£ns™ive
(
F®£
)

74 
£lf
.
Ãxt
.
	`cÚÃù
('şicked', s–f.
Ãxt_£¬ch
)

76 #P»viou 
Bu‰Ú


77 
£lf
.
´ev
 = 
gtk
.
	`Bu‰Ú
(
	`_
('Prev'))

78 
£lf
.
´ev
.
	$show
()

79 
£lf
.
´ev
.
	$£t_£ns™ive
(
F®£
)

80 
£lf
.
´ev
.
	`cÚÃù
('şicked', s–f.
´ev_£¬ch
)

82 
£lf
.
	$·ck_¡¬t
(
Ïb–
, 
F®£
)

83 
£lf
.
	$·ck_¡¬t
(
£lf
.
’Œy
)

84 
£lf
.
	$·ck_¡¬t
(
£lf
.
»¦ab–
, 
F®£
)

85 
£lf
.
	$·ck_¡¬t
(
£lf
.
´ev
, 
F®£
, False)

86 
£lf
.
	$·ck_¡¬t
(
£lf
.
Ãxt
, 
F®£
, False)

87 
£lf
.
	$·ck_’d
(
şo£
, 
F®£
, False)

89 
£lf
.
	$hide
()

90 
£lf
.
	$£t_no_show_®l
(
True
)

92 
def
 
	$g‘_v‹
(
£lf
):

94 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

95 
·»Á
:

96 
£lf
.
v‹
 = 
·»Á
.vte

98 #pylšt: 
di§bË
-
msg
=
W0613


99 
def
 
	$£¬ch_key´ess
(
£lf
, 
widg‘
, 
ev’t
):

101 
key
 = 
gtk
.
gdk
.
	$keyv®_Çme
(
ev’t
.
keyv®
)

102 
key
 == 'Escape':

103 
£lf
.
	$’d_£¬ch
()

105 
def
 
	$¡¬t_£¬ch
(
£lf
):

107 
nÙ
 
£lf
.
v‹
:

108 
£lf
.
	$g‘_v‹
()

110 
£lf
.
	$show
()

111 
£lf
.
’Œy
.
	$g¿b_focus
()

113 
def
 
	$do_£¬ch
(
£lf
, 
widg‘
):

115 
£¬ch‹xt
 = 
£lf
.
’Œy
.
	$g‘_‹xt
()

116 
£¬ch‹xt
 == '':

119 
£¬ch‹xt
 !ğ
£lf
.
£¬ch¡ršg
:

120 
£lf
.
£¬chrow
 = s–f.
	`g‘_v‹_bufãr_¿nge
()[0]

121 
£lf
.
£¬ch¡ršg
 = 
£¬ch‹xt


122 
£lf
.
£¬ch»
 = 
»
.
	$compe
(
£¬ch‹xt
)

124 
£lf
.
»¦ab–
.
	`£t_‹xt
(
	`_
("Searching scrollback"))

125 
£lf
.
Ãxt
.
	$£t_£ns™ive
(
True
)

126 
£lf
.
´ev
.
	$£t_£ns™ive
(
True
)

127 
£lf
.
	$Ãxt_£¬ch
(
NÚe
)

129 
def
 
	$Ãxt_£¬ch
(
£lf
, 
widg‘
):

131 
¡¬Œow
,
’drow
 = 
£lf
.
	$g‘_v‹_bufãr_¿nge
()

132 
True
:

133 
£lf
.
£¬chrow
 >ğ
’drow
:

134 
£lf
.
£¬chrow
 = 
¡¬Œow


135 
£lf
.
»¦ab–
.
	`£t_‹xt
(
	`_
('No more„esults'))

137 
bufãr
 = 
£lf
.
v‹
.
	`g‘_‹xt_¿nge
(£lf.
£¬chrow
, 0,

138 
£lf
.
£¬chrow
+1, 0,

139 
£lf
.
£¬ch_ch¬aù”
)

141 
m©ches
 = 
£lf
.
£¬ch»
.
	$£¬ch
(
bufãr
)

142 
m©ches
:

143 
£lf
.
	$£¬ch_h™
(
£lf
.
£¬chrow
)

144 
£lf
.
£¬chrow
 += 1

146 
£lf
.
£¬chrow
 += 1

148 #FIXME: 
Th”e
 
is
 
ª
 
issue
 
š
 
sw™chšg
 
£¬ch
 
dœeùiÚ
, 
´obably
 
beÿu£


149 #w
šüem’t
/
deüem’t
 
£lf
.
£¬chrow
 
aá”
 
—ch
 
£¬ch
 
™”©iÚ


150 
def
 
	$´ev_£¬ch
(
£lf
, 
widg‘
):

152 
¡¬Œow
,
’drow
 = 
£lf
.
	$g‘_v‹_bufãr_¿nge
()

153 
True
:

154 
£lf
.
£¬chrow
 <ğ
¡¬Œow
:

155 
£lf
.
£¬chrow
 = 
’drow


156 
£lf
.
»¦ab–
.
	`£t_‹xt
(
	`_
('No more„esults'))

158 
bufãr
 = 
£lf
.
v‹
.
	`g‘_‹xt_¿nge
(£lf.
£¬chrow
, 0,

159 
£lf
.
£¬chrow
+1, 0,

160 
£lf
.
£¬ch_ch¬aù”
)

162 
m©ches
 = 
£lf
.
£¬ch»
.
	$£¬ch
(
bufãr
)

163 
m©ches
:

164 
£lf
.
	$£¬ch_h™
(
£lf
.
£¬chrow
)

165 
£lf
.
£¬chrow
 -= 1

167 
£lf
.
£¬chrow
 -= 1

169 
def
 
	$£¬ch_h™
(
£lf
, 
row
):

171 
£lf
.
»¦ab–
.
	`£t_‹xt
("% %d" % (
	`_
('Found‡ˆrow'), 
row
))

172 
£lf
.
	`g‘_·»Á
().
	$süŞlb¬_jump
(
row
)

173 
£lf
.
Ãxt
.
	$show
()

174 
£lf
.
´ev
.
	$show
()

176 
def
 
	$£¬ch_ch¬aù”
(
£lf
, 
widg‘
, 
cŞ
, 
row
, 
junk
):

178 (
True
)

180 
def
 
	$g‘_v‹_bufãr_¿nge
(
£lf
):

182 
cŞumn
, 
’drow
 = 
£lf
.
v‹
.
	$g‘_cursÜ_pos™iÚ
()

183 
£lf
.
cÚfig
['scrollback_lines'] < 0:

184 
¡¬Œow
 = 0

186 
¡¬Œow
 = 
	`max
(0, 
’drow
 - 
£lf
.
cÚfig
['scrollback_lines'])

187 (
¡¬Œow
, 
’drow
)

189 
def
 
	$’d_£¬ch
(
£lf
, 
widg‘
=
NÚe
):

191 
£lf
.
£¬chrow
 = 0

192 
£lf
.
£¬ch¡ršg
 = 
NÚe


193 
£lf
.
£¬ch»
 = 
NÚe


194 
£lf
.
»¦ab–
.
	`£t_‹xt
('')

195 
£lf
.
	`em™
('end-search')

197 
def
 
	$g‘_£¬ch_‹rm
(
£lf
):

199 (
£lf
.
’Œy
.
	$g‘_‹xt
())

201 
gobjeù
.
	`ty³_»gi¡”
(
S—rchb¬
)

	@/home/zq/Project/terminator-0.96/terminatorlib/signalman.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


8 
şass
 
	$SigÇlmª
(
objeù
):

11 
úxids
 = 
NÚe


13 
def
 
	$__š™__
(
£lf
):

15 
£lf
.
úxids
 = {
	}
}

17 
def
 
	$__d–__
(
£lf
):

19 
	`Ën
(
£lf
.
úxids
.
	`keys
()) > 0:

20 
	`dbg
('Remaššg sigÇls: %s' % 
£lf
.
úxids
)

22 
def
 
	$Ãw
(
£lf
, 
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
):

24 
nÙ
 
£lf
.
úxids
.
	$has_key
(
widg‘
):

25 
	`dbg
('ü—tšg‚ew buck‘ fÜ %s' % 
	$ty³
(
widg‘
))

26 
£lf
.
úxids
[
widg‘
] = {
	}
}

28 
£lf
.
úxids
[
widg‘
].
	$has_key
(
sigÇl
):

29 
	`”r
('% ®»ady ha ¨hªdË¸fÜ %s' % (
	`id
(
widg‘
), 
sigÇl
))

31 
£lf
.
úxids
[
widg‘
][
sigÇl
] = widg‘.
	$cÚÃù
(
sigÇl
, 
hªdËr
, *
¬gs
)

32 
	`dbg
('cÚÃùed %s::% tØ%s' % (
	`ty³
(
widg‘
), 
sigÇl
, 
hªdËr
))

33 (
£lf
.
úxids
[
widg‘
][
sigÇl
])

35 
def
 
	$»move_sigÇl
(
£lf
, 
widg‘
, 
sigÇl
):

37 
nÙ
 
£lf
.
úxids
.
	$has_key
(
widg‘
):

38 
	`dbg
('% i nÙ„egi¡”ed' % 
widg‘
)

40 
nÙ
 
£lf
.
úxids
[
widg‘
].
	$has_key
(
sigÇl
):

41 
	`dbg
('% nÙ„egi¡”ed fÜ %s' % (
sigÇl
, 
	$ty³
(
widg‘
)))

43 
	`dbg
('»movšg %s::%s' % (
	`ty³
(
widg‘
), 
sigÇl
))

44 
widg‘
.
	$discÚÃù
(
£lf
.
úxids
[
widg‘
][
sigÇl
])

45 
	$d–
(
£lf
.
úxids
[
widg‘
][
sigÇl
])

46 
	`Ën
(
£lf
.
úxids
[
widg‘
].
	`keys
()) == 0:

47 
	`dbg
('no more signals for widget')

48 
	$d–
(
£lf
.
úxids
[
widg‘
])

50 
def
 
	$»move_widg‘
(
£lf
, 
widg‘
):

52 
nÙ
 
£lf
.
úxids
.
	$has_key
(
widg‘
):

53 
	`dbg
('% nÙ„egi¡”ed' % 
widg‘
)

55 
sigÇls
 = 
£lf
.
úxids
[
widg‘
].
	$keys
()

56 
sigÇl
 
š
 
sigÇls
:

57 
£lf
.
	$»move_sigÇl
(
widg‘
, 
sigÇl
)

59 
def
 
	$»move_®l
(
£lf
):

61 
widg‘s
 = 
£lf
.
úxids
.
	$keys
()

62 
widg‘
 
š
 
widg‘s
:

63 
£lf
.
	`»move_widg‘
(
widg‘
)

	@/home/zq/Project/terminator-0.96/terminatorlib/terminal.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
äom
 
__futu»__
 
impÜt
 
divisiÚ


7 
impÜt
 
sys


8 
impÜt
 
os


9 
impÜt
 
sigÇl


10 
impÜt
 
pygtk


11 
	gpygtk
.
»quœe
('2.0')

12 
impÜt
 
gtk


13 
impÜt
 
gobjeù


14 
impÜt
 
·ngo


15 
impÜt
 
sub´oûss


16 
impÜt
 
u¾lib


17 
impÜt
 
uuid


19 
äom
 
ut
 
impÜt
 
	gdbg
, 
	g”r
, 
g”r


20 
impÜt
 
ut


21 
äom
 
cÚfig
 
impÜt
 
CÚfig


22 
äom
 
cwd
 
impÜt
 
g‘_deçuÉ_cwd


23 
äom
 
çùÜy
 
impÜt
 
FaùÜy


24 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


25 
äom
 
t™Ëb¬
 
impÜt
 
T™Ëb¬


26 
äom
 
‹rmš®_pİup_m’u
 
impÜt
 
T”mš®PİupM’u


27 
äom
 
£¬chb¬
 
impÜt
 
S—rchb¬


28 
äom
 
Œª¦©iÚ
 
impÜt
 
_


29 
äom
 
sigÇlmª
 
impÜt
 
SigÇlmª


30 
impÜt
 
¶ugš


32 
	gŒy
:

33 
impÜt
 
v‹


34 
exû±
 
ImpÜtE¼Ü
:

35 
g”r
('You‚eedo install…ython bindings for†ibvte')

36 
sys
.
	$ex™
(1)

38 #pylšt: 
di§bË
-
msg
=
R0904


39 
şass
 
	$T”mš®
(
gtk
.
VBox
):

42 
__gsigÇls__
 = {

43 'şo£-‹rm': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

44 't™Ë-chªge': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

45 (
gobjeù
.
TYPE_STRING
,)),

46 '’um”©e': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

47 (
gobjeù
.
TYPE_INT
,)),

48 'group-b': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

49 'ungroup-b': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

50 'ungroup-®l': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

51 '¥l™-hÜiz': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

52 (
gobjeù
.
TYPE_STRING
,)),

53 '¥l™-v”t': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

54 (
gobjeù
.
TYPE_STRING
,)),

55 'b-Ãw': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

56 (
gobjeù
.
TYPE_BOOLEAN
, gobjeù.
TYPE_OBJECT
)),

57 'b-tİ-Ãw': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

58 'focus-š': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

59 'zoom': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

60 'maximi£': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

61 'unzoom': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

62 '»size-‹rm': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

63 (
gobjeù
.
TYPE_STRING
,)),

64 'Çvig©e': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

65 (
gobjeù
.
TYPE_STRING
,)),

66 'b-chªge': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

67 (
gobjeù
.
TYPE_INT
,)),

68 'group-®l': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

69 'move-b': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

70 (
gobjeù
.
TYPE_STRING
,)),

71 
	}
}

73 
TARGET_TYPE_VTE
 = 8

75 
‹rmš©Ü
 = 
NÚe


76 
v‹
 = 
NÚe


77 
‹rmš®box
 = 
NÚe


78 
süŞlb¬
 = 
NÚe


79 
süŞlb¬_pos™iÚ
 = 
NÚe


80 
t™Ëb¬
 = 
NÚe


81 
£¬chb¬
 = 
NÚe


83 
group
 = 
NÚe


84 
cwd
 = 
NÚe


85 
Üigcwd
 = 
NÚe


86 
commªd
 = 
NÚe


87 
şbßrd
 = 
NÚe


88 
pid
 = 
NÚe


89 
uuid
 = 
NÚe


91 
m©ches
 = 
NÚe


92 
cÚfig
 = 
NÚe


93 
deçuÉ_’codšg
 = 
NÚe


94 
cu¡om_’codšg
 = 
NÚe


95 
cu¡om_fÚt_size
 = 
NÚe


96 
Ïyout_commªd
 = 
NÚe


98 
compos™e_suµÜt
 = 
NÚe


100 
úxids
 = 
NÚe


102 
def
 
	$__š™__
(
£lf
):

104 
gtk
.
VBox
.
	$__š™__
(
£lf
)

105 
£lf
.
	$__gobjeù_š™__
()

107 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

108 
£lf
.
‹rmš©Ü
.
	$»gi¡”_‹rmš®
(
£lf
)

110 #FIXME: 
Su»ly
 
the£
 
should
 
h­³n
 
š
 
T”mš©Ü
::
	`»gi¡”_‹rmš®
()?

111 
£lf
.
	`cÚÃù
('’um”©e', s–f.
‹rmš©Ü
.
do_’um”©e
)

112 
£lf
.
	`cÚÃù
('focus-š', s–f.
‹rmš©Ü
.
focus_chªged
)

114 
£lf
.
m©ches
 = {
	}
}

115 
£lf
.
úxids
 = 
	$SigÇlmª
()

117 
£lf
.
cÚfig
 = 
	$CÚfig
()

119 
£lf
.
cwd
 = 
	$g‘_deçuÉ_cwd
()

120 
£lf
.
Üigcwd
 = s–f.
‹rmš©Ü
.origcwd

121 
£lf
.
şbßrd
 = 
gtk
.
	$şbßrd_g‘
(
gtk
.
gdk
.
SELECTION_CLIPBOARD
)

123 
£lf
.
³ndšg_Ú_v‹_size_®loÿ‹
 = 
F®£


125 
£lf
.
uuid
 = uuid.
	$uuid4
()

126 
	`dbg
('assignšg T”mš®‡ TERMINATOR_UUID of: %s' % 
£lf
.
uuid
.
uº
)

128 
£lf
.
v‹
 = v‹.
	$T”mš®
()

129 
£lf
.
v‹
.
	$£t_size
(80, 24)

130 
£lf
.
v‹
.
_expo£_d©a
 = 
NÚe


131 
nÙ
 
	`ha§‰r
(
£lf
.
v‹
, "£t_İac™y"è
Ü
 \

132 
nÙ
 
	`ha§‰r
(
£lf
.
v‹
, "is_composited"):

133 
£lf
.
compos™e_suµÜt
 = 
F®£


135 
£lf
.
compos™e_suµÜt
 = 
True


136 
	`dbg
('compos™e_suµÜt: %s' % 
£lf
.
compos™e_suµÜt
)

138 
£lf
.
v‹
.
	$show
()

140 
£lf
.
deçuÉ_’codšg
 = s–f.
v‹
.
	$g‘_’codšg
()

141 
£lf
.
	`upd©e_u¾_m©ches
(£lf.
cÚfig
['try_posix_regexp'])

143 
£lf
.
‹rmš®box
 = s–f.
	$ü—‹_‹rmš®box
()

145 
£lf
.
t™Ëb¬
 = 
	$T™Ëb¬
(
£lf
)

146 
£lf
.
t™Ëb¬
.
	$cÚÃù_icÚ
(
£lf
.
Ú_group_bu‰Ú_´ess
)

147 
£lf
.
t™Ëb¬
.
	`cÚÃù
('ed™-dÚe', s–f.
Ú_ed™_dÚe
)

148 
£lf
.
	`cÚÃù
('t™Ë-chªge', s–f.
t™Ëb¬
.
£t_‹rmš®_t™Ë
)

149 
£lf
.
t™Ëb¬
.
	`cÚÃù
('ü—‹-group', s–f.
»®ly_ü—‹_group
)

150 
£lf
.
t™Ëb¬
.
	$show_®l
()

152 
£lf
.
£¬chb¬
 = 
	$S—rchb¬
()

153 
£lf
.
£¬chb¬
.
	`cÚÃù
('’d-£¬ch', s–f.
Ú_£¬ch_dÚe
)

155 
£lf
.
	$show
()

156 
£lf
.
	$·ck_¡¬t
(
£lf
.
t™Ëb¬
, 
F®£
)

157 
£lf
.
	$·ck_¡¬t
(
£lf
.
‹rmš®box
)

158 
£lf
.
	$·ck_’d
(
£lf
.
£¬chb¬
)

160 
£lf
.
	$cÚÃù_sigÇls
()

162 
os
.
	`pu‹nv
('TERM', 'xterm')

163 
os
.
	`pu‹nv
('COLORTERM', 'gnome-terminal')

165 
’v_´oxy
 = 
os
.
	`g‘’v
('http_proxy')

166 
nÙ
 
’v_´oxy
:

167 
£lf
.
cÚfig
['h‰p_´oxy'] 
ªd
 self.config['http_proxy'] != '':

168 
os
.
	`pu‹nv
('h‰p_´oxy', 
£lf
.
cÚfig
['http_proxy'])

170 
def
 
	$g‘_v‹
(
£lf
):

172 (
£lf
.
v‹
)

174 
def
 
	$fÜû_£t_´ofe
(
£lf
, 
widg‘
, 
´ofe
):

176 
£lf
.
	$£t_´ofe
(
widg‘
, 
´ofe
, 
True
)

178 
def
 
	$£t_´ofe
(
£lf
, 
_widg‘
, 
´ofe
, 
fÜû
=
F®£
):

180 
´ofe
 !ğ
£lf
.
cÚfig
.
	$g‘_´ofe
():

181 
£lf
.
cÚfig
.
	$£t_´ofe
(
´ofe
, 
fÜû
)

182 
£lf
.
	$»cÚfigu»
()

184 
def
 
	$g‘_´ofe
(
£lf
):

186 (
£lf
.
cÚfig
.
´ofe
)

188 
def
 
	$g‘_cwd
(
£lf
):

190 (
£lf
.
‹rmš©Ü
.
	$pid_cwd
(
£lf
.
pid
))

192 
def
 
	$şo£
(
£lf
):

194 
	`dbg
('Terminal::close:ƒmitting close-term')

195 
£lf
.
	`em™
('close-term')

196 
Œy
:

197 
os
.
	$kl
(
£lf
.
pid
, 
sigÇl
.
SIGHUP
)

198 
exû±
:

199 #W
»®ly
 
dÚ
't wanto care ifhis failed. Deep OS voodoo is

200 #nÙ 
wh©
 
we
 
should
 
be
 
došg
.

201 
·ss


203 
def
 
	$ü—‹_‹rmš®box
(
£lf
):

206 
‹rmš®box
 = 
gtk
.
	$HBox
()

207 
£lf
.
süŞlb¬
 = 
gtk
.
	`VSüŞlb¬
(£lf.
v‹
.
	$g‘_adju¡m’t
())

208 
£lf
.
süŞlb¬
.
	$£t_no_show_®l
(
True
)

209 
£lf
.
süŞlb¬_pos™iÚ
 = s–f.
cÚfig
['scrollbar_position']

211 
£lf
.
süŞlb¬_pos™iÚ
 
nÙ
 
	`š
 ('hidden', 'disabled'):

212 
£lf
.
süŞlb¬
.
	$show
()

214 
£lf
.
süŞlb¬_pos™iÚ
 == 'left':

215 
func
 = 
‹rmš®box
.
·ck_’d


217 
func
 = 
‹rmš®box
.
·ck_¡¬t


219 
	$func
(
£lf
.
v‹
)

220 
	$func
(
£lf
.
süŞlb¬
, 
F®£
)

221 
‹rmš®box
.
	$show_®l
()

223 (
‹rmš®box
)

225 
def
 
	$upd©e_u¾_m©ches
(
£lf
, 
posix
 = 
True
):

227 
u£rch¬s
 = "-A-Za-z0-9"

228 
·ssch¬s
 = "-A-Za-z0-9,?;.:/!%$^*&~\"#'"

229 
ho¡ch¬s
 = "-A-Za-z0-9"

230 
·thch¬s
 = "-A-Za-z0-9_$.+!*(),;:@&=?/~#%'\""

231 
schemes
 = "(news:|telnet:|nntp:|file:/|https?:|ftps?:|webcal:)"

232 
u£r
 = "[" + 
u£rch¬s
 + "]+(:[" + 
·ssch¬s
 + "]+)?"

233 
u¾·th
 = "/[" + 
·thch¬s
 + "]*[^]'.}>) \t\r\n,\\\"]"

235 
posix
:

236 
	`dbg
 ('Terminal::update_url_matches: Trying POSIX URL„egexps')

237 
lboundry
 = "[[:<:]]"

238 
rboundry
 = "[[:>:]]"

240 
	`dbg
 ('Terminal::update_url_matches: Trying GNU URL„egexps')

241 
lboundry
 = "\\<"

242 
rboundry
 = "\\>"

244 
£lf
.
m©ches
['fuÎ_uri'] = s–f.
v‹
.
	`m©ch_add
(
lboundry
 + 
schemes
 +

245 "//(" + 
u£r
 + "@)?[" + 
ho¡ch¬s
 +".]+(:[0-9]+)?(" +

246 
u¾·th
 + ")?" + 
rboundry
 + "/?")

248 
£lf
.
m©ches
['full_uri'] == -1:

249 
posix
:

250 
	`”r
 ('Terminal::update_url_matches: POSIX failed,rying GNU')

251 
£lf
.
	$upd©e_u¾_m©ches
(
posix
 = 
F®£
)

253 
	`”r
 ('Terminal::update_url_matches: Failed‡dding URL matches')

255 
£lf
.
m©ches
['vo'] = s–f.
v‹
.
	`m©ch_add
(
lboundry
 +

256 '(ÿÎto:|h323:|s:)' + "[" + 
u£rch¬s
 + "+][" +

257 
u£rch¬s
 + ".]*(:[0-9]+)?@?[" + 
·thch¬s
 + "]+" +

258 
rboundry
)

259 
£lf
.
m©ches
['addr_Úly'] = s–f.
v‹
.
	`m©ch_add
 (
lboundry
 +

260 "(www|áp)[" + 
ho¡ch¬s
 + "]*\.[" + hostchars +

261 ".]+(:[0-9]+)?(" + 
u¾·th
 + ")?" + 
rboundry
 + "/?")

262 
£lf
.
m©ches
['ema'] = s–f.
v‹
.
	`m©ch_add
 (
lboundry
 +

265 "[.a-zA-Z0-9-]*" + 
rboundry
)

266 
£lf
.
m©ches
['Â'] = s–f.
v‹
.
	`m©ch_add
 (
lboundry
 +

268 "[-A-Za-z0-9.]+(:[0-9]+)?" + 
rboundry
)

270 #Now 
add
 
ªy
 
m©ches
 
äom
 
¶ugšs


271 
Œy
:

272 
»gi¡ry
 = 
¶ugš
.
	$PlugšRegi¡ry
()

273 
»gi¡ry
.
	$lßd_¶ugšs
()

274 
¶ugšs
 = 
»gi¡ry
.
	`g‘_¶ugšs_by_ÿ·b™y
('url_handler')

276 
u¾¶ugš
 
š
 
¶ugšs
:

277 
Çme
 = 
u¾¶ugš
.
hªdËr_Çme


278 
m©ch
 = 
u¾¶ugš
.match

279 
Çme
 
š
 
£lf
.
m©ches
:

280 
	`dbg
('T”mš®::upd©e_m©ches:„efusšgØadd \
 m©ch %s' % 
Çme
)

283 
£lf
.
m©ches
[
Çme
] = s–f.
v‹
.
	$m©ch_add
(
m©ch
)

284 
	`dbg
('T”mš®::upd©e_m©ches:‡dded…lugš URL hªdË¸\
 % (%s)' % (
Çme
, 
u¾¶ugš
.
__şass__
.
__Çme__
))

286 
exû±
 
Exû±iÚ
, 
ex
:

287 
	`”r
('T”mš®::upd©e_u¾_m©ches: %s' % 
ex
)

289 
def
 
	$m©ch_add
(
£lf
, 
Çme
, 
m©ch
):

291 
Çme
 
š
 
£lf
.
m©ches
:

292 
	`”r
('T”mš®::m©ch_add: RefusšgØü—‹ du¶iÿ‹ m©ch %s' % 
Çme
)

294 
£lf
.
m©ches
[
Çme
] = s–f.
v‹
.
	$m©ch_add
(
m©ch
)

296 
def
 
	$m©ch_»move
(
£lf
, 
Çme
):

298 
Çme
 
nÙ
 
š
 
£lf
.
m©ches
:

299 
	`”r
('T”mš®::m©ch_»move: UÇbËØ»movnÚ-exi¡’ˆm©ch %s' % 
Çme
)

301 
£lf
.
v‹
.
	$m©ch_»move
(
£lf
.
m©ches
[
Çme
])

302 
	$d–
(
£lf
.
m©ches
[
Çme
])

304 
def
 
	$cÚÃù_sigÇls
(
£lf
):

307 
£lf
.
v‹
.
	`cÚÃù
('key-´ess-ev’t', s–f.
Ú_key´ess
)

308 
£lf
.
v‹
.
	`cÚÃù
('bu‰Ú-´ess-ev’t', s–f.
Ú_bu‰Ú´ess
)

309 
£lf
.
v‹
.
	`cÚÃù
('pİup-m’u', s–f.
pİup_m’u
)

311 
¤cv‹rg‘s
 = [("v‹", 
gtk
.
TARGET_SAME_APP
, 
£lf
.
TARGET_TYPE_VTE
)]

312 
d¡rg‘s
 = [("v‹", 
gtk
.
TARGET_SAME_APP
, 
£lf
.
TARGET_TYPE_VTE
),

315 
d¡rg‘s
 = 
gtk
.
	$rg‘_li¡_add_‹xt_rg‘s
(
d¡rg‘s
)

316 
d¡rg‘s
 = 
gtk
.
	$rg‘_li¡_add_uri_rg‘s
(
d¡rg‘s
)

317 
	`dbg
('Fš®i£d d¿g¬g‘s: %s' % 
d¡rg‘s
)

319 
widg‘
, 
mask
è
š
 [

320 (
£lf
.
v‹
, 
gtk
.
gdk
.
CONTROL_MASK
 | gtk.gdk.
BUTTON3_MASK
),

321 (
£lf
.
t™Ëb¬
, 
gtk
.
gdk
.
BUTTON1_MASK
)]:

322 
widg‘
.
	$d¿g_sourû_£t
(
mask
, 
¤cv‹rg‘s
, 
gtk
.
gdk
.
ACTION_MOVE
)

324 
£lf
.
v‹
.
	`d¿g_de¡_£t
(
gtk
.
DEST_DEFAULT_MOTION
 |

325 
gtk
.
DEST_DEFAULT_HIGHLIGHT
 | gtk.
DEST_DEFAULT_DROP
,

326 
d¡rg‘s
, 
gtk
.
gdk
.
ACTION_COPY
 | gtk.gdk.
ACTION_MOVE
)

328 
widg‘
 
š
 [
£lf
.
v‹
, s–f.
t™Ëb¬
]:

329 
widg‘
.
	`cÚÃù
('d¿g-begš', 
£lf
.
Ú_d¿g_begš
, self)

330 
widg‘
.
	`cÚÃù
('d¿g-d©a-g‘', 
£lf
.
Ú_d¿g_d©a_g‘
,

331 
£lf
)

333 
£lf
.
v‹
.
	`cÚÃù
('d¿g-mÙiÚ', s–f.
Ú_d¿g_mÙiÚ
, self)

334 
£lf
.
v‹
.
	`cÚÃù
('drag-data-received',

335 
£lf
.
Ú_d¿g_d©a_»ûived
, self)

337 #FIXME: 
Shouldn
'this be in configure()?

338 
£lf
.
cÚfig
['copy_on_selection']:

339 
£lf
.
úxids
.
	`Ãw
(£lf.
v‹
, 'selection-changed',

340 
Ïmbda
 
widg‘
: 
£lf
.
v‹
.
	$cİy_şbßrd
())

342 
£lf
.
compos™e_suµÜt
:

343 
£lf
.
v‹
.
	`cÚÃù
('compos™ed-chªged', s–f.
»cÚfigu»
)

345 
£lf
.
v‹
.
	`cÚÃù
('wšdow-t™Ë-chªged', 
Ïmbda
 
x
:

346 
£lf
.
	`em™
('t™Ë-chªge', s–f.
	$g‘_wšdow_t™Ë
()))

347 
£lf
.
v‹
.
	`cÚÃù
('g¿b-focus', s–f.
Ú_v‹_focus
)

348 
£lf
.
v‹
.
	`cÚÃù
('focus-š-ev’t', s–f.
Ú_v‹_focus_š
)

349 
£lf
.
v‹
.
	`cÚÃù
('size-®loÿ‹', s–f.
deã¼ed_Ú_v‹_size_®loÿ‹
)

351 
£lf
.
v‹
.
	$add_ev’ts
(
gtk
.
gdk
.
ENTER_NOTIFY_MASK
)

352 
£lf
.
v‹
.
	`cÚÃù
('enter_notify_event',

353 
£lf
.
Ú_v‹_nÙify_’‹r
)

355 
£lf
.
úxids
.
	`Ãw
(£lf.
v‹
, '»®ize', s–f.
»cÚfigu»
)

357 
def
 
	$ü—‹_pİup_group_m’u
(
£lf
, 
widg‘
, 
ev’t
 = 
NÚe
):

359 
ev’t
:

360 
bu‰Ú
 = 
ev’t
.button

361 
time
 = 
ev’t
.time

363 
bu‰Ú
 = 0

364 
time
 = 0

366 
m’u
 = 
£lf
.
	$pİuÏ‹_group_m’u
()

367 
m’u
.
	$show_®l
()

368 
m’u
.
	$pİup
(
NÚe
, NÚe, 
£lf
.
pos™iÚ_pİup_group_m’u
, 
bu‰Ú
, 
time
,

369 
widg‘
)

370 (
True
)

372 
def
 
	$pİuÏ‹_group_m’u
(
£lf
):

374 
m’u
 = 
gtk
.
	$M’u
()

375 
group™em
 = 
NÚe


377 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('New group...'))

378 
™em
.
	`cÚÃù
('aùiv©e', 
£lf
.
ü—‹_group
)

379 
m’u
.
	$­³nd
(
™em
)

381 
	`Ën
(
£lf
.
‹rmš©Ü
.
groups
) > 0:

382 
group™em
 = 
gtk
.
	`RadioM’uI‹m
(group™em, 
	`_
('None'))

383 
group™em
.
	$£t_aùive
(
£lf
.
group
 =ğ
NÚe
)

384 
group™em
.
	`cÚÃù
('aùiv©e', 
£lf
.
£t_group
, 
NÚe
)

385 
m’u
.
	$­³nd
(
group™em
)

387 
group
 
š
 
£lf
.
‹rmš©Ü
.
groups
:

388 
™em
 = 
gtk
.
	$RadioM’uI‹m
(
group™em
, 
group
, 
F®£
)

389 
™em
.
	$£t_aùive
(
£lf
.
group
 == group)

390 
™em
.
	`cÚÃù
('toggËd', 
£lf
.
£t_group
, 
group
)

391 
m’u
.
	$­³nd
(
™em
)

392 
group™em
 = 
™em


394 
£lf
.
group
 !ğ
NÚe
 
Ü
 
	`Ën
(£lf.
‹rmš©Ü
.
groups
) > 0:

395 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

397 
£lf
.
group
 !ğ
NÚe
:

398 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Removgrou°%s'è% 
£lf
.
group
)

399 
™em
.
	`cÚÃù
('aùiv©e', 
£lf
.
ungroup
, s–f.
group
)

400 
m’u
.
	$­³nd
(
™em
)

402 
ut
.
	$has_ªû¡Ü
(
£lf
, 
gtk
.
NÙebook
):

403 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('G_roup‡ll inab'))

404 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
£lf
.
	`em™
('group_tab'))

405 
m’u
.
	$­³nd
(
™em
)

407 
	`Ën
(
£lf
.
‹rmš©Ü
.
groups
) > 0:

408 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Ungr_oup‡ll inab'))

409 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
£lf
.
	`em™
('ungroup_tab'))

410 
m’u
.
	$­³nd
(
™em
)

412 
	`Ën
(
£lf
.
‹rmš©Ü
.
groups
) > 0:

413 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Remove‡ll groups'))

414 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
£lf
.
	`em™
('ungroup-all'))

415 
m’u
.
	$­³nd
(
™em
)

417 
£lf
.
group
 !ğ
NÚe
:

418 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

420 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Clo£ grou°%s'è% 
£lf
.
group
)

421 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
:

422 
£lf
.
‹rmš©Ü
.
	$şo£grou³d‹rms
(
£lf
.
group
))

423 
m’u
.
	$­³nd
(
™em
)

425 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

427 
group™em
 = 
NÚe


429 
key
, 
v®ue
 
š
 {
	`_
('Broadcast‡ll'):'all',

430 
	`_
('Broadcast group'):'group',

431 
	`_
('Brßdÿ¡ off'):'off'
	}
}.
	$™ems
():

432 
group™em
 = 
gtk
.
	$RadioM’uI‹m
(
group™em
, 
key
)

433 
	`dbg
('Terminal::populate_group_menu: %s‡ctive: %s' %

434 (
key
, 
£lf
.
‹rmš©Ü
.
group£nd
 ==

435 
£lf
.
‹rmš©Ü
.
group£nd_ty³
[
v®ue
]))

436 
group™em
.
	$£t_aùive
(
£lf
.
‹rmš©Ü
.
group£nd
 ==

437 
£lf
.
‹rmš©Ü
.
group£nd_ty³
[
v®ue
])

438 
group™em
.
	`cÚÃù
('aùiv©e', 
£lf
.
£t_group£nd
,

439 
£lf
.
‹rmš©Ü
.
group£nd_ty³
[
v®ue
])

440 
m’u
.
	$­³nd
(
group™em
)

442 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

444 
™em
 = 
gtk
.
	`CheckM’uI‹m
(
	`_
('Splitohis group'))

445 
™em
.
	`£t_aùive
(
£lf
.
cÚfig
['split_to_group'])

446 
™em
.
	`cÚÃù
('toggËd', 
Ïmbda
 
x
: 
£lf
.
	$do_¥l™togroup_toggË
())

447 
m’u
.
	$­³nd
(
™em
)

449 
™em
 = 
gtk
.
	`CheckM’uI‹m
(
	`_
('Autoclean groups'))

450 
™em
.
	`£t_aùive
(
£lf
.
cÚfig
['autoclean_groups'])

451 
™em
.
	`cÚÃù
('toggËd', 
Ïmbda
 
x
: 
£lf
.
	$do_autoş—ngroups_toggË
())

452 
m’u
.
	$­³nd
(
™em
)

454 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

456 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Inserterminal‚umber'))

457 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
£lf
.
	`em™
('’um”©e', 
F®£
))

458 
m’u
.
	$­³nd
(
™em
)

460 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Insert…addederminal‚umber'))

461 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
£lf
.
	`em™
('’um”©e', 
True
))

462 
m’u
.
	$­³nd
(
™em
)

464 (
m’u
)

466 
def
 
	$pos™iÚ_pİup_group_m’u
(
£lf
, 
m’u
, 
widg‘
):

468 
_sü“n_w
 = 
gtk
.
gdk
.
	$sü“n_width
()

469 
sü“n_h
 = 
gtk
.
gdk
.
	$sü“n_height
()

471 
gtk
.
gtk_v”siÚ
 >= (2, 14):

472 
widg‘_wš
 = 
widg‘
.
	$g‘_wšdow
()

474 
widg‘_wš
 = 
widg‘
.
wšdow


475 
widg‘_x
, 
widg‘_y
 = 
widg‘_wš
.
	$g‘_Üigš
()

476 
_widg‘_w
, 
widg‘_h
 = 
widg‘_wš
.
	$g‘_size
()

478 
_m’u_w
, 
m’u_h
 = 
m’u
.
	$size_»que¡
()

480 
widg‘_y
 + 
widg‘_h
 + 
m’u_h
 > 
sü“n_h
:

481 
m’u_y
 = 
	`max
(
widg‘_y
 - 
m’u_h
, 0)

483 
m’u_y
 = 
widg‘_y
 + 
widg‘_h


485 (
widg‘_x
, 
m’u_y
, 1)

487 
def
 
	$£t_group
(
£lf
, 
_™em
, 
Çme
):

489 
£lf
.
group
 =ğ
Çme
:

490 #®»ady 
š
 
this
 
group
, 
no
 
aùiÚ
 
Ãeded


492 
	`dbg
('T”mš®::£t_group: S‘tšg grou°tØ%s' % 
Çme
)

493 
£lf
.
group
 = 
Çme


494 
£lf
.
t™Ëb¬
.
	$£t_group_Ïb–
(
Çme
)

495 
£lf
.
‹rmš©Ü
.
	$group_hoov”
()

497 
def
 
	$ü—‹_group
(
£lf
, 
_™em
):

499 
wšdows
 
¬e
 
»®ly
 
Ïme
)"""

500 
£lf
.
t™Ëb¬
.
	$ü—‹_group
()

502 
def
 
	$»®ly_ü—‹_group
(
£lf
, 
_widg‘
, 
grou²ame
):

504 
£lf
.
‹rmš©Ü
.
	$ü—‹_group
(
grou²ame
)

505 
£lf
.
	$£t_group
(
NÚe
, 
grou²ame
)

507 
def
 
	$ungroup
(
£lf
, 
_widg‘
, 
d©a
):

509 #FIXME: 
Could
 
we
 
em™
 
ªd
 
have
 
T”mš©Ü
 dØ
this
?

510 
‹rm
 
š
 
£lf
.
‹rmš©Ü
.
‹rmš®s
:

511 
‹rm
.
group
 =ğ
d©a
:

512 
‹rm
.
	$£t_group
(
NÚe
, None)

513 
£lf
.
‹rmš©Ü
.
	$group_hoov”
()

515 
def
 
	$£t_group£nd
(
£lf
, 
_widg‘
, 
v®ue
):

517 #FIXME: 
Cª
 
we
 
thšk
 
of
 
a
 
sm¬‹r
 
way
 oà
došg
 
this
 
thª
 
pokšg
?

518 
v®ue
 
š
 
£lf
.
‹rmš©Ü
.
group£nd_ty³
.
	$v®ues
():

519 
	`dbg
('T”mš®::£t_group£nd: s‘tšg group£ndØ%s' % 
v®ue
)

520 
£lf
.
‹rmš©Ü
.
group£nd
 = 
v®ue


522 
def
 
	$do_¥l™togroup_toggË
(
£lf
):

524 
£lf
.
cÚfig
['¥l™_to_group'] = 
nÙ
 self.config['split_to_group']

526 
def
 
	$do_autoş—ngroups_toggË
(
£lf
):

528 
£lf
.
cÚfig
['autoş—n_groups'] = 
nÙ
 self.config['autoclean_groups']

530 
def
 
	$»cÚfigu»
(
£lf
, 
_widg‘
=
NÚe
):

532 
	`dbg
('Terminal::reconfigure')

533 
£lf
.
úxids
.
	`»move_sigÇl
(£lf.
v‹
, 'realize')

535 #HªdË 
chd
 
commªd
 
ex™šg


536 
£lf
.
úxids
.
	`»move_sigÇl
(£lf.
v‹
, 'child-exited')

538 
£lf
.
cÚfig
['exit_action'] == 'restart':

539 
£lf
.
úxids
.
	`Ãw
(£lf.
v‹
, 'chd-ex™ed', s–f.
¥awn_chd
, 
True
)

540 
–if
 
£lf
.
cÚfig
['ex™_aùiÚ'] 
	`š
 ('close', 'left'):

541 
£lf
.
úxids
.
	`Ãw
(£lf.
v‹
, 'child-exited',

542 
Ïmbda
 
x
: 
£lf
.
	`em™
('close-term'))

544 
£lf
.
v‹
.
	`£t_emuÏtiÚ
(£lf.
cÚfig
['emulation'])

545 
£lf
.
cu¡om_’codšg
 !ğ
True
:

546 
£lf
.
v‹
.
	`£t_’codšg
(£lf.
cÚfig
['encoding'])

547 
£lf
.
v‹
.
	`£t_wÜd_ch¬s
(£lf.
cÚfig
['word_chars'])

548 
£lf
.
v‹
.
	`£t_mou£_autohide
(£lf.
cÚfig
['mouse_autohide'])

550 
back¥aû
 = 
£lf
.
cÚfig
['backspace_binding']

551 
d–‘e
 = 
£lf
.
cÚfig
['delete_binding']

553 
Œy
:

554 
back¥aû
 == 'ascii-del':

555 
backbšd
 = 
v‹
.
ERASE_ASCII_DELETE


556 
–if
 
back¥aû
 == 'control-h':

557 
backbšd
 = 
v‹
.
ERASE_ASCII_BACKSPACE


558 
–if
 
back¥aû
 == 'escape-sequence':

559 
backbšd
 = 
v‹
.
ERASE_DELETE_SEQUENCE


561 
backbšd
 = 
v‹
.
ERASE_AUTO


562 
exû±
 
A‰ribu‹E¼Ü
:

563 
back¥aû
 == 'ascii-del':

564 
backbšd
 = 2

565 
–if
 
back¥aû
 == 'control-h':

566 
backbšd
 = 1

567 
–if
 
back¥aû
 == 'escape-sequence':

568 
backbšd
 = 3

570 
backbšd
 = 0

572 
Œy
:

573 
d–‘e
 == 'ascii-del':

574 
d–bšd
 = 
v‹
.
ERASE_ASCII_DELETE


575 
–if
 
d–‘e
 == 'control-h':

576 
d–bšd
 = 
v‹
.
ERASE_ASCII_BACKSPACE


577 
–if
 
d–‘e
 == 'escape-sequence':

578 
d–bšd
 = 
v‹
.
ERASE_DELETE_SEQUENCE


580 
d–bšd
 = 
v‹
.
ERASE_AUTO


581 
exû±
 
A‰ribu‹E¼Ü
:

582 
d–‘e
 == 'ascii-del':

583 
d–bšd
 = 2

584 
–if
 
d–‘e
 == 'control-h':

585 
d–bšd
 = 1

586 
–if
 
d–‘e
 == 'escape-sequence':

587 
d–bšd
 = 3

589 
d–bšd
 = 0

591 
£lf
.
v‹
.
	$£t_back¥aû_bšdšg
(
backbšd
)

592 
£lf
.
v‹
.
	$£t_d–‘e_bšdšg
(
d–bšd
)

594 
nÙ
 
£lf
.
cu¡om_fÚt_size
:

595 
Œy
:

596 
£lf
.
cÚfig
['u£_sy¡em_fÚt'] =ğ
True
:

597 
fÚt
 = 
£lf
.
cÚfig
.
	$g‘_sy¡em_fÚt
()

599 
fÚt
 = 
£lf
.
cÚfig
['font']

600 
£lf
.
	`£t_fÚt
(
·ngo
.
	$FÚtDesütiÚ
(
fÚt
))

601 
exû±
:

602 
·ss


603 
£lf
.
v‹
.
	`£t_®low_bŞd
(£lf.
cÚfig
['allow_bold'])

604 
£lf
.
cÚfig
['use_theme_colors']:

605 
fgcŞÜ
 = 
£lf
.
v‹
.
	`g‘_¡yË
().
‹xt
[
gtk
.
STATE_NORMAL
]

606 
bgcŞÜ
 = 
£lf
.
v‹
.
	`g‘_¡yË
().
ba£
[
gtk
.
STATE_NORMAL
]

608 
fgcŞÜ
 = 
gtk
.
gdk
.
	`cŞÜ_·r£
(
£lf
.
cÚfig
['foreground_color'])

609 
bgcŞÜ
 = 
gtk
.
gdk
.
	`cŞÜ_·r£
(
£lf
.
cÚfig
['background_color'])

611 
cŞÜs
 = 
£lf
.
cÚfig
['·Ë‰e'].
	`¥l™
(':')

612 
·Ë‰e
 = []

613 
cŞÜ
 
š
 
cŞÜs
:

614 
cŞÜ
:

615 
·Ë‰e
.
	`­³nd
(
gtk
.
gdk
.
	$cŞÜ_·r£
(
cŞÜ
))

616 
£lf
.
v‹
.
	$£t_cŞÜs
(
fgcŞÜ
, 
bgcŞÜ
, 
·Ë‰e
)

617 
£lf
.
cÚfig
['cursor_color'] == self.config['foreground_color']:

618 
Œy
:

619 
£lf
.
v‹
.
	$£t_cŞÜ_cursÜ
(
NÚe
)

620 
exû±
 
Ty³E¼Ü
:

621 #FIXME: 
I
 
thšk
 
this
 
is
 
Úly
 
Ãûs§ry
 
beÿu£
 
of


623 
·ss


624 
–if
 
£lf
.
cÚfig
['cursor_color'] != '':

625 
£lf
.
v‹
.
	`£t_cŞÜ_cursÜ
(
gtk
.
gdk
.
	`cŞÜ_·r£
(

626 
£lf
.
cÚfig
['cursor_color']))

627 
	`ha§‰r
(
£lf
.
v‹
, 'set_cursor_shape'):

628 
£lf
.
v‹
.
	`£t_cursÜ_sh­e
(
	`g‘©Œ
(vte, 'CURSOR_SHAPE_' +

629 
£lf
.
cÚfig
['cursÜ_sh­e'].
	$uµ”
()))

631 
background_ty³
 = 
£lf
.
cÚfig
['background_type']

632 
	`dbg
('background_ty³=%s' % 
background_ty³
)

633 
background_ty³
 =ğ'image' 
ªd
 \

634 
£lf
.
cÚfig
['background_image'] 
is
 
nÙ
 
NÚe
 
ªd
 \

635 
£lf
.
cÚfig
['background_image'] != '':

636 
£lf
.
v‹
.
	`£t_background_image_fe
(£lf.
cÚfig
['background_image'])

637 
£lf
.
v‹
.
	`£t_süŞl_background
(£lf.
cÚfig
['scroll_background'])

639 
Œy
:

640 
£lf
.
v‹
.
	$£t_background_image
(
NÚe
)

641 
exû±
 
Ty³E¼Ü
:

642 #FIXME: 
I
 
thšk
 
this
 
is
 
Úly
 
Ãûs§ry
 
beÿu£
 
of


644 
·ss


645 
£lf
.
v‹
.
	$£t_süŞl_background
(
F®£
)

647 
background_ty³
 
	`š
 ('image', 'transparent'):

648 
£lf
.
v‹
.
	`£t_background_tšt_cŞÜ
(
gtk
.
gdk
.
	`cŞÜ_·r£
(

649 
£lf
.
cÚfig
['background_color']))

650 
İac™y
 = (
£lf
.
cÚfig
['background_darkness'] * 65536)

651 
§tu¿tiÚ
 = 1.0 - (
£lf
.
cÚfig
['background_darkness'])

652 
	`dbg
('£‰šg background s©u¿tiÚ: %f' % 
§tu¿tiÚ
)

653 
£lf
.
v‹
.
	$£t_background_§tu¿tiÚ
(
§tu¿tiÚ
)

655 
	`dbg
('setting background_saturation: 1')

656 
İac™y
 = 65535

657 
£lf
.
v‹
.
	$£t_background_§tu¿tiÚ
(1)

659 
£lf
.
compos™e_suµÜt
:

660 
	`dbg
('£‰šg o·c™y: %d' % 
İac™y
)

661 
£lf
.
v‹
.
	$£t_İac™y
(
İac™y
)

663 #Thi 
is
 
qu™e
 
haœy
, 
but
 
the
 
basic
 
ex¶ª©iÚ
 i 
th©
 
we
 
should


664 #£t_background_Œª¥¬’t(
True
è
wh’
 
we
 
have
 
no
 
compos™šg
 
ªd
 
wªt


665 #çk
background
 
Œª¥¬’cy
, 
Ùh”wi£
 
™
 
should
 
be
 
F®£
.

666 
nÙ
 
£lf
.
compos™e_suµÜt
:

667 #W
have
 
no
 
compos™šg
 
suµÜt
, 
çke
 
background
 
Úly


668 
background_Œª¥¬’t
 = 
True


670 
£lf
.
v‹
.
	`is_compos™ed
(è=ğ
F®£
:

671 #W
have
 
compos™šg
 
ªd
 
™
'sƒnabled.‚o fake background.

672 
background_Œª¥¬’t
 = 
True


674 #W
have
 
compos™šg
, 
but
 
™
's‚otƒnabled. fake background

675 
background_Œª¥¬’t
 = 
F®£


677 
£lf
.
cÚfig
['background_type'] == 'transparent':

678 
	`dbg
('£‰šg background_Œª¥¬’t=%s' % 
background_Œª¥¬’t
)

679 
£lf
.
v‹
.
	$£t_background_Œª¥¬’t
(
background_Œª¥¬’t
)

681 
	`dbg
('setting background_transparent=False')

682 
£lf
.
v‹
.
	$£t_background_Œª¥¬’t
(
F®£
)

684 
	`ha§‰r
(
v‹
, 'VVVVTE_CURSOR_BLINK_ON'):

685 
£lf
.
cÚfig
['cursÜ_blšk'] =ğ
True
:

686 
£lf
.
v‹
.
	`£t_cursÜ_blšk_mode
('VTE_CURSOR_BLINK_ON')

688 
£lf
.
v‹
.
	`£t_cursÜ_blšk_mode
('VTE_CURSOR_BLINK_OFF')

690 
£lf
.
v‹
.
	`£t_cursÜ_blšks
(£lf.
cÚfig
['cursor_blink'])

692 
£lf
.
cÚfig
['fÜû_no_b–l'] =ğ
True
:

693 
£lf
.
v‹
.
	$£t_audibË_b–l
(
F®£
)

694 
£lf
.
v‹
.
	$£t_visibË_b–l
(
F®£
)

695 
£lf
.
úxids
.
	`»move_sigÇl
(£lf.
v‹
, 'beep')

697 
£lf
.
v‹
.
	`£t_audibË_b–l
(£lf.
cÚfig
['audible_bell'])

698 
£lf
.
v‹
.
	`£t_visibË_b–l
(£lf.
cÚfig
['visible_bell'])

699 
£lf
.
úxids
.
	`»move_sigÇl
(£lf.
v‹
, 'beep')

700 
£lf
.
cÚfig
['urg’t_b–l'] =ğ
True
 
Ü
 \

701 
£lf
.
cÚfig
['icÚ_b–l'] =ğ
True
:

702 
Œy
:

703 
£lf
.
úxids
.
	`Ãw
(£lf.
v‹
, 'b“p', s–f.
Ú_b“p
)

704 
exû±
 
Ty³E¼Ü
:

705 
	`”r
('beep signal unavailable withhis version of VTE')

707 
£lf
.
cÚfig
['süŞlback_šfš™e'] =ğ
True
:

708 
süŞlback_lšes
 = -1

710 
süŞlback_lšes
 = 
£lf
.
cÚfig
['scrollback_lines']

711 
£lf
.
v‹
.
	$£t_süŞlback_lšes
(
süŞlback_lšes
)

712 
£lf
.
v‹
.
	`£t_süŞl_Ú_key¡roke
(£lf.
cÚfig
['scroll_on_keystroke'])

713 
£lf
.
v‹
.
	`£t_süŞl_Ú_ouut
(£lf.
cÚfig
['scroll_on_output'])

715 
£lf
.
süŞlb¬_pos™iÚ
 !ğ£lf.
cÚfig
['scrollbar_position']:

716 
£lf
.
süŞlb¬_pos™iÚ
 = s–f.
cÚfig
['scrollbar_position']

717 
£lf
.
cÚfig
['süŞlb¬_pos™iÚ'] 
š
 ['disabled', 'hidden']:

718 
£lf
.
süŞlb¬
.
	$hide
()

720 
£lf
.
süŞlb¬
.
	$show
()

721 
£lf
.
cÚfig
['scrollbar_position'] == 'left':

722 
£lf
.
	$»Üd”_chd
(
£lf
.
süŞlb¬
, 0)

723 
–if
 
£lf
.
cÚfig
['scrollbar_position'] == 'right':

724 
£lf
.
	$»Üd”_chd
(
£lf
.
v‹
, 0)

726 
	`ha§‰r
(
£lf
.
v‹
, 'set_alternate_screen_scroll'):

727 
£lf
.
v‹
.
	`£t_®‹º©e_sü“n_süŞl
(

728 
£lf
.
cÚfig
['alternate_screen_scroll'])

730 
£lf
.
t™Ëb¬
.
	$upd©e
()

731 
£lf
.
v‹
.
	$queue_d¿w
()

733 
def
 
	$g‘_wšdow_t™Ë
(
£lf
):

735 (
£lf
.
v‹
.
	$g‘_wšdow_t™Ë
(è
Ü
 
	$¡r
(
£lf
.
commªd
))

737 
def
 
	$Ú_group_bu‰Ú_´ess
(
£lf
, 
widg‘
, 
ev’t
):

739 
ev’t
.
bu‰Ú
 == 1:

740 
£lf
.
	$ü—‹_pİup_group_m’u
(
widg‘
, 
ev’t
)

741 (
F®£
)

743 
def
 
	$Ú_key´ess
(
£lf
, 
widg‘
, 
ev’t
):

745 
nÙ
 
ev’t
:

746 
	`dbg
('T”mš®::Ú_key´ess: C®Ëd oÀ% w™h‚Øev’t' % 
widg‘
)

747 (
F®£
)

749 #FIXME: 
DÛs
 
keybšdšgs
 
»®ly
 
wªt
 
to
 
live
 
š
 
	`T”mš©Ü
()?

750 
m­pšg
 = 
£lf
.
‹rmš©Ü
.
keybšdšgs
.
	$lookup
(
ev’t
)

752 
m­pšg
 == "hide_window":

753 (
F®£
)

755 
m­pšg
 
ªd
 m­pšg 
nÙ
 
š
 ['close_window',

758 
	`dbg
('T”mš®::Ú_key´ess:†ooku°found: %r' % 
m­pšg
)

759 #hªdË 
the
 
wh”e
 
u£r
 
has
 
»
-
bound
 
cİy
 
to
 
ù¾
+<
key
>

760 #w
Úly
 
cİy
 
th”e
 
is
 
a
 
£ËùiÚ
 
Ùh”wi£
 
Ët
 
™
 
çÎ
 
through


761 #tØ^<
key
>

762 ià(
m­pšg
 =ğ"cİy" 
ªd
 
ev’t
.
¡©e
 & 
gtk
.
gdk
.
CONTROL_MASK
):

763 
£lf
.
v‹
.
	$g‘_has_£ËùiÚ
 ():

764 
	`g‘©Œ
(
£lf
, "key_" + 
m­pšg
)()

765 (
True
)

767 
	`g‘©Œ
(
£lf
, "key_" + 
m­pšg
)()

768 (
True
)

770 #FIXME: 
This
 
is
 
®l
 
ş—¾y
 
wrÚg
. 
We
 
should
 
be
 
došg
 
this
 
b‘‹r


771 #mayb
we
 
ÿn
 
em™
 
the
 
key
 
ev’t
 
ªd
 
Ët
 
	`T”mš©Ü
(è
ÿ»
?

772 
group£nd
 = 
£lf
.
‹rmš©Ü
.groupsend

773 
group£nd_ty³
 = 
£lf
.
‹rmš©Ü
.groupsend_type

774 
wšdow_focus£d
 = 
£lf
.
v‹
.
	`g‘_tİËv–
().
	`g‘_´İ”ty
('has-toplevel-focus')

775 
group£nd
 !ğ
group£nd_ty³
['off'] 
ªd
 
wšdow_focus£d
‡nd 
£lf
.
v‹
.
	$is_focus
():

776 
£lf
.
group
 
ªd
 
group£nd
 =ğ
group£nd_ty³
['group']:

777 
£lf
.
‹rmš©Ü
.
	`group_em™
(£lf, s–f.
group
, 'key-press-event',

778 
ev’t
)

779 
group£nd
 =ğ
group£nd_ty³
['all']:

780 
£lf
.
‹rmš©Ü
.
	`®l_em™
(£lf, 'key-´ess-ev’t', 
ev’t
)

782 (
F®£
)

784 
def
 
	$Ú_bu‰Ú´ess
(
£lf
, 
widg‘
, 
ev’t
):

786 #Any 
bu‰Ú
 
ev’t
 
should
 
g¿b
 
focus


787 
widg‘
.
	$g¿b_focus
()

789 
ev’t
.
bu‰Ú
 == 1:

790 #CŒl+
Ëáşick
 
Ú
 
a
 
URL
 
should
 
İ’
 
™


791 
ev’t
.
¡©e
 & 
gtk
.
gdk
.
CONTROL_MASK
 == gtk.gdk.CONTROL_MASK:

792 
u¾
 = 
£lf
.
	$check_fÜ_u¾
(
ev’t
)

793 
u¾
:

794 
£lf
.
	$İ’_u¾
(
u¾
, 
´•¬e
=
True
)

795 
–if
 
ev’t
.
bu‰Ú
 == 2:

796 #middËşick 
should
 
·¡e
 
the
 
şbßrd


797 
£lf
.
	$·¡e_şbßrd
(
True
)

798 (
True
)

799 
–if
 
ev’t
.
bu‰Ú
 == 3:

800 #rightşick 
should
 
di¥Ïy
 
a
 
cÚ‹xt
 
m’u
 
CŒl
 
is
 
nÙ
 
´es£d


801 
ev’t
.
¡©e
 & 
gtk
.
gdk
.
CONTROL_MASK
 == 0:

802 
£lf
.
	$pİup_m’u
(
widg‘
, 
ev’t
)

803 (
True
)

805 (
F®£
)

807 
def
 
	$pİup_m’u
(
£lf
, 
widg‘
, 
ev’t
=
NÚe
):

809 
m’u
 = 
	$T”mš®PİupM’u
(
£lf
)

810 
m’u
.
	$show
(
widg‘
, 
ev’t
)

812 
def
 
	$do_süŞlb¬_toggË
(
£lf
):

814 
£lf
.
	$toggË_widg‘_visib™y
(
£lf
.
süŞlb¬
)

816 
def
 
	$toggË_widg‘_visib™y
(
£lf
, 
widg‘
):

818 
widg‘
.
	`g‘_´İ”ty
('visible'):

819 
widg‘
.
	$hide
()

821 
widg‘
.
	$show
()

823 
def
 
	$Ú_’codšg_chªge
(
£lf
, 
_widg‘
, 
’codšg
):

825 
cu¼’t
 = 
£lf
.
v‹
.
	$g‘_’codšg
()

826 
cu¼’t
 !ğ
’codšg
:

827 
	`dbg
('Ú_’codšg_chªge: s‘tšgƒncodšgo: %s' % 
’codšg
)

828 
£lf
.
cu¡om_’codšg
 = 
	`nÙ
 (
’codšg
 =ğ£lf.
cÚfig
['encoding'])

829 
£lf
.
v‹
.
	$£t_’codšg
(
’codšg
)

831 
def
 
	$Ú_d¿g_begš
(
£lf
, 
widg‘
, 
d¿g_cÚ‹xt
, 
_d©a
):

833 
widg‘
.
	`d¿g_sourû_£t_icÚ_pixbuf
(
ut
.
	$widg‘_pixbuf
(
£lf
, 512))

835 
def
 
	$Ú_d¿g_d©a_g‘
(
£lf
, 
_widg‘
, 
_d¿g_cÚ‹xt
, 
£ËùiÚ_d©a
, 
šfo
,

836 
_time
, 
d©a
):

838 
£ËùiÚ_d©a
.
	`£t
('v‹', 
šfo
,

839 
	`¡r
(
d©a
.
‹rmš©Ü
.
‹rmš®s
.
	$šdex
(
£lf
)))

841 
def
 
	$Ú_d¿g_mÙiÚ
(
£lf
, 
widg‘
, 
d¿g_cÚ‹xt
, 
x
, 
y
, 
_time
, 
_d©a
):

843 
gtk
.
	$rg‘s_šşude_‹xt
(
d¿g_cÚ‹xt
.
rg‘s
è
Ü
 \

844 
gtk
.
	$rg‘s_šşude_uri
(
d¿g_cÚ‹xt
.
rg‘s
):

845 #cİy 
‹xt
 
äom
 
ªÙh”
 
widg‘


847 
¤cwidg‘
 = 
d¿g_cÚ‹xt
.
	$g‘_sourû_widg‘
()

848 if(
	$isš¡ªû
(
¤cwidg‘
, 
gtk
.
Ev’tBox
è
ªd


849 
¤cwidg‘
 =ğ
£lf
.
t™Ëb¬
è
Ü
 
widg‘
 == srcwidget:

850 #Ú 
£lf


853 
®loc
 = 
widg‘
.
®loÿtiÚ


854 
»ù
 = 
gtk
.
gdk
.
	$ReùªgË
(0, 0, 
®loc
.
width
,‡Îoc.
height
)

856 
£lf
.
cÚfig
['use_theme_colors']:

857 
cŞÜ
 = 
£lf
.
v‹
.
	`g‘_¡yË
().
‹xt
[
gtk
.
STATE_NORMAL
]

859 
cŞÜ
 = 
gtk
.
gdk
.
	`cŞÜ_·r£
(
£lf
.
cÚfig
['foreground_color'])

861 
pos
 = 
£lf
.
	$g‘_loÿtiÚ
(
widg‘
, 
x
, 
y
)

862 
tİËá
 = (0, 0)

863 
tİright
 = (
®loc
.
width
, 0)

864 
tİmiddË
 = (
®loc
.
width
/2, 0)

865 
bÙtomËá
 = (0, 
®loc
.
height
)

866 
bÙtomright
 = (
®loc
.
width
,‡Îoc.
height
)

867 
bÙtommiddË
 = (
®loc
.
width
/2,‡Îoc.
height
)

868 
middËËá
 = (0, 
®loc
.
height
/2)

869 
middËright
 = (
®loc
.
width
,‡Îoc.
height
/2)

870 #´šˆ"%à%à%d %d" %(
cÛf1
, 
cÛf2
, 
b1
,
b2
)

871 
coÜd
 = ()

872 
pos
 == "right":

873 
coÜd
 = (
tİright
, 
tİmiddË
, 
bÙtommiddË
, 
bÙtomright
)

874 
–if
 
pos
 == "top":

875 
coÜd
 = (
tİËá
, 
tİright
, 
middËright
 , 
middËËá
)

876 
–if
 
pos
 == "left":

877 
coÜd
 = (
tİËá
, 
tİmiddË
, 
bÙtommiddË
, 
bÙtomËá
)

878 
–if
 
pos
 == "bottom":

879 
coÜd
 = (
bÙtomËá
, 
bÙtomright
, 
middËright
 , 
middËËá
)

881 #h”e, 
we
 
defše
 
some
 
widg‘
 
š‹º®
 
v®ues


882 
widg‘
.
_expo£_d©a
 = { 'cŞÜ': 
cŞÜ
, 'coÜd' : 
coÜd
 
	}
}

883 #»d¿w 
by
 
fÜcšg
 
ª
 
ev’t


884 
cÚÃc
 = 
widg‘
.
cÚÃù_aá”
('expo£-ev’t', 
£lf
.
Ú_expo£_ev’t
)

885 
	gwidg‘
.
	gwšdow
.
	$šv®id©e_»ù
(
»ù
, 
True
)

886 
widg‘
.
wšdow
.
	$´oûss_upd©es
(
True
)

887 #fš®y 
»£t
 
the
 
v®ues


888 
widg‘
.
	$discÚÃù
(
cÚÃc
)

889 
widg‘
.
_expo£_d©a
 = 
NÚe


891 
def
 
	$Ú_expo£_ev’t
(
£lf
, 
widg‘
, 
_ev’t
):

893 
nÙ
 
widg‘
.
_expo£_d©a
:

894 (
F®£
)

896 
cŞÜ
 = 
widg‘
.
_expo£_d©a
['color']

897 
coÜd
 = 
widg‘
.
_expo£_d©a
['coord']

899 
cÚ‹xt
 = 
widg‘
.
wšdow
.
	$ÿœo_ü—‹
()

900 
cÚ‹xt
.
	$£t_sourû_rgba
(
cŞÜ
.
»d
, cŞÜ.
g»’
, cŞÜ.
blue
, 0.5)

901 
	`Ën
(
coÜd
) > 0 :

902 
cÚ‹xt
.
	`move_to
(
coÜd
[
	`Ën
(coord)-1][0], coord[len(coord)-1][1])

903 
i
 
š
 
coÜd
:

904 
cÚ‹xt
.
	$lše_to
(
i
[0], i[1])

906 
cÚ‹xt
.
	$fl
()

907 (
F®£
)

909 
def
 
	$Ú_d¿g_d©a_»ûived
(
£lf
, 
widg‘
, 
d¿g_cÚ‹xt
, 
x
, 
y
, 
£ËùiÚ_d©a
,

910 
_šfo
, 
_time
, 
d©a
):

912 
URL
 
Ü
 
ªÙh”
 
‹rmš®
."""

913 
	`dbg
('d¿g d©¨»ûived oàty³: %s' % 
£ËùiÚ_d©a
.
ty³
)

914 
gtk
.
	$rg‘s_šşude_‹xt
(
d¿g_cÚ‹xt
.
rg‘s
è
Ü
 \

915 
gtk
.
	$rg‘s_šşude_uri
(
d¿g_cÚ‹xt
.
rg‘s
):

916 #cİy 
‹xt
 
to
 
de¡š©iÚ


917 
txt
 = 
£ËùiÚ_d©a
.
d©a
.
	$¡r
()

918 
txt
[0:7] == 'file://':

919 
txt
 = "'%s'" % 
u¾lib
.
	`unquÙe
(txt[7:])

920 
‹rm
 
š
 
£lf
.
‹rmš©Ü
.
	$g‘_rg‘_‹rms
(
£lf
):

921 
‹rm
.
	$ãed
(
txt
)

924 
widg‘¤c
 = 
d©a
.
‹rmš©Ü
.
‹rmš®s
[(
£ËùiÚ_d©a
.data)]

925 
¤cv‹
 = 
d¿g_cÚ‹xt
.
	$g‘_sourû_widg‘
()

926 #check 
computiÚ
 
»quœeds


927 ià(
	$isš¡ªû
(
¤cv‹
, 
gtk
.
Ev’tBox
è
ªd


928 
¤cv‹
 =ğ
£lf
.
t™Ëb¬
è
Ü
 srcv‹ =ğ
widg‘
:

931 
¤chbox
 = 
widg‘¤c


933 #Th
widg‘
 
¬gum’t
 
is
 
aùu®ly
 
a
 
v‹
.
	`T”mš®
(). 
Tuº
 
th©
 
što
‡

934 #‹rmš©Ülib 
	`T”mš®
()

935 
mak”
 = 
	$FaùÜy
()

936 
True
:

937 
widg‘
 = widg‘.
	$g‘_·»Á
()

938 
nÙ
 
widg‘
:

940 
	`”r
('Failedo find Terminal from vte')

942 
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

945 
d¡hbox
 = 
widg‘


947 
d¡·Ãd
 = 
d¡hbox
.
	$g‘_·»Á
()

948 
¤ıªed
 = 
¤chbox
.
	$g‘_·»Á
()

950 
pos
 = 
£lf
.
	$g‘_loÿtiÚ
(
widg‘
, 
x
, 
y
)

952 
¤ıªed
.
	$»move
(
widg‘¤c
)

953 
d¡·Ãd
.
	`¥l™_axis
(
d¡hbox
, 
pos
 
š
 ['tİ', 'bÙtom'], 
NÚe
, 
widg‘¤c
,…os in ['bottom', 'right'])

954 
¤ıªed
.
	$hoov”
()

955 
widg‘¤c
.
	$’su»_visibË_ªd_focus£d
()

957 
def
 
	$g‘_loÿtiÚ
(
£lf
, 
‹rm
, 
x
, 
y
):

959 
pos
 = ''

960 #g‘ 
the
 
dŸgÚ®es
 
funùiÚ
 th
»ûivšg
 
widg‘


961 
cÛf1
 = (
‹rm
.
®loÿtiÚ
.
height
)/Ñ”m.®loÿtiÚ.
width
)

962 
cÛf2
 = -(
‹rm
.
®loÿtiÚ
.
height
)/Ñ”m.®loÿtiÚ.
width
)

963 
b1
 = 0

964 
b2
 = 
‹rm
.
®loÿtiÚ
.
height


965 #d‘”mš
pos™iÚ
 
š
 
»ùªgË


974 ià(
x
*
cÛf1
 + 
b1
 > 
y
 ) 
	`ªd
 (x*
cÛf2
 + 
b2
 < y ):

975 
pos
 = "right"

976 ià(
x
*
cÛf1
 + 
b1
 > 
y
 ) 
	`ªd
 (x*
cÛf2
 + 
b2
 > y ):

977 
pos
 = "top"

978 ià(
x
*
cÛf1
 + 
b1
 < 
y
 ) 
	`ªd
 (x*
cÛf2
 + 
b2
 > y ):

979 
pos
 = "left"

980 ià(
x
*
cÛf1
 + 
b1
 < 
y
 ) 
	`ªd
 (x*
cÛf2
 + 
b2
 < y ):

981 
pos
 = "bottom"

982  
pos


984 
def
 
	$g¿b_focus
(
£lf
):

986 
nÙ
 
£lf
.
v‹
.
	`æags
()&
gtk
.
HAS_FOCUS
:

987 
£lf
.
v‹
.
	$g¿b_focus
()

989 
def
 
	$’su»_visibË_ªd_focus£d
(
£lf
):

991 
wšdow
 = 
£lf
.
	$g‘_tİËv–
()

992 
tİchd
 = 
wšdow
.
	$g‘_chd
()

993 
mak”
 = 
	$FaùÜy
()

995 
mak”
.
	`isš¡ªû
(
tİchd
, 'Notebook'):

996 
´evtmp
 = 
NÚe


997 
tmp
 = 
£lf
.
	$g‘_·»Á
()

998 
tmp
 !ğ
tİchd
:

999 
´evtmp
 = 
tmp


1000 
tmp
 =mp.
	$g‘_·»Á
()

1001 
·ge
 = 
tİchd
.
	$·ge_num
(
´evtmp
)

1002 
tİchd
.
	$£t_cu¼’t_·ge
(
·ge
)

1004 
£lf
.
	$g¿b_focus
()

1006 
def
 
	$Ú_v‹_focus
(
£lf
, 
_widg‘
):

1008 
£lf
.
	`em™
('t™Ë-chªge', s–f.
	$g‘_wšdow_t™Ë
())

1010 
def
 
	$Ú_v‹_focus_š
(
£lf
, 
_widg‘
, 
_ev’t
):

1012 
£lf
.
	`em™
('focus-in')

1014 
def
 
	$Ú_wšdow_focus_out
(
£lf
):

1016 
£lf
.
t™Ëb¬
.
	`upd©e
('window-focus-out')

1018 
def
 
	$süŞlb¬_jump
(
£lf
, 
pos™iÚ
):

1020 
£lf
.
süŞlb¬
.
	$£t_v®ue
(
pos™iÚ
)

1022 
def
 
	$Ú_£¬ch_dÚe
(
£lf
, 
_widg‘
):

1024 
£lf
.
£¬chb¬
.
	$hide
()

1025 
£lf
.
süŞlb¬
.
	`£t_v®ue
(£lf.
v‹
.
	`g‘_cursÜ_pos™iÚ
()[1])

1026 
£lf
.
v‹
.
	$g¿b_focus
()

1028 
def
 
	$Ú_ed™_dÚe
(
£lf
, 
_widg‘
):

1030 
£lf
.
v‹
.
	$g¿b_focus
()

1032 
def
 
	$deã¼ed_Ú_v‹_size_®loÿ‹
(
£lf
, 
widg‘
, 
®loÿtiÚ
):

1033 #widg‘ & 
®loÿtiÚ
 
¬e
 
nÙ
 
u£d
 
š
 
Ú_v‹_size_®loÿ‹
, 
so
 
we


1034 #ÿÀ
u£
 
the
 
Ú_v‹_size_®loÿ‹
 
š¡—d
 
of
 
du¶iÿtšg
h
code


1035 
£lf
.
³ndšg_Ú_v‹_size_®loÿ‹
 =ğ
True
:

1037 
£lf
.
³ndšg_Ú_v‹_size_®loÿ‹
 = 
True


1038 
gobjeù
.
	$idË_add
(
£lf
.
do_deã¼ed_Ú_v‹_size_®loÿ‹
, 
widg‘
, 
®loÿtiÚ
)

1040 
def
 
	$do_deã¼ed_Ú_v‹_size_®loÿ‹
(
£lf
, 
widg‘
, 
®loÿtiÚ
):

1041 
£lf
.
³ndšg_Ú_v‹_size_®loÿ‹
 = 
F®£


1042 
£lf
.
	$Ú_v‹_size_®loÿ‹
(
widg‘
, 
®loÿtiÚ
)

1044 
def
 
	$Ú_v‹_size_®loÿ‹
(
£lf
, 
widg‘
, 
®loÿtiÚ
):

1045 
£lf
.
t™Ëb¬
.
	`upd©e_‹rmš®_size
(£lf.
v‹
.
	`g‘_cŞumn_couÁ
(),

1046 
£lf
.
v‹
.
	$g‘_row_couÁ
())

1047 
£lf
.
v‹
.
wšdow
 
ªd
 s–f.
cÚfig
['geometry_hinting']:

1048 
wšdow
 = 
£lf
.
	$g‘_tİËv–
()

1049 
wšdow
.
	$deã¼ed_£t_rough_geom‘ry_hšts
()

1051 
def
 
	$Ú_v‹_nÙify_’‹r
(
£lf
, 
‹rm
, 
ev’t
):

1053 #FIXME: 
This
 
shouldn
't be†ooking up‡llhese valuesƒveryime

1054 
¦İpy
 = 
F®£


1055 
£lf
.
cÚfig
['focus'] == 'system':

1056 
¦İpy
 = 
£lf
.
cÚfig
.
	$g‘_sy¡em_focus
(è
š
 ['sloppy', 'mouse']

1057 
–if
 
£lf
.
cÚfig
['focus'] 
š
 ['sloppy', 'mouse']:

1058 
¦İpy
 = 
True


1059 
¦İpy
 =ğ
True
 
ªd
 
£lf
.
t™Ëb¬
.
	`ed™šg
(è=ğ
F®£
:

1060 
‹rm
.
	$g¿b_focus
()

1061 (
F®£
)

1063 
def
 
	$g‘_zoom_d©a
(
£lf
):

1065 
d©a
 = {
	}
}

1066 
d©a
['Şd_fÚt'] = 
£lf
.
v‹
.
	$g‘_fÚt
()

1067 
d©a
['Şd_ch¬_height'] = 
£lf
.
v‹
.
	$g‘_ch¬_height
()

1068 
d©a
['Şd_ch¬_width'] = 
£lf
.
v‹
.
	$g‘_ch¬_width
()

1069 
d©a
['Şd_®loÿtiÚ'] = 
£lf
.
v‹
.
	$g‘_®loÿtiÚ
()

1070 
d©a
['Şd_·ddšg'] = 
£lf
.
v‹
.
	$g‘_·ddšg
()

1071 
d©a
['Şd_cŞumns'] = 
£lf
.
v‹
.
	$g‘_cŞumn_couÁ
()

1072 
d©a
['Şd_rows'] = 
£lf
.
v‹
.
	$g‘_row_couÁ
()

1073 
d©a
['Şd_·»Á'] = 
£lf
.
	$g‘_·»Á
()

1075 (
d©a
)

1077 
def
 
	$zoom_sÿË
(
£lf
, 
widg‘
, 
®loÿtiÚ
, 
Şd_d©a
):

1079 
£lf
.
úxids
.
	`»move_sigÇl
(self, 'size-allocate')

1080 #FIXME: 
Is
 
a
 
zoom
 
sigÇl
 
aùu®y
 
u£d
 
ªywh”e
?

1081 
£lf
.
úxids
.
	`»move_sigÇl
(self, 'zoom')

1083 
Ãw_cŞumns
 = 
£lf
.
v‹
.
	$g‘_cŞumn_couÁ
()

1084 
Ãw_rows
 = 
£lf
.
v‹
.
	$g‘_row_couÁ
()

1085 
Ãw_fÚt
 = 
£lf
.
v‹
.
	$g‘_fÚt
()

1086 
Ãw_®loÿtiÚ
 = 
£lf
.
v‹
.
	$g‘_®loÿtiÚ
()

1088 
Şd_®loc
 = {'x': 
Şd_d©a
['Şd_®loÿtiÚ'].
width
 - \

1089 
Şd_d©a
['old_padding'][0],

1090 'y': 
Şd_d©a
['Şd_®loÿtiÚ'].
height
 - \

1091 
Şd_d©a
['old_padding'][1]

1092 
	}
}

1094 
dbg
('Terminal::zoom_scale: Resized from %dx%do %dx%d' % (

1095 
Şd_d©a
['old_columns'],

1096 
Şd_d©a
['old_rows'],

1097 
Ãw_cŞumns
,

1098 
Ãw_rows
))

1100 
	gÃw_rows
 =ğ
Şd_d©a
['Şd_rows'] 
Ü
 \

1101 
Ãw_cŞumns
 =ğ
Şd_d©a
['old_columns']:

1102 
dbg
('Terminal::zoom_scale: One‡xis unchanged,‚ot scaling')

1105 
Şd_¬—
 = 
Şd_d©a
['old_columns'] * old_data['old_rows']

1106 
Ãw_¬—
 = 
Ãw_cŞumns
 * 
Ãw_rows


1107 
¬—_çùÜ
 = (
Ãw_¬—
 / 
Şd_¬—
) / 2

1109 
Ãw_size
 = (
Şd_d©a
['Şd_fÚt'].
g‘_size
(è* 
¬—_çùÜ
)

1110 
Ãw_size
 == 0:

1111 
”r
('refusingo set‡ zero sized font')

1113 
Ãw_fÚt
.
	$£t_size
(
Ãw_size
)

1114 
	`dbg
('£‰šg‚ew fÚt: %s' % 
Ãw_fÚt
)

1115 
£lf
.
	$£t_fÚt
(
Ãw_fÚt
)

1117 
def
 
	$is_zoomed
(
£lf
):

1119 
´İ
 = 
NÚe


1120 
·»Á
 = 
£lf
.
	$g‘_·»Á
()

1121 
wšdow
 = 
£lf
.
	$g‘_tİËv–
()

1123 
Œy
:

1124 
´İ
 = 
wšdow
.
	`g‘_´İ”ty
('term-zoomed')

1125 
exû±
 
Ty³E¼Ü
:

1126 
´İ
 = 
F®£


1128 (
´İ
)

1130 
def
 
	$zoom
(
£lf
, 
widg‘
=
NÚe
):

1132 
£lf
.
	`em™
('zoom')

1134 
def
 
	$maximi£
(
£lf
, 
widg‘
=
NÚe
):

1136 
£lf
.
	`em™
('maximise')

1138 
def
 
	$unzoom
(
£lf
, 
widg‘
=
NÚe
):

1140 
£lf
.
	`em™
('unzoom')

1142 
def
 
	$£t_cwd
(
£lf
, 
cwd
=
NÚe
):

1144 
cwd
 
is
 
nÙ
 
NÚe
:

1145 
£lf
.
cwd
 = cwd

1147 
def
 
	$¥awn_chd
(
£lf
, 
widg‘
=
NÚe
, 
»¥awn
=
F®£
, 
debug£rv”
=False):

1148 
upd©e_»cÜds
 = 
£lf
.
cÚfig
['update_records']

1149 
logš
 = 
£lf
.
cÚfig
['login_shell']

1150 
¬gs
 = []

1151 
sh–l
 = 
NÚe


1152 
commªd
 = 
NÚe


1154 
£lf
.
‹rmš©Ü
.
došg_Ïyout
 =ğ
True
:

1155 
	`dbg
('still†aying out,„efusingo spawn‡ child')

1158 
»¥awn
 =ğ
F®£
:

1159 
£lf
.
v‹
.
	$g¿b_focus
()

1161 
İtiÚs
 = 
£lf
.
cÚfig
.
	$İtiÚs_g‘
()

1162 
İtiÚs
 
ªd
 o±iÚs.
commªd
:

1163 
commªd
 = 
İtiÚs
.command

1164 
İtiÚs
.
commªd
 = 
NÚe


1165 
–if
 
İtiÚs
 
ªd
 o±iÚs.
execu‹
:

1166 
commªd
 = 
İtiÚs
.
execu‹


1167 
İtiÚs
.
execu‹
 = 
NÚe


1168 
–if
 
£lf
.
cÚfig
['use_custom_command']:

1169 
commªd
 = 
£lf
.
cÚfig
['custom_command']

1170 
–if
 
£lf
.
Ïyout_commªd
:

1171 
commªd
 = 
£lf
.
Ïyout_commªd


1172 
–if
 
debug£rv”
 
is
 
True
:

1173 
d‘as
 = 
£lf
.
‹rmš©Ü
.
debug_add»ss


1174 
	`dbg
('¥awnšg debug sessiÚ w™h: %s:%s' % (
d‘as
[0],

1175 
d‘as
[1]))

1176 
commªd
 = '‹Ê‘ % %s' % (
d‘as
[0], details[1])

1178 
İtiÚs
 
ªd
 o±iÚs.
wÜkšg_dœeùÜy
‡nd \

1179 
İtiÚs
.
wÜkšg_dœeùÜy
 != '':

1180 
£lf
.
	$£t_cwd
(
İtiÚs
.
wÜkšg_dœeùÜy
)

1181 
İtiÚs
.
wÜkšg_dœeùÜy
 = ''

1183 
	$ty³
(
commªd
è
is
 
li¡
:

1184 
sh–l
 = 
ut
.
	$·th_lookup
(
commªd
[0])

1185 
¬gs
 = 
commªd


1187 
sh–l
 = 
ut
.
	$sh–l_lookup
()

1189 
£lf
.
cÚfig
['login_shell']:

1190 
¬gs
.
	`š£¹
(0, "-%s" % 
sh–l
)

1192 
¬gs
.
	$š£¹
(0, 
sh–l
)

1194 
commªd
 
is
 
nÙ
 
NÚe
:

1195 
¬gs
 +ğ['-c', 
commªd
]

1197 
sh–l
 
is
 
NÚe
:

1198 
£lf
.
v‹
.
	`ãed
(
	`_
('Unableo find‡ shell'))

1201 
Œy
:

1202 
os
.
	`pu‹nv
('WINDOWID', '%s' % 
£lf
.
v‹
.
	`g‘_·»Á_wšdow
().
xid
)

1203 
exû±
 
A‰ribu‹E¼Ü
:

1204 
·ss


1206 
’vv
 = []

1207 
’vv
.
	`­³nd
('TERMINATOR_UUID=%s' % 
£lf
.
uuid
.
uº
)

1208 
£lf
.
‹rmš©Ü
.
dbus_Çme
:

1209 
’vv
.
	`­³nd
('TERMINATOR_DBUS_NAME=%s' % 
£lf
.
‹rmš©Ü
.
dbus_Çme
)

1210 
£lf
.
‹rmš©Ü
.
dbus_·th
:

1211 
’vv
.
	`­³nd
('TERMINATOR_DBUS_PATH=%s' % 
£lf
.
‹rmš©Ü
.
dbus_·th
)

1213 
	`dbg
('FÜkšg sh–l: "%s" w™h‡rgs: %s' % (
sh–l
, 
¬gs
))

1214 
£lf
.
pid
 = s–f.
v‹
.
	$fÜk_commªd
(
commªd
=
sh–l
, 
¬gv
=
¬gs
, 
’vv
=envv,

1215 
logÏ¡log
=
logš
,

1216 
logwtmp
=
upd©e_»cÜds
,

1217 
logutmp
=
upd©e_»cÜds
,

1218 
dœeùÜy
=
£lf
.
cwd
)

1219 
£lf
.
commªd
 = 
sh–l


1221 
£lf
.
t™Ëb¬
.
	$upd©e
()

1223 
£lf
.
pid
 == -1:

1224 
£lf
.
v‹
.
	`ãed
(
	`_
('UÇbËØ¡¬ˆsh–l:'è+ 
sh–l
)

1227 
def
 
	$check_fÜ_u¾
(
£lf
, 
ev’t
):

1229  (
£lf
.
v‹
.
	`m©ch_check
((
ev’t
.
x
 / s–f.v‹.
	`g‘_ch¬_width
()),

1230 (
ev’t
.
y
 / 
£lf
.
v‹
.
	$g‘_ch¬_height
())))

1232 
def
 
	$´•¬e_u¾
(
£lf
, 
u¾m©ch
):

1234 
u¾
 = 
u¾m©ch
[0]

1235 
m©ch
 = 
u¾m©ch
[1]

1237 
m©ch
 =ğ
£lf
.
m©ches
['ema'] 
ªd
 
u¾
[0:7] != 'mailto:':

1238 
u¾
 = 'mailto:' + url

1239 
–if
 
m©ch
 =ğ
£lf
.
m©ches
['addr_Úly'] 
ªd
 
u¾
[0:3] == 'ftp':

1240 
u¾
 = 'ftp://' + url

1241 
–if
 
m©ch
 =ğ
£lf
.
m©ches
['addr_only']:

1242 
u¾
 = 'http://' + url

1243 
–if
 
m©ch
 
š
 
£lf
.
m©ches
.
	$v®ues
():

1244 #W
have
 
a
 
m©ch
, 
but
 
™
' nÙ‡ h¬d coded oÃ, sØ™'
s
‡ 
¶ugš


1245 
Œy
:

1246 
»gi¡ry
 = 
¶ugš
.
	$PlugšRegi¡ry
()

1247 
»gi¡ry
.
	$lßd_¶ugšs
()

1248 
¶ugšs
 = 
»gi¡ry
.
	`g‘_¶ugšs_by_ÿ·b™y
('url_handler')

1250 
u¾¶ugš
 
š
 
¶ugšs
:

1251 
m©ch
 =ğ
£lf
.
m©ches
[
u¾¶ugš
.
hªdËr_Çme
]:

1252 
Ãwu¾
 = 
u¾¶ugš
.
	$ÿÎback
(
u¾
)

1253 
Ãwu¾
 
is
 
nÙ
 
NÚe
:

1254 
	`dbg
('T”mš®::´•¬e_u¾: URL…»·»d by \
% ¶ugš' % 
u¾¶ugš
.
hªdËr_Çme
)

1256 
u¾
 = 
Ãwu¾


1258 
exû±
 
Exû±iÚ
, 
ex
:

1259 
	`”r
('T”mš®::´•¬e_u¾: %s' % 
ex
)

1261 (
u¾
)

1263 
def
 
	$İ’_u¾
(
£lf
, 
u¾
, 
´•¬e
=
F®£
):

1265 
Şd¡yË
 = 
F®£


1267 
´•¬e
 =ğ
True
:

1268 
u¾
 = 
£lf
.
	$´•¬e_u¾
(
u¾
)

1269 
	`dbg
('İ’_u¾: URL: % Õ»·»d: %s)' % (
u¾
, 
´•¬e
))

1271 
gtk
.
gtk_v”siÚ
 < (2, 14, 0è
Ü
 \

1272 
nÙ
 
	`ha§‰r
(
gtk
, 'show_uri'è
Ü
 \

1273 
nÙ
 
	`ha§‰r
(
gtk
.
gdk
, 'CURRENT_TIME'):

1274 
Şd¡yË
 = 
True


1276 
Şd¡yË
 =ğ
F®£
:

1277 
Œy
:

1278 
gtk
.
	$show_uri
(
NÚe
, 
u¾
, 
gtk
.
gdk
.
CURRENT_TIME
)

1279 
exû±
:

1280 
Şd¡yË
 = 
True


1282 
Şd¡yË
 =ğ
True
:

1283 
	`dbg
('Old gtk (%s,%s,%s), c®lšg xdg-İ’' % 
gtk
.
gtk_v”siÚ
)

1284 
Œy
:

1285 
sub´oûss
.
	`Pİ’
(["xdg-İ’", 
u¾
])

1286 
exû±
:

1287 
	`dbg
('xdg-open did‚ot work, falling backo webbrowser.open')

1288 
impÜt
 
webbrow£r


1289 
webbrow£r
.
	$İ’
(
u¾
)

1291 
def
 
	$·¡e_şbßrd
(
£lf
, 
´im¬y
=
F®£
):

1293 
‹rm
 
š
 
£lf
.
‹rmš©Ü
.
	$g‘_rg‘_‹rms
(
£lf
):

1294 
´im¬y
:

1295 
‹rm
.
v‹
.
	$·¡e_´im¬y
()

1297 
‹rm
.
v‹
.
	$·¡e_şbßrd
()

1298 
£lf
.
v‹
.
	$g¿b_focus
()

1300 
def
 
	$ãed
(
£lf
, 
‹xt
):

1302 
£lf
.
v‹
.
	$ãed_chd
(
‹xt
)

1304 
def
 
	$zoom_š
(
£lf
):

1306 
£lf
.
	$zoom_fÚt
(
True
)

1308 
def
 
	$zoom_out
(
£lf
):

1310 
£lf
.
	$zoom_fÚt
(
F®£
)

1312 
def
 
	$zoom_fÚt
(
£lf
, 
zoom_š
):

1314 
·ngodesc
 = 
£lf
.
v‹
.
	$g‘_fÚt
()

1315 
fÚtsize
 = 
·ngodesc
.
	$g‘_size
()

1317 
fÚtsize
 > 
·ngo
.
SCALE
 
ªd
 
nÙ
 
zoom_š
:

1318 
fÚtsize
 -ğ
·ngo
.
SCALE


1319 
–if
 
zoom_š
:

1320 
fÚtsize
 +ğ
·ngo
.
SCALE


1322 
·ngodesc
.
	$£t_size
(
fÚtsize
)

1323 
£lf
.
	$£t_fÚt
(
·ngodesc
)

1324 
£lf
.
cu¡om_fÚt_size
 = 
fÚtsize


1326 
def
 
	$zoom_Üig
(
£lf
):

1328 
£lf
.
cÚfig
['u£_sy¡em_fÚt'] =ğ
True
:

1329 
fÚt
 = 
£lf
.
cÚfig
.
	$g‘_sy¡em_fÚt
()

1331 
fÚt
 = 
£lf
.
cÚfig
['font']

1332 
	`dbg
("T”mš®::zoom_Üig:„e¡Üšg fÚˆto: %s" % 
fÚt
)

1333 
£lf
.
	`£t_fÚt
(
·ngo
.
	$FÚtDesütiÚ
(
fÚt
))

1334 
£lf
.
cu¡om_fÚt_size
 = 
NÚe


1336 
def
 
	$£t_fÚt
(
£lf
, 
fÚtdesc
):

1338 
ªtŸlŸs
 = 
£lf
.
cÚfig
['antialias']

1339 
ªtŸlŸs
:

1340 
Œy
:

1341 
ªtŸlŸs
 = 
v‹
.
ANTI_ALIAS_FORCE_ENABLE


1342 
exû±
 
A‰ribu‹E¼Ü
:

1343 
ªtŸlŸs
 = 1

1345 
Œy
:

1346 
ªtŸlŸs
 = 
v‹
.
ANTI_ALIAS_FORCE_DISABLE


1347 
exû±
 
A‰ribu‹E¼Ü
:

1348 
ªtŸlŸs
 = 2

1349 
£lf
.
v‹
.
	$£t_fÚt_fuÎ
(
fÚtdesc
, 
ªtŸlŸs
)

1351 
def
 
	$g‘_cursÜ_pos™iÚ
(
£lf
):

1353 #FIXME: 
THIS
 
METHOD
 
IS
 
DEPRECATED
 
AND
 
UNUSED


1354 
cŞ
, 
row
 = 
£lf
.
v‹
.
	$g‘_cursÜ_pos™iÚ
()

1355 
width
 = 
£lf
.
v‹
.
	$g‘_ch¬_width
()

1356 
height
 = 
£lf
.
v‹
.
	$g‘_ch¬_height
()

1357 ((
cŞ
 * 
width
, 
row
 * 
height
))

1359 
def
 
	$g‘_fÚt_size
(
£lf
):

1361 ((
£lf
.
v‹
.
	`g‘_ch¬_width
(), s–f.v‹.
	$g‘_ch¬_height
()))

1363 
def
 
	$g‘_size
(
£lf
):

1365 ((
£lf
.
v‹
.
	`g‘_cŞumn_couÁ
(), s–f.v‹.
	$g‘_row_couÁ
()))

1367 
def
 
	$Ú_b“p
(
£lf
, 
widg‘
):

1369 
£lf
.
cÚfig
['urg’t_b–l'] =ğ
True
:

1370 
wšdow
 = 
£lf
.
	$g‘_tİËv–
()

1371 
wšdow
.
	$£t_urg’cy_hšt
(
True
)

1372 
£lf
.
cÚfig
['icÚ_b–l'] =ğ
True
:

1373 
£lf
.
t™Ëb¬
.
	$icÚ_b–l
()

1375 
def
 
	$desüibe_Ïyout
(
£lf
, 
couÁ
, 
·»Á
, 
glob®_Ïyout
, 
chd_Üd”
):

1377 
Ïyout
 = {
	}
}

1378 
Ïyout
['type'] = 'Terminal'

1379 
Ïyout
['·»Á'] = 
·»Á


1380 
Ïyout
['Üd”'] = 
chd_Üd”


1381 
£lf
.
group
:

1382 
Ïyout
['group'] = 
£lf
.
group


1383 
´ofe
 = 
£lf
.
	$g‘_´ofe
()

1384 
Ïyout
 != "default":

1386 
Ïyout
['´ofe'] = 
´ofe


1387 
t™Ë
 = 
£lf
.
t™Ëb¬
.
	$g‘_cu¡om_¡ršg
()

1388 
t™Ë
:

1389 
Ïyout
['t™Ë'] = 
t™Ë


1390 
Çme
 = '‹rmš®%d' % 
couÁ


1391 
couÁ
 = count + 1

1392 
glob®_Ïyout
[
Çme
] = 
Ïyout


1393 (
couÁ
)

1395 
def
 
	$ü—‹_Ïyout
(
£lf
, 
Ïyout
):

1397 
	`dbg
('Setting†ayout')

1398 
Ïyout
.
	`has_key
('commªd'è
ªd
†ayout['command'] != '':

1399 
£lf
.
Ïyout_commªd
 = 
Ïyout
['command']

1400 
Ïyout
.
	`has_key
('´ofe'è
ªd
†ayout['profile'] != '':

1401 
Ïyout
['´ofe'] 
š
 
£lf
.
cÚfig
.
	$li¡_´ofes
():

1402 
£lf
.
	`£t_´ofe
(£lf, 
Ïyout
['profile'])

1403 
Ïyout
.
	`has_key
('group'è
ªd
†ayout['group'] != '':

1404 #Thi 
dÛ¢
'ˆÃed/u£ s–f.t™Ëb¬, buˆ™'
s
 
§ãr
 
thª
 
£ndšg


1406 
£lf
.
	`»®ly_ü—‹_group
(£lf.
t™Ëb¬
, 
Ïyout
['group'])

1407 
Ïyout
.
	`has_key
('t™Ë'è
ªd
†ayout['title'] != '':

1408 
£lf
.
t™Ëb¬
.
	`£t_cu¡om_¡ršg
(
Ïyout
['title'])

1410 #Th”
now
 
begšs
 
a
 
g»©
 
li¡
 
of
 
keybßrd
 
ev’t
 
hªdËrs


1411 
def
 
	$key_zoom_š
(
£lf
):

1412 
£lf
.
	$zoom_š
()

1414 
def
 
	$key_zoom_out
(
£lf
):

1415 
£lf
.
	$zoom_out
()

1417 
def
 
	$key_cİy
(
£lf
):

1418 
£lf
.
v‹
.
	$cİy_şbßrd
()

1420 
def
 
	$key_·¡e
(
£lf
):

1421 
£lf
.
	$·¡e_şbßrd
()

1423 
def
 
	$key_toggË_süŞlb¬
(
£lf
):

1424 
£lf
.
	$do_süŞlb¬_toggË
()

1426 
def
 
	$key_zoom_nÜm®
(
£lf
):

1427 
£lf
.
	$zoom_Üig
 ()

1429 
def
 
	$key_£¬ch
(
£lf
):

1430 
£lf
.
£¬chb¬
.
	$¡¬t_£¬ch
()

1432 #bšdšg 
th©
 
should
 
be
 
moved
 
to
 
T”mš©Ü
 
as
 
they
 
®l
 
ju¡
 
ÿÎ


1433 #¨
funùiÚ
 
of
 
T”mš©Ü
. 
It
 
would
 
be
 
ş—Ãr
 
T”mš©ÜT”m


1434 #ha 
absŞu‹ly
 
no
 
»ã»nû
 
to
 
T”mš©Ü
.

1435 #N (
Ãxt
è- 
	`P
 (
´evious
è- 
	`O
 (
hÜizÚl
è- 
	`E
 (
v”tiÿl
è- 
	`W
 (
şo£
)

1436 
def
 
	$key_cyşe_Ãxt
(
£lf
):

1437 
£lf
.
	$key_go_Ãxt
()

1439 
def
 
	$key_cyşe_´ev
(
£lf
):

1440 
£lf
.
	$key_go_´ev
()

1442 
def
 
	$key_go_Ãxt
(
£lf
):

1443 
£lf
.
	`em™
('navigate', 'next')

1445 
def
 
	$key_go_´ev
(
£lf
):

1446 
£lf
.
	`em™
('navigate', 'prev')

1448 
def
 
	$key_go_up
(
£lf
):

1449 
£lf
.
	`em™
('navigate', 'up')

1451 
def
 
	$key_go_down
(
£lf
):

1452 
£lf
.
	`em™
('navigate', 'down')

1454 
def
 
	$key_go_Ëá
(
£lf
):

1455 
£lf
.
	`em™
('navigate', 'left')

1457 
def
 
	$key_go_right
(
£lf
):

1458 
£lf
.
	`em™
('navigate', 'right')

1460 
def
 
	$key_¥l™_hÜiz
(
£lf
):

1461 
£lf
.
	`em™
('¥l™-hÜiz', s–f.
‹rmš©Ü
.
	$pid_cwd
(
£lf
.
pid
))

1463 
def
 
	$key_¥l™_v”t
(
£lf
):

1464 
£lf
.
	`em™
('¥l™-v”t', s–f.
‹rmš©Ü
.
	$pid_cwd
(
£lf
.
pid
))

1466 
def
 
	$key_şo£_‹rm
(
£lf
):

1467 
£lf
.
	$şo£
()

1469 
def
 
	$key_»size_up
(
£lf
):

1470 
£lf
.
	`em™
('resize-term', 'up')

1472 
def
 
	$key_»size_down
(
£lf
):

1473 
£lf
.
	`em™
('resize-term', 'down')

1475 
def
 
	$key_»size_Ëá
(
£lf
):

1476 
£lf
.
	`em™
('resize-term', 'left')

1478 
def
 
	$key_»size_right
(
£lf
):

1479 
£lf
.
	`em™
('resize-term', 'right')

1481 
def
 
	$key_move_b_right
(
£lf
):

1482 
£lf
.
	`em™
('move-tab', 'right')

1484 
def
 
	$key_move_b_Ëá
(
£lf
):

1485 
£lf
.
	`em™
('move-tab', 'left')

1487 
def
 
	$key_toggË_zoom
(
£lf
):

1488 
£lf
.
	$is_zoomed
():

1489 
£lf
.
	$unzoom
()

1491 
£lf
.
	$maximi£
()

1493 
def
 
	$key_sÿËd_zoom
(
£lf
):

1494 
£lf
.
	$is_zoomed
():

1495 
£lf
.
	$unzoom
()

1497 
£lf
.
	$zoom
()

1499 
def
 
	$key_Ãxt_b
(
£lf
):

1500 
£lf
.
	`em™
('tab-change', -1)

1502 
def
 
	$key_´ev_b
(
£lf
):

1503 
£lf
.
	`em™
('tab-change', -2)

1505 
def
 
	$key_sw™ch_to_b_1
(
£lf
):

1506 
£lf
.
	`em™
('tab-change', 0)

1508 
def
 
	$key_sw™ch_to_b_2
(
£lf
):

1509 
£lf
.
	`em™
('tab-change', 1)

1511 
def
 
	$key_sw™ch_to_b_3
(
£lf
):

1512 
£lf
.
	`em™
('tab-change', 2)

1514 
def
 
	$key_sw™ch_to_b_4
(
£lf
):

1515 
£lf
.
	`em™
('tab-change', 3)

1517 
def
 
	$key_sw™ch_to_b_5
(
£lf
):

1518 
£lf
.
	`em™
('tab-change', 4)

1520 
def
 
	$key_sw™ch_to_b_6
(
£lf
):

1521 
£lf
.
	`em™
('tab-change', 5)

1523 
def
 
	$key_sw™ch_to_b_7
(
£lf
):

1524 
£lf
.
	`em™
('tab-change', 6)

1526 
def
 
	$key_sw™ch_to_b_8
(
£lf
):

1527 
£lf
.
	`em™
('tab-change', 7)

1529 
def
 
	$key_sw™ch_to_b_9
(
£lf
):

1530 
£lf
.
	`em™
('tab-change', 8)

1532 
def
 
	$key_sw™ch_to_b_10
(
£lf
):

1533 
£lf
.
	`em™
('tab-change', 9)

1535 
def
 
	$key_»£t
(
£lf
):

1536 
£lf
.
v‹
.
	$»£t
 (
True
, 
F®£
)

1538 
def
 
	$key_»£t_ş—r
(
£lf
):

1539 
£lf
.
v‹
.
	$»£t
 (
True
, True)

1541 
def
 
	$key_group_®l
(
£lf
):

1542 
£lf
.
	`em™
('group-all')

1544 
def
 
	$key_ungroup_®l
(
£lf
):

1545 
£lf
.
	`em™
('ungroup-all')

1547 
def
 
	$key_group_b
(
£lf
):

1548 
£lf
.
	`em™
('group-tab')

1550 
def
 
	$key_ungroup_b
(
£lf
):

1551 
£lf
.
	`em™
('ungroup-tab')

1553 
def
 
	$key_Ãw_wšdow
(
£lf
):

1554 
£lf
.
‹rmš©Ü
.
	`Ãw_wšdow
(£lf.‹rmš©Ü.
	$pid_cwd
(
£lf
.
pid
))

1556 
def
 
	$key_Ãw_‹rmš©Ü
(
£lf
):

1557 
cmd
 = 
sys
.
¬gv
[0]

1559 
nÙ
 
os
.
·th
.
	$i§bs
(
cmd
):

1560 #Commªd 
is
 
nÙ
 
ª
 
absŞu‹
 
·th
. 
Figu»
 
out
 
wh”e
 
we
 
¬e


1561 
cmd
 = 
os
.
·th
.
	$još
 (
£lf
.
Üigcwd
, 
sys
.
¬gv
[0])

1562 
nÙ
 
os
.
·th
.
	$isfe
(
cmd
):

1563 #w
w”’
't started‡s ./terminator in‡…ath. Give up

1564 
	`”r
('Terminal::key_new_window: Unableo†ocate Terminator')

1565  
F®£


1567 
	`dbg
("T”mš®::key_Ãw_wšdow: S·wnšg: %s" % 
cmd
)

1568 
sub´oûss
.
	`Pİ’
([
cmd
, '-u'])

1570 
def
 
	$key_brßdÿ¡_off
(
£lf
):

1571 
£lf
.
	`£t_group£nd
(
NÚe
, s–f.
‹rmš©Ü
.
group£nd_ty³
['off'])

1573 
def
 
	$key_brßdÿ¡_group
(
£lf
):

1574 
£lf
.
	`£t_group£nd
(
NÚe
, s–f.
‹rmš©Ü
.
group£nd_ty³
['group'])

1576 
def
 
	$key_brßdÿ¡_®l
(
£lf
):

1577 
£lf
.
	`£t_group£nd
(
NÚe
, s–f.
‹rmš©Ü
.
group£nd_ty³
['all'])

1579 #End 
key
 
ev’ts


1581 
gobjeù
.
	$ty³_»gi¡”
(
T”mš®
)

1582 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/terminal_popup_menu.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
	gm’u
"""

7 
impÜt
 
gtk


9 
äom
 
v”siÚ
 
impÜt
 
APP_NAME


10 
äom
 
Œª¦©iÚ
 
impÜt
 
_


11 
äom
 
’codšg
 
impÜt
 
T”mš©ÜEncodšg


12 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


13 
äom
 
ut
 
impÜt
 
”r


14 
äom
 
cÚfig
 
impÜt
 
CÚfig


15 
äom
 
´ef£d™Ü
 
impÜt
 
P»fsEd™Ü


16 
impÜt
 
¶ugš


18 
şass
 
	$T”mš®PİupM’u
(
objeù
):

20 
‹rmš®
 = 
NÚe


21 
‹rmš©Ü
 = 
NÚe


22 
cÚfig
 = 
NÚe


24 
def
 
	$__š™__
(
£lf
, 
‹rmš®
):

26 
£lf
.
‹rmš®
 =erminal

27 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

28 
£lf
.
cÚfig
 = 
	$CÚfig
()

30 
def
 
	$show
(
£lf
, 
widg‘
, 
ev’t
=
NÚe
):

32 
‹rmš®
 = 
£lf
.terminal

34 
m’u
 = 
gtk
.
	$M’u
()

35 
u¾
 = 
NÚe


36 
bu‰Ú
 = 
NÚe


37 
time
 = 
NÚe


39 
£lf
.
cÚfig
.
	`£t_´ofe
(
‹rmš®
.
	$g‘_´ofe
())

41 
ev’t
:

42 
u¾
 = 
‹rmš®
.
	$check_fÜ_u¾
(
ev’t
)

43 
bu‰Ú
 = 
ev’t
.button

44 
time
 = 
ev’t
.time

46 
time
 = 0

47 
bu‰Ú
 = 3

49 
u¾
:

50 
u¾
[1] =ğ
‹rmš®
.
m©ches
['email']:

51 
Çmeİ’
 = 
	`_
('_Sendƒmailo...')

52 
Çmecİy
 = 
	`_
('_Copyƒmail‡ddress')

53 
–if
 
u¾
[1] =ğ
‹rmš®
.
m©ches
['voip']:

54 
Çmeİ’
 = 
	`_
('Ca_ll VoIP‡ddress')

55 
Çmecİy
 = 
	`_
('_Copy VoIP‡ddress')

57 
Çmeİ’
 = 
	`_
('_Open†ink')

58 
Çmecİy
 = 
	`_
('_Copy‡ddress')

60 
icÚ
 = 
gtk
.
	$image_Ãw_äom_¡ock
(
gtk
.
STOCK_JUMP_TO
,

61 
gtk
.
ICON_SIZE_MENU
)

62 
™em
 = 
gtk
.
	$ImageM’uI‹m
(
Çmeİ’
)

63 
™em
.
	`£t_´İ”ty
('image', 
icÚ
)

64 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	$İ’_u¾
(
u¾
, 
True
))

65 
m’u
.
	$­³nd
(
™em
)

67 
™em
 = 
gtk
.
	$M’uI‹m
(
Çmecİy
)

68 
™em
.
	`cÚÃù
('activate',

69 
Ïmbda
 
x
: 
‹rmš®
.
şbßrd
.
	$£t_‹xt
(
u¾
[0]))

70 
m’u
.
	$­³nd
(
™em
)

72 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

74 
™em
 = 
gtk
.
	$ImageM’uI‹m
(
gtk
.
STOCK_COPY
)

75 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
v‹
.
	$cİy_şbßrd
())

76 
™em
.
	`£t_£ns™ive
(
‹rmš®
.
v‹
.
	$g‘_has_£ËùiÚ
())

77 
m’u
.
	$­³nd
(
™em
)

79 
™em
 = 
gtk
.
	$ImageM’uI‹m
(
gtk
.
STOCK_PASTE
)

80 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	$·¡e_şbßrd
())

81 
m’u
.
	$­³nd
(
™em
)

83 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

85 
nÙ
 
‹rmš®
.
	$is_zoomed
():

86 
™em
 = 
gtk
.
	`ImageM’uI‹m
(
	`_
('Split H_orizontally'))

87 
image
 = 
gtk
.
	$Image
()

88 
image
.
	`£t_äom_icÚ_Çme
(
APP_NAME
 + '_hÜiz', 
gtk
.
ICON_SIZE_MENU
)

89 
™em
.
	$£t_image
(
image
)

90 
	`ha§‰r
(
™em
, 'set_always_show_image'):

91 
™em
.
	$£t_®ways_show_image
(
True
)

92 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	`em™
('split-horiz',

93 
£lf
.
‹rmš©Ü
.
	$pid_cwd
(
£lf
.
‹rmš®
.
pid
)))

94 
m’u
.
	$­³nd
(
™em
)

96 
™em
 = 
gtk
.
	`ImageM’uI‹m
(
	`_
('Split V_ertically'))

97 
image
 = 
gtk
.
	$Image
()

98 
image
.
	`£t_äom_icÚ_Çme
(
APP_NAME
 + '_v”t', 
gtk
.
ICON_SIZE_MENU
)

99 
™em
.
	$£t_image
(
image
)

100 
	`ha§‰r
(
™em
, 'set_always_show_image'):

101 
™em
.
	$£t_®ways_show_image
(
True
)

102 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	`em™
('split-vert',

103 
£lf
.
‹rmš©Ü
.
	$pid_cwd
(
£lf
.
‹rmš®
.
pid
)))

104 
m’u
.
	$­³nd
(
™em
)

106 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Open _Tab'))

107 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	`em™
('b-Ãw', 
F®£
,

108 
‹rmš®
))

109 
m’u
.
	$­³nd
(
™em
)

111 
£lf
.
‹rmš©Ü
.
debug_add»ss
 
is
 
nÙ
 
NÚe
:

112 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Open _Debug Tab'))

113 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
:

114 
‹rmš®
.
	`em™
('b-Ãw', 
True
,erminal))

115 
m’u
.
	$­³nd
(
™em
)

117 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

119 
™em
 = 
gtk
.
	$ImageM’uI‹m
(
gtk
.
STOCK_CLOSE
)

120 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
‹rmš®
.
	$şo£
())

121 
m’u
.
	$­³nd
(
™em
)

123 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

125 
nÙ
 
‹rmš®
.
	$is_zoomed
():

126 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('_Zoomerminal'))

127 
™em
.
	`cÚÃù
('aùiv©e', 
‹rmš®
.
zoom
)

128 
m’u
.
	$­³nd
(
™em
)

130 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Ma_ximiseerminal'))

131 
™em
.
	`cÚÃù
('aùiv©e', 
‹rmš®
.
maximi£
)

132 
m’u
.
	$­³nd
(
™em
)

134 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

136 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('_Restore‡llerminals'))

137 
™em
.
	`cÚÃù
('aùiv©e', 
‹rmš®
.
unzoom
)

138 
m’u
.
	$­³nd
(
™em
)

140 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

142 
£lf
.
cÚfig
['show_t™Ëb¬'] =ğ
F®£
:

143 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Grouping'))

144 
subm’u
 = 
£lf
.
‹rmš®
.
	$pİuÏ‹_group_m’u
()

145 
subm’u
.
	$show_®l
()

146 
™em
.
	$£t_subm’u
(
subm’u
)

147 
m’u
.
	$­³nd
(
™em
)

148 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

150 
™em
 = 
gtk
.
	`CheckM’uI‹m
(
	`_
('Show _scrollbar'))

151 
™em
.
	`£t_aùive
(
‹rmš®
.
süŞlb¬
.
	`g‘_´İ”ty
('visible'))

152 
™em
.
	`cÚÃù
('toggËd', 
Ïmbda
 
x
: 
‹rmš®
.
	$do_süŞlb¬_toggË
())

153 
m’u
.
	$­³nd
(
™em
)

155 
	`ha§‰r
(
gtk
, 'Builder'):

156 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('_Preferences'))

157 
™em
.
	`cÚÃù
('aùiv©e', 
Ïmbda
 
x
: 
	$P»fsEd™Ü
(
£lf
.
‹rmš®
))

158 
m’u
.
	$­³nd
(
™em
)

160 
´of–i¡
 = 
£lf
.
cÚfig
.
	$li¡_´ofes
()

162 
	`Ën
(
´of–i¡
) > 1:

163 
™em
 = 
gtk
.
	`M’uI‹m
(
	`_
('Profiles'))

164 
subm’u
 = 
gtk
.
	$M’u
()

165 
™em
.
	$£t_subm’u
(
subm’u
)

166 
m’u
.
	$­³nd
(
™em
)

168 
cu¼’t
 = 
‹rmš®
.
	$g‘_´ofe
()

170 
group
 = 
NÚe


172 
´ofe
 
š
 
´of–i¡
:

173 
™em
 = 
gtk
.
	`RadioM’uI‹m
(
group
, 
´ofe
.
	$ÿp™®ize
())

174 
´ofe
 =ğ
cu¼’t
:

175 
™em
.
	$£t_aùive
(
True
)

176 
™em
.
	`cÚÃù
('aùiv©e', 
‹rmš®
.
fÜû_£t_´ofe
, 
´ofe
)

177 
subm’u
.
	$­³nd
(
™em
)

179 
£lf
.
	$add_’codšg_™ems
(
m’u
)

181 
Œy
:

182 
m’u™ems
 = []

183 
»gi¡ry
 = 
¶ugš
.
	$PlugšRegi¡ry
()

184 
»gi¡ry
.
	$lßd_¶ugšs
()

185 
¶ugšs
 = 
»gi¡ry
.
	`g‘_¶ugšs_by_ÿ·b™y
('terminal_menu')

186 
m’u¶ugš
 
š
 
¶ugšs
:

187 
m’u¶ugš
.
	$ÿÎback
(
m’u™ems
, 
m’u
, 
‹rmš®
)

189 
	`Ën
(
m’u™ems
) > 0:

190 
m’u
.
	`­³nd
(
gtk
.
	$M’uI‹m
())

192 
m’u™em
 
š
 
m’u™ems
:

193 
m’u
.
	$­³nd
(
m’u™em
)

194 
exû±
 
Exû±iÚ
, 
ex
:

195 
	`”r
('T”mš®PİupM’u::show: %s' % 
ex
)

197 
m’u
.
	$show_®l
()

198 
m’u
.
	$pİup
(
NÚe
, NÚe, NÚe, 
bu‰Ú
, 
time
)

200 (
True
)

203 
def
 
	$add_’codšg_™ems
(
£lf
, 
m’u
):

205 
‹rmš®
 = 
£lf
.terminal

206 
aùive_’codšgs
 = 
‹rmš®
.
cÚfig
['active_encodings']

207 
™em
 = 
gtk
.
	`M’uI‹m
 (
	`_
("Encodings"))

208 
m’u
.
	$­³nd
 (
™em
)

209 
subm’u
 = 
gtk
.
	$M’u
 ()

210 
™em
.
	$£t_subm’u
 (
subm’u
)

211 
’codšgs
 = 
	`T”mš©ÜEncodšg
 ().
	$g‘_li¡
 ()

212 
’codšgs
.
	`sÜt
 (
Ïmbda
 
x
, 
y
: 
	`cmp
 (x[2].
	`low”
 (), y[2].
	$low”
 ()))

214 
cu¼’t_’codšg
 = 
‹rmš®
.
v‹
.
	$g‘_’codšg
 ()

215 
group
 = 
NÚe


217 
cu¼’t_’codšg
 
nÙ
 
š
 
aùive_’codšgs
:

218 
aùive_’codšgs
.
	`š£¹
 (0, 
	$_
(
cu¼’t_’codšg
))

220 
’codšg
 
š
 
aùive_’codšgs
:

221 
’codšg
 =ğ
‹rmš®
.
deçuÉ_’codšg
:

222 
exŒ©ext
 = " (%s)" % 
	`_
("Default")

223 
–if
 
’codšg
 =ğ
cu¼’t_’codšg
 
ªd
 \

224 
‹rmš®
.
cu¡om_’codšg
 =ğ
True
:

225 
exŒ©ext
 = " (%s)" % 
	`_
("User defined")

227 
exŒ©ext
 = ""

229 
¿dio™em
 = 
gtk
.
	`RadioM’uI‹m
 (
group
, 
	`_
(
’codšg
è+ 
exŒ©ext
)

231 
’codšg
 =ğ
cu¼’t_’codšg
:

232 
¿dio™em
.
	$£t_aùive
 (
True
)

234 
group
 
is
 
NÚe
:

235 
group
 = 
¿dio™em


237 
¿dio™em
.
	`cÚÃù
 ('aùiv©e', 
‹rmš®
.
Ú_’codšg_chªge
,

238 
’codšg
)

239 
subm’u
.
	$­³nd
 (
¿dio™em
)

241 
™em
 = 
gtk
.
	`M’uI‹m
 (
	`_
("Other Encodings"))

242 
subm’u
.
	$­³nd
 (
™em
)

243 #£cÚd 
Ëv–


245 
subm’u
 = 
gtk
.
	$M’u
 ()

246 
™em
.
	$£t_subm’u
 (
subm’u
)

247 
group
 = 
NÚe


249 
’codšg
 
š
 
’codšgs
:

250 
’codšg
[1] 
š
 
aùive_’codšgs
:

253 
’codšg
[1] 
is
 
NÚe
:

254 
Ïb–
 = "% %s" % (
’codšg
[2], 
‹rmš®
.
v‹
.
	$g‘_’codšg
 ())

256 
Ïb–
 = "% %s" % (
’codšg
[2],ƒncoding[1])

258 
¿dio™em
 = 
gtk
.
	$RadioM’uI‹m
 (
group
, 
Ïb–
)

259 
group
 
is
 
NÚe
:

260 
group
 = 
¿dio™em


262 
’codšg
[1] =ğ
cu¼’t_’codšg
:

263 
¿dio™em
.
	$£t_aùive
 (
True
)

265 
¿dio™em
.
	`cÚÃù
 ('aùiv©e', 
‹rmš®
.
Ú_’codšg_chªge
,

266 
’codšg
[1])

267 
subm’u
.
	`­³nd
 (
¿dio™em
)

	@/home/zq/Project/terminator-0.96/terminatorlib/terminator.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
cİy


7 
impÜt
 
os


8 
impÜt
 
gtk


10 
äom
 
bÜg
 
impÜt
 
BÜg


11 
äom
 
cÚfig
 
impÜt
 
CÚfig


12 
äom
 
keybšdšgs
 
impÜt
 
Keybšdšgs


13 
äom
 
ut
 
impÜt
 
	gdbg
, 
	g”r
, 
’um”©e_desûndªts


14 
äom
 
çùÜy
 
impÜt
 
FaùÜy


15 
äom
 
cwd
 
impÜt
 
g‘_pid_cwd


16 
äom
 
v”siÚ
 
impÜt
 
	gAPP_NAME
, 
APP_VERSION


18 
şass
 
	$T”mš©Ü
(
BÜg
):

21 
wšdows
 = 
NÚe


22 
wšdowt™Ë
 = 
NÚe


23 
‹rmš®s
 = 
NÚe


24 
groups
 = 
NÚe


25 
cÚfig
 = 
NÚe


26 
keybšdšgs
 = 
NÚe


28 
Üigcwd
 = 
NÚe


29 
dbus_·th
 = 
NÚe


30 
dbus_Çme
 = 
NÚe


31 
pid_cwd
 = 
NÚe


32 
gnome_ş›Á
 = 
NÚe


33 
debug_add»ss
 = 
NÚe


35 
došg_Ïyout
 = 
NÚe


37 
group£nd
 = 
NÚe


38 
group£nd_ty³
 = {'®l':0, 'group':1, 'off':2
	}
}

40 
def
 
	$__š™__
(
£lf
):

43 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

44 
£lf
.
	$´•¬e_©Œibu‹s
()

46 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

49 
nÙ
 
£lf
.
wšdows
:

50 
£lf
.
wšdows
 = []

51 
nÙ
 
£lf
.
‹rmš®s
:

52 
£lf
.
‹rmš®s
 = []

53 
nÙ
 
£lf
.
groups
:

54 
£lf
.
groups
 = []

55 
£lf
.
group£nd
 =ğ
NÚe
:

56 
£lf
.
group£nd
 = s–f.
group£nd_ty³
['group']

57 
nÙ
 
£lf
.
cÚfig
:

58 
£lf
.
cÚfig
 = 
	$CÚfig
()

59 
nÙ
 
£lf
.
keybšdšgs
:

60 
£lf
.
keybšdšgs
 = 
	$Keybšdšgs
()

61 
£lf
.
keybšdšgs
.
	`cÚfigu»
(£lf.
cÚfig
['keybindings'])

62 
nÙ
 
£lf
.
došg_Ïyout
:

63 
£lf
.
došg_Ïyout
 = 
F®£


64 
nÙ
 
£lf
.
pid_cwd
:

65 
£lf
.
pid_cwd
 = 
	$g‘_pid_cwd
()

66 
£lf
.
gnome_ş›Á
 
is
 
NÚe
:

67 
£lf
.
	$©‹m±_gnome_ş›Á
()

69 
def
 
	$£t_Üigcwd
(
£lf
, 
cwd
):

71 
cwd
 == '/':

72 
cwd
 = 
os
.
·th
.
	`ex·ndu£r
('~')

73 
os
.
	$chdœ
(
cwd
)

74 
£lf
.
Üigcwd
 = 
cwd


76 
def
 
	$£t_dbus_d©a
(
£lf
, 
dbus_£rviû
):

78 
dbus_£rviû
:

79 
£lf
.
dbus_Çme
 = 
dbus_£rviû
.
bus_Çme
.
	$g‘_Çme
()

80 
£lf
.
dbus_·th
 = 
dbus_£rviû
.
bus_·th


82 
def
 
	$©‹m±_gnome_ş›Á
(
£lf
):

84 
Œy
:

85 
impÜt
 
gnome


86 
impÜt
 
gnome
.
ui


87 
£lf
.
gnome_´og¿m
 = 
gnome
.
	$š™
(
APP_NAME
, 
APP_VERSION
)

88 
£lf
.
gnome_ş›Á
 = 
gnome
.
ui
.
	$ma¡”_ş›Á
()

89 
£lf
.
gnome_ş›Á
.
	$cÚÃù_to_£ssiÚ_mªag”
()

90 
£lf
.
gnome_ş›Á
.
	`cÚÃù
('§ve-your£lf', s–f.
§ve_your£lf
)

91 
£lf
.
gnome_ş›Á
.
	`cÚÃù
('d›', s–f.
d›
)

92 
	`dbg
('GNOME session supportƒnabled‡nd„egistered')

93 
exû±
 
ImpÜtE¼Ü
:

94 
£lf
.
gnome_ş›Á
 = 
F®£


95 
	`dbg
('GNOME session support‚ot‡vailable')

97 
def
 
	$§ve_your£lf
(
£lf
, *
¬gs
):

99 
	`dbg
('preparing session manager state')

100 #FIXME: 
Im¶em’t
 
this


102 
def
 
	$d›
(
£lf
, *
¬gs
):

104 
	`dbg
('session manager‡sked uso die')

105 #FIXME: 
Im¶em’t
 
this


107 
def
 
	$»gi¡”_wšdow
(
£lf
, 
wšdow
):

109 
wšdow
 
nÙ
 
š
 
£lf
.
wšdows
:

110 
	`dbg
('T”mš©Ü::»gi¡”_wšdow:„egi¡”šg %s:%s' % (
	`id
(
wšdow
),

111 
	$ty³
(
wšdow
)))

112 
£lf
.
wšdows
.
	$­³nd
(
wšdow
)

114 
def
 
	$d”egi¡”_wšdow
(
£lf
, 
wšdow
):

116 
	`dbg
('Terminator::deregister_window: de-registering %s:%s' %

117 (
	`id
(
wšdow
), 
	$ty³
(
wšdow
)))

118 
wšdow
 
š
 
£lf
.
wšdows
:

119 
£lf
.
wšdows
.
	$»move
(
wšdow
)

121 
	`”r
('% i nÙ iÀ»gi¡”ed wšdow†i¡' % 
wšdow
)

123 
	`Ën
(
£lf
.
wšdows
) == 0:

124 #W
have
 
no
 
wšdows
 
Ëá
, 
we
 
should
 
ex™


125 
	`dbg
('no windows„emain, quitting')

126 
gtk
.
	$maš_qu™
()

128 
def
 
	$»gi¡”_‹rmš®
(
£lf
, 
‹rmš®
):

130 
‹rmš®
 
nÙ
 
š
 
£lf
.
‹rmš®s
:

131 
	`dbg
('Terminator::register_terminal:„egistering %s:%s' %

132 (
	`id
(
‹rmš®
), 
	$ty³
(
‹rmš®
)))

133 
£lf
.
‹rmš®s
.
	$­³nd
(
‹rmš®
)

134 
‹rmš®
.
	`cÚÃù
('ungroup-®l', 
£lf
.
ungroup_®l
)

136 
def
 
	$d”egi¡”_‹rmš®
(
£lf
, 
‹rmš®
):

138 
	`dbg
('Terminator::deregister_terminal: de-registering %s:%s' %

139 (
	`id
(
‹rmš®
), 
	$ty³
(
‹rmš®
)))

140 
£lf
.
‹rmš®s
.
	$»move
(
‹rmš®
)

142 
	`Ën
(
£lf
.
‹rmš®s
) == 0:

143 
	`dbg
('noerminals„emain, destroying‡ll windows')

144 
wšdow
 
š
 
£lf
.
wšdows
:

145 
wšdow
.
	$de¡roy
()

147 
	`dbg
('Terminator::deregister_terminal: %derminals„emain' %

148 
	$Ën
(
£lf
.
‹rmš®s
))

150 
def
 
	$fšd_‹rmš®_by_uuid
(
£lf
, 
uuid
):

152 
	`dbg
('£¬chšg s–f.‹rmš® fÜ: %s' % 
uuid
)

153 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

154 
	`dbg
('checkšg: % (%s)' % (
‹rmš®
.
uuid
.
uº
,erminal))

155 
‹rmš®
.
uuid
.
uº
 == uuid:

156  
‹rmš®


157  
NÚe


159 
def
 
	$Ãw_wšdow
(
£lf
, 
cwd
=
NÚe
):

161 
mak”
 = 
	$FaùÜy
()

162 
wšdow
 = 
mak”
.
	`make
('Window')

163 
‹rmš®
 = 
mak”
.
	`make
('Terminal')

164 
cwd
:

165 
‹rmš®
.
	$£t_cwd
(
cwd
)

166 
wšdow
.
	$add
(
‹rmš®
)

167 
wšdow
.
	$show
(
True
)

168 
‹rmš®
.
	$¥awn_chd
()

170 (
wšdow
, 
‹rmš®
)

172 
def
 
	$ü—‹_Ïyout
(
£lf
, 
ÏyouŠame
):

174 
Ïyout
 = 
NÚe


175 
objeùs
 = {
	}
}

177 
£lf
.
došg_Ïyout
 = 
True


179 
Ïyout
 = 
cİy
.
d“pcİy
(
£lf
.
cÚfig
.
	$Ïyout_g‘_cÚfig
(
ÏyouŠame
))

180 
nÙ
 
Ïyout
:

181 #U£¸
¥ecif›d
 
a
 
nÚ
-
exi¡’t
 
Ïyout
.  
to
 
Úe
 
T”mš®


182 
	`”r
('Ïyouˆ% nÙ defšed' % 
Ïyout
)

183 
£lf
.
	$Ãw_wšdow
()

186 #Wšd 
the
 
æ©
 
objeùs
 
što
 
a
 
h›¿rchy


187 
h›¿rchy
 = {
	}
}

188 
couÁ
 = 0

189 #Loİ 
ov”
 
the
 
Ïyout
 
uÁ
 
we
 
have
 
cÚsumed
 
™
, 
Ü
 
h™
 1000 
loİs
.

190 #Thi 
is
 
a
 
¡upid
 
¬tificŸl
 
lim™
, 
but
 
™
's safe.

191 
Ën
(
Ïyout
è> 0 
ªd
 
	gcouÁ
 < 1000:

192 
couÁ
 = count + 1

193 
couÁ
 == 1000:

194 
”r
('hit maximum†oop boundary. THIS IS VERY LIKELY A BUG')

195 
obj
 
š
 
Ïyout
.
	$keys
():

196 
Ïyout
[
obj
]['ty³'].
	`low”
() == 'window':

197 
h›¿rchy
[
obj
] = {
	}
}

198 
h›¿rchy
[
obj
]['type'] = 'Window'

199 
h›¿rchy
[
obj
]['children'] = {}

201 #Cİy 
ªy
 
add™iÚ®
 
keys


202 
objkey
 
š
 
Ïyout
[
obj
].
	$keys
():

203 
Ïyout
[
obj
][
objkey
] !ğ'' 
ªd
 
nÙ
 
h›¿rchy
[obj].
	$has_key
(
objkey
):

204 
h›¿rchy
[
obj
][
objkey
] = 
Ïyout
[obj][objkey]

206 
objeùs
[
obj
] = 
h›¿rchy
[obj]

207 
	$d–
(
Ïyout
[
obj
])

209 #Now 
examše
 
chd»n
 
to
 
£e
 
theœ
 
·»Ás
 
exi¡
 
y‘


210 
nÙ
 
Ïyout
[
obj
].
	`has_key
('parent'):

211 
	`”r
('Inv®id objeù: %s' % 
obj
)

212 
	$d–
(
Ïyout
[
obj
])

214 
objeùs
.
	`has_key
(
Ïyout
[
obj
]['parent']):

215 #Ou¸
·»Á
 
has
 
b“n
 
ü—‹d
, 
add
 
our£lves


216 
chdobj
 = {
	}
}

217 
chdobj
['ty³'] = 
Ïyout
[
obj
]['type']

218 
chdobj
['children'] = {}

220 #Cİy 
ov”
 
ªy
 
add™iÚ®
 
objeù
 
keys


221 
objkey
 
š
 
Ïyout
[
obj
].
	$keys
():

222 
nÙ
 
chdobj
.
	$has_key
(
objkey
):

223 
chdobj
[
objkey
] = 
Ïyout
[
obj
][objkey]

225 
objeùs
[
Ïyout
[
obj
]['·»Á']]['chd»n'][obj] = 
chdobj


226 
objeùs
[
obj
] = 
chdobj


227 
	$d–
(
Ïyout
[
obj
])

229 
Ïyout
 = 
h›¿rchy


231 
wšdef
 
š
 
Ïyout
:

232 
Ïyout
[
wšdef
]['type'] != 'Window':

233 
	`”r
('šv®id†ayouˆfÜm©. %s' % 
Ïyout
)

234 
	$¿i£
(
V®ueE¼Ü
)

235 
	`dbg
('Creating‡ window')

236 
wšdow
, 
‹rmš®
 = 
£lf
.
	$Ãw_wšdow
()

237 
wšdow
.
	$ü—‹_Ïyout
(
Ïyout
[
wšdef
])

238 
Ïyout
[
wšdef
].
	`has_key
('position'):

239 
·¹s
 = 
Ïyout
[
wšdef
]['pos™iÚ'].
	`¥l™
(':')

240 
	`Ën
(
·¹s
) == 2:

241 
wšdow
.
	`move
((
·¹s
[0]), (parts[1]))

242 
Ïyout
[
wšdef
].
	`has_key
('size'):

243 
·¹s
 = 
Ïyout
[
wšdef
]['size']

244 
wšx
 = (
·¹s
[0])

245 
wšy
 = (
·¹s
[1])

246 
wšx
 > 1 
ªd
 
wšy
 > 1:

247 
wšdow
.
	$»size
(
wšx
, 
wšy
)

249 
def
 
	$Ïyout_dÚe
(
£lf
):

251 
£lf
.
došg_Ïyout
 = 
F®£


253 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

254 
nÙ
 
‹rmš®
.
pid
:

255 
‹rmš®
.
	$¥awn_chd
()

257 
def
 
	$»cÚfigu»
(
£lf
):

260 
£lf
.
cÚfig
['hªdË_size'] 
š
 
	$x¿nge
(0, 6):

261 
gtk
.
	`rc_·r£_¡ršg
("""

262 
¡yË
 "terminator-paned-style" {

263 
GtkPªed
::
hªdË_size
 = %
s


264 
	}
}

265 
şass
 "GtkPªed" 
¡yË
 "terminator-paned-style"

267 
gtk
.
rc_»£t_¡yËs
(gtk.
	$£‰šgs_g‘_deçuÉ
())

269 #Cau£ 
®l
 
the
 
‹rmš®s
 
to
 
»cÚfigu»


270 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

271 
‹rmš®
.
	$»cÚfigu»
()

273 #R•¬£ 
our
 
keybšdšgs


274 
£lf
.
keybšdšgs
.
	`cÚfigu»
(£lf.
cÚfig
['keybindings'])

276 #Upd©
b
 
pos™iÚ
 
­´İrŸ‹


277 
mak”
 = 
	$FaùÜy
()

278 
wšdow
 
š
 
£lf
.
wšdows
:

279 
chd
 = 
wšdow
.
	$g‘_chd
()

280 
mak”
.
	`isš¡ªû
(
chd
, 'Notebook'):

281 
chd
.
	$cÚfigu»
()

283 
def
 
	$ü—‹_group
(
£lf
, 
Çme
):

285 
Çme
 
nÙ
 
š
 
£lf
.
groups
:

286 
	`dbg
('T”mš©Ü::ü—‹_group:„egi¡”šg grou°%s' % 
Çme
)

287 
£lf
.
groups
.
	$­³nd
(
Çme
)

289 
def
 
	$ungroup_®l
(
£lf
, 
widg‘
):

291 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

292 
‹rmš®
.
	$£t_group
(
NÚe
, None)

293 
£lf
.
groups
 = []

295 
def
 
	$şo£grou³d‹rms
(
£lf
, 
group
):

297 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

298 
‹rmš®
.
group
 == group:

299 
‹rmš®
.
	$şo£
()

301 
def
 
	$group_hoov”
(
£lf
):

304 
£lf
.
cÚfig
['autoclean_groups']:

305 
šu£
 = []

306 
tode¡roy
 = []

308 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

309 
‹rmš®
.
group
:

310 
nÙ
 
‹rmš®
.
group
 
š
 
šu£
:

311 
šu£
.
	$­³nd
(
‹rmš®
.
group
)

313 
group
 
š
 
£lf
.
groups
:

314 
nÙ
 
group
 
š
 
šu£
:

315 
tode¡roy
.
	$­³nd
(
group
)

317 
	`dbg
('Terminator::group_hoover: %d groups, hoovering %d' %

318 (
	`Ën
(
£lf
.
groups
), 
	$Ën
(
tode¡roy
)))

319 
group
 
š
 
tode¡roy
:

320 
£lf
.
groups
.
	$»move
(
group
)

322 
def
 
	$group_em™
(
£lf
, 
‹rmš®
, 
group
, 
ty³
, 
ev’t
):

324 
	`dbg
('Terminator::group_emit:ƒmitting‡ keystroke for group %s' %

325 
group
)

326 
‹rm
 
š
 
£lf
.
‹rmš®s
:

327 
‹rm
 !ğ
‹rmš®
 
ªd
”m.
group
 == group:

328 
‹rm
.
v‹
.
	$em™
(
ty³
, 
ev’t
)

330 
def
 
	$®l_em™
(
£lf
, 
‹rmš®
, 
ty³
, 
ev’t
):

332 
‹rm
 
š
 
£lf
.
‹rmš®s
:

333 
‹rm
 !ğ
‹rmš®
:

334 
‹rm
.
v‹
.
	$em™
(
ty³
, 
ev’t
)

336 
def
 
	$do_’um”©e
(
£lf
, 
widg‘
, 
·d
):

338 
·d
:

339 
num¡r
 = '%0'+
	`¡r
(
	`Ën
(¡rÖ’(
£lf
.
‹rmš®s
))))+'d'

341 
num¡r
 = '%d'

343 
‹rmš®s
 = []

344 
wšdow
 
š
 
£lf
.
wšdows
:

345 
cÚš”s
, 
wš_‹rmš®s
 = 
	$’um”©e_desûndªts
(
wšdow
)

346 
‹rmš®s
.
	$ex‹nd
(
wš_‹rmš®s
)

348 
‹rm
 
š
 
£lf
.
	$g‘_rg‘_‹rms
(
widg‘
):

349 
idx
 = 
‹rmš®s
.
	$šdex
(
‹rm
)

350 
‹rm
.
	`ãed
(
num¡r
 % (
idx
 + 1))

352 
def
 
	$g‘_rg‘_‹rms
(
£lf
, 
widg‘
):

354 
£lf
.
group£nd
 =ğ£lf.
group£nd_ty³
['all']:

355 (
£lf
.
‹rmš®s
)

356 
–if
 
£lf
.
group£nd
 =ğ£lf.
group£nd_ty³
['group']:

357 
‹rm£t
 = []

358 
‹rm
 
š
 
£lf
.
‹rmš®s
:

359 
‹rm
 =ğ
widg‘
 
	`Ü
 (‹rm.
group
 !ğ
NÚe
 
ªd
erm.group ==

360 
widg‘
.
group
):

361 
‹rm£t
.
	$­³nd
(
‹rm
)

362 (
‹rm£t
)

364 ([
widg‘
])

366 
def
 
	$g‘_focus£d_‹rmš®
(
£lf
):

368 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

369 
‹rmš®
.
	`æags
()&
gtk
.
HAS_FOCUS
:

370 (
‹rmš®
)

371 (
NÚe
)

373 
def
 
	$focus_chªged
(
£lf
, 
widg‘
):

375 
‹rmš®
 
š
 
£lf
.
‹rmš®s
:

376 
‹rmš®
.
t™Ëb¬
.
	$upd©e
(
widg‘
)

379 
def
 
	$desüibe_Ïyout
(
£lf
):

381 
Ïyout
 = {
	}
}

382 
couÁ
 = 0

383 
wšdow
 
š
 
£lf
.
wšdows
:

384 
·»Á
 = ''

385 
couÁ
 = 
wšdow
.
	$desüibe_Ïyout
(
couÁ
, 
·»Á
, 
Ïyout
, 0)

387 (
Ïyout
)

389 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@/home/zq/Project/terminator-0.96/terminatorlib/tests/__init__.py

	@/home/zq/Project/terminator-0.96/terminatorlib/tests/test_doctests.py

2 
äom
 
un™‹¡
 
impÜt
 
Te¡Su™e


3 
äom
 
doùe¡
 
impÜt
 
	gDocTe¡Su™e
, 
ELLIPSIS


5 
def
 
	$‹¡_su™e
():

6 
su™e
 = 
	$Te¡Su™e
()

7 
Çme
 
	`š
 (

16 
su™e
.
	`addTe¡
(
	`DocTe¡Su™e
('‹rmš©Ülib.' + 
Çme
))

17  
su™e


	@/home/zq/Project/terminator-0.96/terminatorlib/tests/testborg.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


5 
doùe¡s
 
	gbÜg
.
	gpy


7 >>> 
	gobj1
 = 
Te¡BÜg
()

8 >>> 
obj2
 = 
Te¡BÜg
()

9 >>> 
obj1
.
©Œibu‹


11 >>> 
obj2
.
©Œibu‹


13 >>> 
obj1
.
©Œibu‹
 = 12345

14 >>> 
obj1
.
©Œibu‹


16 >>> 
obj2
.
©Œibu‹


18 >>> 
obj2
.
©Œibu‹
 = 54321

19 >>> 
obj1
.
©Œibu‹


21 >>> 
obj3
 = 
Te¡BÜg2
()

22 >>> 
obj3
.
©Œibu‹


24 >>> 
obj4
 = 
Te¡BÜg2
()

25 >>> 
obj3
.
©Œibu‹
 = 98765

26 >>> 
obj4
.
©Œibu‹


32 
äom
 ..
bÜg
 
impÜt
 
BÜg


34 
şass
 
	$Te¡BÜg
(
BÜg
):

35 
©Œibu‹
 = 
NÚe


37 
def
 
	$__š™__
(
£lf
):

38 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

39 
£lf
.
	$´•¬e_©Œibu‹s
()

41 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

42 
nÙ
 
£lf
.
©Œibu‹
:

43 
£lf
.
©Œibu‹
 = 0

45 
şass
 
	$Te¡BÜg2
(
BÜg
):

46 
©Œibu‹
 = 
NÚe


48 
def
 
	$__š™__
(
£lf
):

49 
BÜg
.
	$__š™__
(
£lf
, s–f.
__şass__
.
__Çme__
)

50 
£lf
.
	$´•¬e_©Œibu‹s
()

52 
def
 
	$´•¬e_©Œibu‹s
(
£lf
):

53 
nÙ
 
£lf
.
©Œibu‹
:

54 
£lf
.
©Œibu‹
 = 1

	@/home/zq/Project/terminator-0.96/terminatorlib/tests/testsignalman.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 >>> 
	gwidg‘
 = 
Te¡Widg‘
()

7 >>> 
sigÇlmª
 = 
SigÇlmª
()

8 >>> 
sigÇlmª
.
Ãw
(
widg‘
, '‹¡1', 
hªdËr
)

10 >>> 
	gsigÇlmª
.
	gúxids
[
widg‘
].
keys
()

12 >>> 
	gwidg‘
.
	gsigÇls
.
v®ues
()

14 >>> 
	gsigÇlmª
.
»move_widg‘
(
widg‘
)

15 >>> 
	gsigÇlmª
.
	gúxids
.
	$has_key
(
widg‘
)

16 
F®£


17 >>> 
widg‘
.
sigÇls
.
	`v®ues
()

19 >>> 
sigÇlmª
.
	`Ãw
(
widg‘
, '‹¡2', 
hªdËr
)

21 >>> 
sigÇlmª
.
	`Ãw
(
widg‘
, '‹¡3', 
hªdËr
)

23 >>> 
sigÇlmª
.
	`»move_sigÇl
(
widg‘
, 'test2')

24 >>> 
sigÇlmª
.
úxids
[
widg‘
].
	`keys
()

26 >>> 
widg‘
.
sigÇls
.
	`v®ues
()

28 >>> 
sigÇlmª
.
	`»move_widg‘
(
widg‘
)

33 
äom
 ..
sigÇlmª
 
impÜt
 
SigÇlmª


35 
şass
 
	$Te¡Widg‘
():

36 
sigÇls
 = 
NÚe


37 
couÁ
 = 
NÚe


39 
def
 
	$__š™__
(
£lf
):

40 
£lf
.
sigÇls
 = {
	}
}

41 
£lf
.
couÁ
 = 0

43 
def
 
	$cÚÃù
(
£lf
, 
sigÇl
, 
hªdËr
, *
¬gs
):

44 
£lf
.
couÁ
 = self.count + 1

45 
£lf
.
sigÇls
[£lf.
couÁ
] = 
sigÇl


46 (
£lf
.
couÁ
)

48 
def
 
	$discÚÃù
(
£lf
, 
sigÇlid
):

49 
	$d–
(
£lf
.
sigÇls
[
sigÇlid
])

51 
def
 
	$hªdËr
():

52 
´št
 "I‡m‡est handler"

54 
__Çme__
 == '__main__':

55 
impÜt
 
sys


56 
impÜt
 
doùe¡


57 (
çed
, 
©‹m±ed
èğ
doùe¡
.
	$‹¡mod
()

58 
´št
 "%d/%de¡ çed" % (
çed
, 
©‹m±ed
)

59 
sys
.
	`ex™
(
çed
)

	@/home/zq/Project/terminator-0.96/terminatorlib/titlebar.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
gtk


7 
impÜt
 
gobjeù


9 
äom
 
v”siÚ
 
impÜt
 
APP_NAME


10 
äom
 
ut
 
impÜt
 
dbg


11 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


12 
äom
 
ed™abËÏb–
 
impÜt
 
	gEd™abËLab–


14 #pylšt: 
di§bË
-
msg
=
R0904


15 #pylšt: 
di§bË
-
msg
=
W0613


16 
şass
 
	$T™Ëb¬
(
gtk
.
Ev’tBox
):

19 
‹rmš©Ü
 = 
NÚe


20 
‹rmš®
 = 
NÚe


21 
cÚfig
 = 
NÚe


22 
Şdt™Ë
 = 
NÚe


23 
‹rm‹xt
 = 
NÚe


24 
siz‘ext
 = 
NÚe


25 
Ïb–
 = 
NÚe


26 
ebox
 = 
NÚe


27 
groupicÚ
 = 
NÚe


28 
grou¶ab–
 = 
NÚe


29 
grou³Áry
 = 
NÚe


30 
b–licÚ
 = 
NÚe


32 
__gsigÇls__
 = {

33 'şicked': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

34 'ed™-dÚe': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
, ()),

35 'ü—‹-group': (
gobjeù
.
SIGNAL_RUN_LAST
, gobjeù.
TYPE_NONE
,

36 (
gobjeù
.
TYPE_STRING
,)),

37 
	}
}

39 
def
 
	$__š™__
(
£lf
, 
‹rmš®
):

41 
gtk
.
Ev’tBox
.
	$__š™__
(
£lf
)

42 
£lf
.
	$__gobjeù_š™__
()

44 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

45 
£lf
.
‹rmš®
 =erminal

46 
£lf
.
cÚfig
 = s–f.
‹rmš®
.config

48 
£lf
.
Ïb–
 = 
	$Ed™abËLab–
()

49 
£lf
.
Ïb–
.
	`cÚÃù
('ed™-dÚe', s–f.
Ú_ed™_dÚe
)

50 
£lf
.
ebox
 = 
gtk
.
	$Ev’tBox
()

51 
grouphbox
 = 
gtk
.
	$HBox
()

52 
£lf
.
grou¶ab–
 = 
gtk
.
	$Lab–
()

53 
£lf
.
groupicÚ
 = 
gtk
.
	$Image
()

54 
£lf
.
b–licÚ
 = 
gtk
.
	$Image
()

55 
£lf
.
b–licÚ
.
	$£t_no_show_®l
(
True
)

57 
£lf
.
grou³Áry
 = 
gtk
.
	$EÁry
()

58 
£lf
.
grou³Áry
.
	$£t_no_show_®l
(
True
)

59 
£lf
.
grou³Áry
.
	`cÚÃù
('focus-out-ev’t', s–f.
grou³Áry_ÿnûl
)

60 
£lf
.
grou³Áry
.
	`cÚÃù
('aùiv©e', s–f.
grou³Áry_aùiv©e
)

61 
£lf
.
grou³Áry
.
	`cÚÃù
('key-´ess-ev’t', s–f.
grou³Áry_key´ess
)

63 
group£nd_ty³
 = 
£lf
.
‹rmš©Ü
.groupsend_type

64 
£lf
.
‹rmš©Ü
.
group£nd
 =ğ
group£nd_ty³
['all']:

65 
icÚ_Çme
 = 'all'

66 
–if
 
£lf
.
‹rmš©Ü
.
group£nd
 =ğ
group£nd_ty³
['group']:

67 
icÚ_Çme
 = 'group'

68 
–if
 
£lf
.
‹rmš©Ü
.
group£nd
 =ğ
group£nd_ty³
['off']:

69 
icÚ_Çme
 = 'off'

70 
£lf
.
	`£t_äom_icÚ_Çme
('_aùive_brßdÿ¡_%s' % 
icÚ_Çme
,

71 
gtk
.
ICON_SIZE_MENU
)

73 
grouphbox
.
	$·ck_¡¬t
(
£lf
.
groupicÚ
, 
F®£
, 
True
, 2)

74 
grouphbox
.
	$·ck_¡¬t
(
£lf
.
grou¶ab–
, 
F®£
, 
True
, 2)

75 
grouphbox
.
	$·ck_¡¬t
(
£lf
.
grou³Áry
, 
F®£
, 
True
, 2)

77 
£lf
.
ebox
.
	$add
(
grouphbox
)

78 
£lf
.
ebox
.
	$show_®l
()

80 
£lf
.
b–licÚ
.
	`£t_äom_icÚ_Çme
('‹rmš®-b–l', 
gtk
.
ICON_SIZE_MENU
)

81 
hbox
 = 
gtk
.
	$HBox
()

82 
hbox
.
	$·ck_¡¬t
(
£lf
.
ebox
, 
F®£
, 
True
, 0)

83 
hbox
.
	`·ck_¡¬t
(
gtk
.
	`VS•¬©Ü
(), 
F®£
, 
True
, 0)

84 
hbox
.
	$·ck_¡¬t
(
£lf
.
Ïb–
, 
True
, True)

85 
hbox
.
	$·ck_’d
(
£lf
.
b–licÚ
, 
F®£
, False, 2)

87 
£lf
.
	$add
(
hbox
)

88 
hbox
.
	$show_®l
()

89 
£lf
.
	$£t_no_show_®l
(
True
)

90 
£lf
.
	$show
()

92 
£lf
.
	`cÚÃù
('bu‰Ú-´ess-ev’t', s–f.
Ú_şicked
)

94 
def
 
	$cÚÃù_icÚ
(
£lf
, 
func
):

96 
£lf
.
ebox
.
	`cÚÃù
('bu‰Ú-»Ëa£-ev’t', 
func
)

98 
def
 
	$upd©e
(
£lf
, 
Ùh”
=
NÚe
):

100 
deçuÉ_bg
 = 
F®£


101 
£lf
.
cÚfig
['title_hide_sizetext']:

102 
£lf
.
Ïb–
.
	`£t_‹xt
("%s" % s–f.
‹rm‹xt
)

104 
£lf
.
Ïb–
.
	`£t_‹xt
("% %s" % (£lf.
‹rm‹xt
, s–f.
siz‘ext
))

106 
Ùh”
:

107 
‹rm
 = 
£lf
.
‹rmš®


108 
‹rmš©Ü
 = 
£lf
.terminator

109 
Ùh”
 == 'window-focus-out':

110 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_inactive_fg_color']

111 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_inactive_bg_color']

112 
icÚ
 = '_receive_off'

113 
deçuÉ_bg
 = 
True


114 
group_fg
 = 
£lf
.
cÚfig
['title_inactive_fg_color']

115 
group_bg
 = 
£lf
.
cÚfig
['title_inactive_bg_color']

116 
–if
 
‹rm
 !ğ
Ùh”
 
ªd
”m.
group
‡nderm.group == other.group:

117 
‹rmš©Ü
.
group£nd
 =ğ‹rmš©Ü.
group£nd_ty³
['off']:

118 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_inactive_fg_color']

119 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_inactive_bg_color']

120 
icÚ
 = '_receive_off'

121 
deçuÉ_bg
 = 
True


123 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_receive_fg_color']

124 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_receive_bg_color']

125 
icÚ
 = '_receive_on'

126 
group_fg
 = 
£lf
.
cÚfig
['title_receive_fg_color']

127 
group_bg
 = 
£lf
.
cÚfig
['title_receive_bg_color']

128 
–if
 
‹rm
 !ğ
Ùh”
 
ªd
 
nÙ
”m.
group
 
Ü
erm.group != other.group:

129 
‹rmš©Ü
.
group£nd
 =ğ‹rmš©Ü.
group£nd_ty³
['all']:

130 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_receive_fg_color']

131 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_receive_bg_color']

132 
icÚ
 = '_receive_on'

134 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_inactive_fg_color']

135 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_inactive_bg_color']

136 
icÚ
 = '_receive_off'

137 
deçuÉ_bg
 = 
True


138 
group_fg
 = 
£lf
.
cÚfig
['title_inactive_fg_color']

139 
group_bg
 = 
£lf
.
cÚfig
['title_inactive_bg_color']

142 
t™Ë_fg
 = 
£lf
.
cÚfig
['title_transmit_fg_color']

143 
t™Ë_bg
 = 
£lf
.
cÚfig
['title_transmit_bg_color']

144 
‹rmš©Ü
.
group£nd
 =ğ‹rmš©Ü.
group£nd_ty³
['all']:

145 
icÚ
 = '_active_broadcast_all'

146 
–if
 
‹rmš©Ü
.
group£nd
 =ğ‹rmš©Ü.
group£nd_ty³
['group']:

147 
icÚ
 = '_active_broadcast_group'

149 
icÚ
 = '_active_broadcast_off'

150 
group_fg
 = 
£lf
.
cÚfig
['title_transmit_fg_color']

151 
group_bg
 = 
£lf
.
cÚfig
['title_transmit_bg_color']

153 
£lf
.
Ïb–
.
	`modify_fg
(
gtk
.
STATE_NORMAL
,

154 
gtk
.
gdk
.
	$cŞÜ_·r£
(
t™Ë_fg
))

155 
£lf
.
grou¶ab–
.
	`modify_fg
(
gtk
.
STATE_NORMAL
,

156 
gtk
.
gdk
.
	$cŞÜ_·r£
(
group_fg
))

157 
£lf
.
	`modify_bg
(
gtk
.
STATE_NORMAL
,

158 
gtk
.
gdk
.
	$cŞÜ_·r£
(
t™Ë_bg
))

159 
nÙ
 
£lf
.
	$g‘_desœed_visib™y
():

160 
deçuÉ_bg
 =ğ
True
:

161 
cŞÜ
 = 
‹rm
.
	`g‘_¡yË
().
bg
[
gtk
.
STATE_NORMAL
]

163 
cŞÜ
 = 
gtk
.
gdk
.
	$cŞÜ_·r£
(
t™Ë_bg
)

164 
£lf
.
	$upd©e_visib™y
()

165 
£lf
.
ebox
.
	`modify_bg
(
gtk
.
STATE_NORMAL
,

166 
gtk
.
gdk
.
	$cŞÜ_·r£
(
group_bg
))

167 
£lf
.
	$£t_äom_icÚ_Çme
(
icÚ
, 
gtk
.
ICON_SIZE_MENU
)

169 
def
 
	$upd©e_visib™y
(
£lf
):

171 
nÙ
 
£lf
.
	$g‘_desœed_visib™y
():

172 
	`dbg
('hidingitlebar')

173 
£lf
.
	$hide
()

174 
£lf
.
Ïb–
.
	$hide
()

176 
	`dbg
('showingitlebar')

177 
£lf
.
	$show
()

178 
£lf
.
Ïb–
.
	$show
()

180 
def
 
	$g‘_desœed_visib™y
(
£lf
):

182 
nÙ
"""

183 
£lf
.
	`ed™šg
(è=ğ
True
 
Ü
 s–f.
‹rmš®
.
group
:

184 
	`dbg
('implicit desired visibility')

185 (
True
)

187 
	`dbg
('cÚfigu»d visib™y: %s' % 
£lf
.
cÚfig
['show_titlebar'])

188 (
£lf
.
cÚfig
['show_titlebar'])

190 
def
 
	$£t_äom_icÚ_Çme
(
£lf
, 
Çme
, 
size
 = 
gtk
.
ICON_SIZE_MENU
):

192 
nÙ
 
Çme
:

193 
£lf
.
groupicÚ
.
	$hide
()

196 
£lf
.
groupicÚ
.
	`£t_äom_icÚ_Çme
(
APP_NAME
 + 
Çme
, 
size
)

197 
£lf
.
groupicÚ
.
	$show
()

199 
def
 
	$upd©e_‹rmš®_size
(
£lf
, 
width
, 
height
):

201 
£lf
.
siz‘ext
 = "%sx%s" % (
width
, 
height
)

202 
£lf
.
	$upd©e
()

204 
def
 
	$£t_‹rmš®_t™Ë
(
£lf
, 
widg‘
, 
t™Ë
):

206 
£lf
.
‹rm‹xt
 = 
t™Ë


207 
£lf
.
	$upd©e
()

208 #R‘uº 
F®£
 
so
 
we
 
dÚ
't interrupt‡ny chains of signal handling

209  
F®£


211 
def
 
	$£t_group_Ïb–
(
£lf
, 
Çme
):

213 
Çme
:

214 
£lf
.
grou¶ab–
.
	$£t_‹xt
(
Çme
)

215 
£lf
.
grou¶ab–
.
	$show
()

217 
£lf
.
grou¶ab–
.
	$hide
()

218 
£lf
.
	$upd©e_visib™y
()

220 
def
 
	$Ú_şicked
(
£lf
, 
widg‘
, 
ev’t
):

222 
£lf
.
	$show
()

223 
£lf
.
Ïb–
.
	$show
()

224 
£lf
.
	`em™
('clicked')

226 
def
 
	$Ú_ed™_dÚe
(
£lf
, 
widg‘
):

228 
£lf
.
	`em™
('edit-done')

230 
def
 
	$ed™šg
(
£lf
):

232 (
£lf
.
grou³Áry
.
	`g‘_´İ”ty
('visibË'è
Ü
 s–f.
Ïb–
.
	$ed™šg
())

234 
def
 
	$ü—‹_group
(
£lf
):

236 
£lf
.
grou³Áry
.
	$show
()

237 
£lf
.
grou³Áry
.
	$g¿b_focus
()

238 
£lf
.
	$upd©e_visib™y
()

240 
def
 
	$grou³Áry_ÿnûl
(
£lf
, 
widg‘
, 
ev’t
):

242 
£lf
.
grou³Áry
.
	`£t_‹xt
('')

243 
£lf
.
grou³Áry
.
	$hide
()

244 
£lf
.
	`g‘_·»Á
().
	$g¿b_focus
()

246 
def
 
	$grou³Áry_aùiv©e
(
£lf
, 
widg‘
):

248 
grou²ame
 = 
£lf
.
grou³Áry
.
	$g‘_‹xt
()

249 
	`dbg
('T™Ëb¬::grou³Áry_aùiv©e: c»©šg group: %s' % 
grou²ame
)

250 
£lf
.
	$grou³Áry_ÿnûl
(
NÚe
, None)

251 
£lf
.
	`em™
('ü—‹-group', 
grou²ame
)

253 
def
 
	$grou³Áry_key´ess
(
£lf
, 
widg‘
, 
ev’t
):

255 
key
 = 
gtk
.
gdk
.
	$keyv®_Çme
(
ev’t
.
keyv®
)

256 
key
 == 'Escape':

257 
£lf
.
	$grou³Áry_ÿnûl
(
NÚe
, None)

259 
def
 
	$icÚ_b–l
(
£lf
):

261 
£lf
.
b–licÚ
.
	$show
()

262 
gobjeù
.
	$timeout_add
(1000, 
£lf
.
icÚ_b–l_hide
)

264 
def
 
	$icÚ_b–l_hide
(
£lf
):

266 
£lf
.
b–licÚ
.
	$hide
()

267 (
F®£
)

269 
def
 
	$g‘_cu¡om_¡ršg
(
£lf
):

271 
£lf
.
Ïb–
.
	$is_cu¡om
():

272 (
£lf
.
Ïb–
.
	$g‘_‹xt
())

274 (
NÚe
)

276 
def
 
	$£t_cu¡om_¡ršg
(
£lf
, 
¡ršg
):

278 
£lf
.
Ïb–
.
	$£t_‹xt
(
¡ršg
)

279 
£lf
.
Ïb–
.
	$£t_cu¡om
()

281 
gobjeù
.
	`ty³_»gi¡”
(
T™Ëb¬
)

	@/home/zq/Project/terminator-0.96/terminatorlib/translation.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü - 
muÉË
 
gnome
 
‹rmš®s
 
š
 
Úe
 
wšdow


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
äom
 
v”siÚ
 
impÜt
 
APP_NAME


18 
äom
 
ut
 
impÜt
 
dbg


20 
	g_
 = 
NÚe


22 #pylšt: 
di§bË
-
msg
=
W0702


23 
Œy
:

24 
impÜt
 
g‘‹xt


25 
g‘‹xt
.
	$‹xtdomaš
(
APP_NAME
)

26 
_
 = 
g‘‹xt
.gettext

27 
exû±
:

28 
	`dbg
("Using fallback _()")

30 
def
 
	$dummyŒªs
 (
‹xt
):

32 (
‹xt
)

34 
_
 = 
dummyŒªs


	@/home/zq/Project/terminator-0.96/terminatorlib/util.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü.
ut
 - 
misc
 
ut™y
 
funùiÚs


3 #Cİyrighˆ(
C
è2006-2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


16 >>> 
	ga
 = {'foo': 'bar', 'baz': 'bjonk'}

17 >>> 
b
 = {'foo': 'far', 'baz': 'bjonk'}

18 >>> 
	$diù_diff
(
a
, 
b
)

19 {'foo': 'çr'
	}
}

23 
impÜt
 
sys


24 
impÜt
 
gtk


25 
impÜt
 
os


26 
impÜt
 
pwd


27 
impÜt
 
š¥eù


29 #£ˆ
this
 
to
 
Œue
Ø
’abË
 
debuggšg
 
ouut


30 
DEBUG
 = 
F®£


31 #£ˆ
this
 
to
 
Œue
Ø
add™iÚ®ly
 
li¡
 
f’ames
 
š
 
debuggšg


32 
DEBUGFILES
 = 
F®£


33 #li¡ 
of
 
şas£s
 
to
 
show
 
debuggšg
 . 
em±y
 
li¡
 
m—ns
 show 
®l
 classes

34 
DEBUGCLASSES
 = []

35 #li¡ 
of
 
m‘hods
 
to
 
show
 
debuggšg
 . 
em±y
 
li¡
 
m—ns
 show 
®l
 methods

36 
DEBUGMETHODS
 = []

38 
def
 
dbg
(
log
 = ""):

40 
DEBUG
:

41 
¡ack™em
 = 
š¥eù
.
¡ack
()[1]

42 
·»Á_äame
 = 
¡ack™em
[0]

43 
m‘hod
 = 
·»Á_äame
.
f_code
.
co_Çme


44 
Çmes
, 
	gv¬¬gs
, 
	gkeywÜds
, 
	gloÿl_v¬s
 = 
š¥eù
.
	$g‘¬gv®ues
(
·»Á_äame
)

45 
Œy
:

46 
£lf_Çme
 = 
Çmes
[0]

47 
şas¢ame
 = 
loÿl_v¬s
[
£lf_Çme
].
__şass__
.
__Çme__


48 
exû±
 
IndexE¼Ü
:

49 
şas¢ame
 = "noclass"

50 
DEBUGFILES
:

51 
lše
 = 
¡ack™em
[2]

52 
f’ame
 = 
·»Á_äame
.
f_code
.
co_f’ame


53 
exŒa
 = " (%s:%s)" % (
f’ame
, 
lše
)

55 
exŒa
 = ""

56 
DEBUGCLASSES
 !ğ[] 
ªd
 
şas¢ame
 
nÙ
 
š
 DEBUGCLASSES:

58 
DEBUGMETHODS
 !ğ[] 
ªd
 
m‘hod
 
nÙ
 
š
 DEBUGMETHODS:

60 
Œy
:

61 
´št
 >> 
sys
.
¡d”r
, "%s::%s: %s%s" % (
şas¢ame
, 
m‘hod
, 
log
, 
exŒa
)

62 
exû±
 
IOE¼Ü
:

63 
·ss


65 
def
 
	`”r
(
log
 = ""):

67 
Œy
:

68 
´št
 >> 
sys
.
¡d”r
, 
log


69 
exû±
 
IOE¼Ü
:

70 
·ss


72 
def
 
	$g”r
(
mes§ge
 = 
NÚe
):

74 
”rÜs
 
as
 
™
 
wl
 
h®t
 
executiÚ
"""

76 
dŸlog
 = 
gtk
.
	$Mes§geDŸlog
(
NÚe
, 
gtk
.
DIALOG_MODAL
,

77 
gtk
.
MESSAGE_ERROR
, gtk.
BUTTONS_OK
, 
mes§ge
)

78 
dŸlog
.
	$run
()

79 
dŸlog
.
	$de¡roy
()

81 
def
 
	$has_ªû¡Ü
(
widg‘
, 
wty³
):

83 
widg‘
:

84 
widg‘
 = widg‘.
	$g‘_·»Á
()

85 
	$isš¡ªû
(
widg‘
, 
wty³
):

86 (
True
)

87 (
F®£
)

89 
def
 
	$·th_lookup
(
commªd
):

91 
os
.
·th
.
	$i§bs
(
commªd
):

92 
os
.
·th
.
	$isfe
(
commªd
):

93 (
commªd
)

95 (
NÚe
)

96 
–if
 
commªd
[:2] =ğ'./' 
ªd
 
os
.
·th
.
	$isfe
(
commªd
):

97 
	`dbg
('·th_lookup: R–©ivf’am% found iÀcwd' % 
commªd
)

98 (
commªd
)

100 
Œy
:

101 
·ths
 = 
os
.
’vœÚ
['PATH'].
	`¥l™
(':')

102 
	`Ën
(
·ths
[0]) == 0:

103 
	$¿i£
(
V®ueE¼Ü
)

104 
	$exû±
 (
V®ueE¼Ü
, 
NameE¼Ü
):

105 
	`dbg
('path_lookup: PATH‚ot set inƒnvironment, using fallbacks')

106 
·ths
 = ['/usr/local/bin', '/usr/bin', '/bin']

108 
	`dbg
('·th_lookup: Usšg %d…©hs: %s' % (
	`Ën
(
·ths
),…aths))

110 
·th
 
š
 
·ths
:

111 
rg‘
 = 
os
.
·th
.
	$još
(
·th
, 
commªd
)

112 
os
.
·th
.
	$isfe
(
rg‘
):

113 
	`dbg
('·th_lookup: found %s' % 
rg‘
)

114 (
rg‘
)

116 
	`dbg
('·th_lookup: UÇbËØloÿ‹ %s' % 
commªd
)

118 
def
 
	$sh–l_lookup
():

120 
Œy
:

121 
u£rsh–l
 = 
pwd
.
	`g‘pwuid
(
os
.
	`g‘uid
())[6]

122 
exû±
 
KeyE¼Ü
:

123 
u£rsh–l
 = 
NÚe


124 
sh–ls
 = [
os
.
	`g‘’v
('SHELL'), 
u£rsh–l
, 'bash',

127 
sh–l
 
š
 
sh–ls
:

128 
sh–l
 
is
 
NÚe
:

130 
–if
 
os
.
·th
.
	$isfe
(
sh–l
):

131 (
sh–l
)

133 
rsh–l
 = 
	$·th_lookup
(
sh–l
)

134 
rsh–l
 
is
 
nÙ
 
NÚe
:

135 
	`dbg
('sh–l_lookup: Found % © %s' % (
sh–l
, 
rsh–l
))

136 (
rsh–l
)

137 
	`dbg
('shell_lookup: Unableo†ocate‡ shell')

139 
def
 
	$widg‘_pixbuf
(
widg‘
, 
maxsize
=
NÚe
):

141 
gtk
.
gtk_v”siÚ
 < (2, 14):

142 (
NÚe
)

144 
pixm­
 = 
widg‘
.
	$g‘_¢­shÙ
()

145 (
width
, 
height
èğ
pixm­
.
	$g‘_size
()

146 
pixbuf
 = 
gtk
.
gdk
.
	$Pixbuf
(
gtk
.
gdk
.
COLORSPACE_RGB
, 
F®£
, 8, 
width
, 
height
)

147 
pixbuf
.
	`g‘_äom_d¿wabË
(
pixm­
,…ixm­.
	`g‘_cŞÜm­
(), 0, 0, 0, 0, 
width
,

148 
height
)

150 
lÚge¡
 = 
	$max
(
width
, 
height
)

152 
maxsize
 
is
 
nÙ
 
NÚe
:

153 
çùÜ
 = (
maxsize
è/ (
lÚge¡
)

155 
nÙ
 
maxsize
 
	`Ü
 (
width
 * 
çùÜ
è> width o¸(
height
 * factor) > height:

156 
çùÜ
 = 1

158 
sÿËdpixbuf
 = 
pixbuf
.
	`sÿË_sim¶e
((
width
 * 
çùÜ
), (
height
 * faùÜ), 
gtk
.
gdk
.
INTERP_BILINEAR
)

160 (
sÿËdpixbuf
)

162 
def
 
	$g‘_cÚfig_dœ
():

164 
»®ly
 
is
"""

165 
Œy
:

166 
cÚfigdœ
 = 
os
.
’vœÚ
['XDG_CONFIG_HOME']

167 
exû±
 
KeyE¼Ü
:

168 
cÚfigdœ
 = 
os
.
·th
.
	`još
(os.·th.
	`ex·ndu£r
('~'), '.config')

170 
	`dbg
('Found cÚfig dœ: %s' % 
cÚfigdœ
)

171 (
os
.
·th
.
	`još
(
cÚfigdœ
, 'terminator'))

173 
def
 
	$diù_diff
(
»ã»nû
, 
wÜkšg
):

175 
th©
 
Úly
 
cÚšs
 
tho£
 
v®ues
 
which
 
¬e
 
difã»Á
 
äom
ho£ 
š
 
the


176 
»ã»nû
 
diùiÚ¬y
"""

178 
»suÉ
 = {
	}
}

180 
key
 
š
 
»ã»nû
:

181 
»ã»nû
[
key
] !ğ
wÜkšg
[key]:

182 
»suÉ
[
key
] = 
wÜkšg
[key]

184 (
»suÉ
)

186 #H–³¸
funùiÚs
 
dœeùiÚ®
 
Çvig©iÚ


187 
def
 
	$g‘_edge
(
®loÿtiÚ
, 
dœeùiÚ
):

189 
dœeùiÚ®
 
Çvig©iÚ
"""

190 
dœeùiÚ
 == 'left':

191 
edge
 = 
®loÿtiÚ
.
x


192 
–if
 
dœeùiÚ
 == 'up':

193 
edge
 = 
®loÿtiÚ
.
y


194 
–if
 
dœeùiÚ
 == 'right':

195 
edge
 = 
®loÿtiÚ
.
x
 +‡ÎoÿtiÚ.
width


196 
–if
 
dœeùiÚ
 == 'down':

197 
edge
 = 
®loÿtiÚ
.
y
 +‡ÎoÿtiÚ.
height


199 
¿i£
 
	`V®ueE¼Ü
('unknowÀdœeùiÚ %s' % 
dœeùiÚ
)

201 (
edge
)

203 
def
 
	$g‘_Çv_possibË
(
edge
, 
®loÿtiÚ
, 
dœeùiÚ
):

205 
suµl›d
 
edge
"""

206 
dœeùiÚ
 == 'left':

207 ((
®loÿtiÚ
.
x
 +‡ÎoÿtiÚ.
width
è<ğ
edge
)

208 
–if
 
dœeùiÚ
 == 'right':

209 (
®loÿtiÚ
.
x
 >ğ
edge
)

210 
–if
 
dœeùiÚ
 == 'up':

211 ((
®loÿtiÚ
.
y
 +‡ÎoÿtiÚ.
height
è<ğ
edge
)

212 
–if
 
dœeùiÚ
 == 'down':

213 (
®loÿtiÚ
.
y
 >ğ
edge
)

215 
¿i£
 
	`V®ueE¼Ü
('UnknowÀdœeùiÚ: %s' % 
dœeùiÚ
)

217 
def
 
	$g‘_Çv_off£t
(
edge
, 
®loÿtiÚ
, 
dœeùiÚ
):

219 
»ùªgË
, 
š
 
the
 
giv’
 
dœeùiÚ
"""

220 
dœeùiÚ
 == 'left':

221 (
edge
 - (
®loÿtiÚ
.
x
 +‡ÎoÿtiÚ.
width
))

222 
–if
 
dœeùiÚ
 == 'right':

223 (
edge
 + 
®loÿtiÚ
.
x
)

224 
–if
 
dœeùiÚ
 == 'up':

225 (
edge
 - (
®loÿtiÚ
.
y
 -‡ÎoÿtiÚ.
height
))

226 
–if
 
dœeùiÚ
 == 'down':

227 (
edge
 + 
®loÿtiÚ
.
y
)

229 
¿i£
 
	`V®ueE¼Ü
('UnknowÀdœeùiÚ: %s' % 
dœeùiÚ
)

231 
def
 
	$g‘_Çv_t›b»ak
(
dœeùiÚ
, 
cursÜ_x
, 
cursÜ_y
, 
»ù
):

233 
pos™iÚ
"""

234 
dœeùiÚ
 
š
 ['left', 'right']:

235 (
cursÜ_y
 >ğ
»ù
.
y
 
ªd
 cursÜ_y <ğÔeù.y +„eù.
height
))

236 
–if
 
dœeùiÚ
 
š
 ['up', 'down']:

237 (
cursÜ_x
 >ğ
»ù
.
x
 
ªd
 cursÜ_x <ğÔeù.x +„eù.
width
))

239 
¿i£
 
	`V®ueE¼Ü
('UnknowÀdœeùiÚ: %s' % 
dœeùiÚ
)

241 
def
 
	$’um”©e_desûndªts
(
·»Á
):

243 
‹rmš®s
"""

244 #FIXME: 
DÛs
 
havšg
 
to
 
impÜt
 
this
 
h”e
 
m—n
 
we
 
should
 
move
hi 
funùiÚ


245 #back 
to
 
CÚš”
?

246 
äom
 
çùÜy
 
impÜt
 
FaùÜy


248 
cÚš”¡mp
 = []

249 
cÚš”s
 = []

250 
‹rmš®s
 = []

251 
mak”
 = 
	$FaùÜy
()

253 
·»Á
 
is
 
NÚe
:

254 
	`”r
('no…arent widget specified')

257 
desûndªt
 
š
 
·»Á
.
	$g‘_chd»n
():

258 
mak”
.
	`isš¡ªû
(
desûndªt
, 'Container'):

259 
cÚš”¡mp
.
	$­³nd
(
desûndªt
)

260 
–if
 
mak”
.
	`isš¡ªû
(
desûndªt
, 'Terminal'):

261 
‹rmš®s
.
	$­³nd
(
desûndªt
)

263 
	`Ën
(
cÚš”¡mp
) > 0:

264 
chd
 = 
cÚš”¡mp
.
	$pİ
(0)

265 
desûndªt
 
š
 
chd
.
	$g‘_chd»n
():

266 
mak”
.
	`isš¡ªû
(
desûndªt
, 'Container'):

267 
cÚš”¡mp
.
	$­³nd
(
desûndªt
)

268 
–if
 
mak”
.
	`isš¡ªû
(
desûndªt
, 'Terminal'):

269 
‹rmš®s
.
	$­³nd
(
desûndªt
)

270 
cÚš”s
.
	$­³nd
(
chd
)

272 
	`dbg
('%d cÚš” ªd %d”mš® çÎ b’—th %s' % (
	`Ën
(
cÚš”s
),

273 
	`Ën
(
‹rmš®s
), 
·»Á
))

274 (
cÚš”s
, 
‹rmš®s
)

	@/home/zq/Project/terminator-0.96/terminatorlib/version.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©ÜV”siÚ - 
v”siÚ
 
numb”


3 #Cİyrighˆ(
C
è2010 
cmsj
@
‹nshu
.
Ãt


4 #
#Thi 
´og¿m
 
is
 
ä“
 
soáw¬e
; 
you
 
ÿn
 
»di¡ribu‹
 
™
 
ªd
/
Ü
 
modify


5 #™ 
und”
 
the
 
‹rms
 
of
h
GNU
 
G’”®
 
Public
 
Liûn£
 
as
 
published
 
by


6 #th
F»e
 
Soáw¬e
 
Found©iÚ
, 
v”siÚ
 2 
Úly
.

7 #
#Thi 
´og¿m
 
is
 
di¡ribu‹d
 
š
 
the
 
hİe
 
th©
 
™
 
wl
 
be
 
u£ful
,

8 #buˆ
WITHOUT
 
ANY
 
WARRANTY
; 
w™hout
 
ev’
 
the
 
im¶›d
 
w¬¿Áy
 
of


9 #MERCHANTABILITY 
Ü
 
FITNESS
 
FOR
 
A
 
PARTICULAR
 
PURPOSE
. 
S“
 
the


10 #GNU 
G’”®
 
Public
 
Liûn£
 
mÜe
 
d‘as
.

11 #
#You 
should
 
have
 
»ûived
 
a
 
cİy
 
of
 
the
 
GNU
 
G’”®
 
Public
 
Liûn£


12 #®Úg 
w™h
 
this
 
´og¿m
; 
nÙ
, 
wr™e
 
to
 
the
 
F»e
 
Soáw¬e


13 #Found©iÚ, 
Inc
., 51 
F¿nklš
 
SŒ“t
, 
Fiáh
 
FloÜ
, 
Bo¡Ú
, 
MA
 02110-1301 
USA


17 
T”mš©ÜV”siÚ
 
suµl›s
 
our
 
v”siÚ
 
	gnumb”
.

20 
	gAPP_NAME
 = 'terminator'

21 
APP_VERSION
 = '0.96'

	@/home/zq/Project/terminator-0.96/terminatorlib/window.py

1 #!/
u¤
/
bš
/
pythÚ


2 #T”mš©Ü 
by
 
Chris
 
JÚes
 <
cmsj
@
‹nshu
.
Ãt
>

3 #GPL 
v2
 
Úly


6 
impÜt
 
cİy


7 
impÜt
 
time


8 
impÜt
 
pygtk


9 
	gpygtk
.
»quœe
('2.0')

10 
impÜt
 
gobjeù


11 
impÜt
 
gtk


13 
äom
 
ut
 
impÜt
 
	gdbg
, 
”r


14 
impÜt
 
ut


15 
äom
 
Œª¦©iÚ
 
impÜt
 
_


16 
äom
 
v”siÚ
 
impÜt
 
APP_NAME


17 
äom
 
cÚš”
 
impÜt
 
CÚš”


18 
äom
 
çùÜy
 
impÜt
 
FaùÜy


19 
äom
 
‹rmš©Ü
 
impÜt
 
T”mš©Ü


21 
	gŒy
:

22 
impÜt
 
keybšd”


23 
exû±
 
ImpÜtE¼Ü
:

24 
”r
('Warning:…ython-keybinder is‚ot installed. This meanshe \
_window shortcut will be unavailable')

27 #pylšt: 
di§bË
-
msg
=
R0904


28 
şass
 
	$Wšdow
(
CÚš”
, 
gtk
.
Wšdow
):

31 
‹rmš©Ü
 = 
NÚe


32 
t™Ë
 = 
NÚe


33 
isfuÎsü“n
 = 
NÚe


34 
ismaximi£d
 = 
NÚe


35 
hidebound
 = 
NÚe


36 
hidefunc
 = 
NÚe


37 
lo£focus_time
 = 0

38 
pos™iÚ
 = 
NÚe


39 
ignÜe_¡¬tup_show
 = 
NÚe


41 
zoom_d©a
 = 
NÚe


43 
‹rm_zoomed
 = 
F®£


44 
__g´İ”t›s__
 = {

45 '‹rm_zoomed': (
gobjeù
.
TYPE_BOOLEAN
,

48 
F®£
,

49 
gobjeù
.
PARAM_READWRITE
)

50 
	}
}

52 
def
 
	$__š™__
(
£lf
):

54 
£lf
.
‹rmš©Ü
 = 
	$T”mš©Ü
()

55 
£lf
.
‹rmš©Ü
.
	$»gi¡”_wšdow
(
£lf
)

57 
CÚš”
.
	$__š™__
(
£lf
)

58 
gtk
.
Wšdow
.
	$__š™__
(
£lf
)

59 
gobjeù
.
	$ty³_»gi¡”
(
Wšdow
)

60 
£lf
.
	$»gi¡”_sigÇls
(
Wšdow
)

62 
£lf
.
	`£t_´İ”ty
('®low-shršk', 
True
)

63 
£lf
.
	$­¶y_icÚ
()

65 
£lf
.
	$»gi¡”_ÿÎbacks
()

66 
£lf
.
	$­¶y_cÚfig
()

68 
£lf
.
t™Ë
 = 
	$WšdowT™Ë
(
£lf
)

69 
£lf
.
t™Ë
.
	$upd©e
()

71 
İtiÚs
 = 
£lf
.
cÚfig
.
	$İtiÚs_g‘
()

72 
İtiÚs
:

73 
İtiÚs
.
fÜûdt™Ë
 
is
 
nÙ
 
NÚe
:

74 
£lf
.
t™Ë
.
	$fÜû_t™Ë
(
İtiÚs
.
fÜûdt™Ë
)

76 
İtiÚs
.
rŞe
 
is
 
nÙ
 
NÚe
:

77 
£lf
.
	$£t_rŞe
(
İtiÚs
.
rŞe
)

79 
İtiÚs
.
geom‘ry
 
is
 
nÙ
 
NÚe
:

80 
nÙ
 
£lf
.
	$·r£_geom‘ry
(
İtiÚs
.
geom‘ry
):

81 
	`”r
('Window::__init__: Unableo…arse geometry: %s' %

82 
İtiÚs
.
geom‘ry
)

84 
£lf
.
³ndšg_£t_rough_geom‘ry_hšt
 = 
F®£


86 
def
 
	$do_g‘_´İ”ty
(
£lf
, 
´İ
):

88 
´İ
.
Çme
 
š
 ['term_zoomed', 'term-zoomed']:

89 (
£lf
.
‹rm_zoomed
)

91 
¿i£
 
	`A‰ribu‹E¼Ü
('unknowÀ´İ”ty %s' % 
´İ
.
Çme
)

93 
def
 
	$do_£t_´İ”ty
(
£lf
, 
´İ
, 
v®ue
):

95 
´İ
.
Çme
 
š
 ['term_zoomed', 'term-zoomed']:

96 
£lf
.
‹rm_zoomed
 = 
v®ue


98 
¿i£
 
	`A‰ribu‹E¼Ü
('unknowÀ´İ”ty %s' % 
´İ
.
Çme
)

100 
def
 
	$»gi¡”_ÿÎbacks
(
£lf
):

102 
£lf
.
	`cÚÃù
('key-´ess-ev’t', s–f.
Ú_key_´ess
)

103 
£lf
.
	`cÚÃù
('bu‰Ú-´ess-ev’t', s–f.
Ú_bu‰Ú_´ess
)

104 
£lf
.
	`cÚÃù
('d–‘e_ev’t', s–f.
Ú_d–‘e_ev’t
)

105 
£lf
.
	`cÚÃù
('de¡roy', s–f.
Ú_de¡roy_ev’t
)

106 
£lf
.
	`cÚÃù
('wšdow-¡©e-ev’t', s–f.
Ú_wšdow_¡©e_chªged
)

107 
£lf
.
	`cÚÃù
('focus-out-ev’t', s–f.
Ú_focus_out
)

108 
£lf
.
	`cÚÃù
('focus-š-ev’t', s–f.
Ú_focus_š
)

110 #A‰em± 
to
 
g¿b
 
a
 
glob®
 
hÙkey
 
hidšg
 
the
 
wšdow
.

111 #Ià
we
 
ç
, we'll‚ever hidehe window, iconifying instead.

112 
Œy
:

113 
£lf
.
hidebound
 = 
keybšd”
.
	`bšd
(

114 
£lf
.
cÚfig
['keybindings']['hide_window'],

115 
£lf
.
Ú_hide_wšdow
)

116 
	$exû±
 (
KeyE¼Ü
, 
NameE¼Ü
):

117 
·ss


119 
nÙ
 
£lf
.
hidebound
:

120 
	`”r
('Unableo bind hide_window key,‡nother instance/window has it.')

121 
£lf
.
hidefunc
 = s–f.
icÚify


123 
£lf
.
hidefunc
 = s–f.
hide


125 
def
 
	$­¶y_cÚfig
(
£lf
):

127 
İtiÚs
 = 
£lf
.
cÚfig
.
	$İtiÚs_g‘
()

128 
maximi£
 = 
£lf
.
cÚfig
['window_state'] == 'maximise'

129 
fuÎsü“n
 = 
£lf
.
cÚfig
['window_state'] == 'fullscreen'

130 
hidd’
 = 
£lf
.
cÚfig
['window_state'] == 'hidden'

131 
bÜd”Ëss
 = 
£lf
.
cÚfig
['borderless']

132 
skskb¬
 = 
£lf
.
cÚfig
['hide_from_taskbar']

133 
®waysÚtİ
 = 
£lf
.
cÚfig
['always_on_top']

134 
¡icky
 = 
£lf
.
cÚfig
['sticky']

136 
İtiÚs
:

137 
İtiÚs
.
maximi£
:

138 
maximi£
 = 
True


139 
İtiÚs
.
fuÎsü“n
:

140 
fuÎsü“n
 = 
True


141 
İtiÚs
.
hidd’
:

142 
hidd’
 = 
True


143 
İtiÚs
.
bÜd”Ëss
:

144 
bÜd”Ëss
 = 
True


146 
£lf
.
	$£t_fuÎsü“n
(
fuÎsü“n
)

147 
£lf
.
	$£t_maximi£d
(
maximi£
)

148 
£lf
.
	$£t_bÜd”Ëss
(
bÜd”Ëss
)

149 
£lf
.
	$£t_®ways_Ú_tİ
(
®waysÚtİ
)

150 
£lf
.
	$£t_»®_Œª¥¬’cy
()

151 
£lf
.
	$£t_¡icky
(
¡icky
)

152 
£lf
.
hidebound
:

153 
£lf
.
	$£t_hidd’
(
hidd’
)

154 
£lf
.
	$£t_sk_skb¬_hšt
(
skskb¬
)

156 
£lf
.
	$£t_icÚif›d
(
hidd’
)

158 
def
 
	$­¶y_icÚ
(
£lf
):

160 
icÚ_theme
 = 
gtk
.
	$IcÚTheme
()

162 
Œy
:

163 
icÚ
 = 
icÚ_theme
.
	$lßd_icÚ
(
APP_NAME
, 48, 0)

164 
	$exû±
 (
NameE¼Ü
, 
gobjeù
.
GE¼Ü
):

165 
	`dbg
('Unableo†oad 48px Terminator icon')

166 
icÚ
 = 
£lf
.
	$»nd”_icÚ
(
gtk
.
STOCK_DIALOG_INFO
, gtk.
ICON_SIZE_BUTTON
)

168 
£lf
.
	$£t_icÚ
(
icÚ
)

170 
def
 
	$Ú_key_´ess
(
£lf
, 
wšdow
, 
ev’t
):

172 
mak”
 = 
	$FaùÜy
()

174 
£lf
.
	$£t_urg’cy_hšt
(
F®£
)

176 
m­pšg
 = 
£lf
.
‹rmš©Ü
.
keybšdšgs
.
	$lookup
(
ev’t
)

178 
m­pšg
:

179 
	`dbg
('Wšdow::Ú_key_´ess:†ooked u°%r' % 
m­pšg
)

180 
m­pšg
 == 'full_screen':

181 
£lf
.
	$£t_fuÎsü“n
(
nÙ
 
£lf
.
isfuÎsü“n
)

182 
–if
 
m­pšg
 == 'close_window':

183 
nÙ
 
£lf
.
	`Ú_d–‘e_ev’t
(
wšdow
,

184 
gtk
.
gdk
.
	$Ev’t
(
gtk
.
gdk
.
DELETE
)):

185 
£lf
.
	`Ú_de¡roy_ev’t
(
wšdow
,

186 
gtk
.
gdk
.
	$Ev’t
(
gtk
.
gdk
.
DESTROY
))

187 
–if
 
m­pšg
 == 'new_tab':

188 
£lf
.
	`b_Ãw
(£lf.
	$g‘_focus£d_‹rmš®
())

190 (
F®£
)

191 (
True
)

193 
def
 
	$Ú_bu‰Ú_´ess
(
£lf
, 
wšdow
, 
ev’t
):

195 
ÿnûl
 
ªy
 
urg’cy
 
hšts
 
th©
 
¬e
 
£t
."""

196 
£lf
.
	$£t_urg’cy_hšt
(
F®£
)

197 (
F®£
)

199 
def
 
	$Ú_focus_out
(
£lf
, 
wšdow
, 
ev’t
):

201 
‹rmš®
 
š
 
£lf
.
	$g‘_visibË_‹rmš®s
():

202 
‹rmš®
.
	$Ú_wšdow_focus_out
()

204 
£lf
.
lo£focus_time
 = 
time
.
	$time
()

205 
£lf
.
cÚfig
['hide_Ú_lo£_focus'] 
ªd
 s–f.
	`g‘_´İ”ty
('visible'):

206 
£lf
.
pos™iÚ
 = s–f.
	$g‘_pos™iÚ
()

207 
£lf
.
	$hidefunc
()

209 
def
 
	$Ú_focus_š
(
£lf
, 
wšdow
, 
ev’t
):

211 
£lf
.
	$£t_urg’cy_hšt
(
F®£
)

212 #FIXME: 
Cau£
 
the
 
‹rmš®
 
t™Ëb¬s
 
to
 
upd©e
 
h”e


214 
def
 
	$is_chd_nÙebook
(
£lf
):

216 
mak”
 = 
	$FaùÜy
()

217 (
mak”
.
	`isš¡ªû
(
£lf
.
	`g‘_chd
(), 'Notebook'))

219 
def
 
	$b_Ãw
(
£lf
, 
widg‘
=
NÚe
, 
debugb
=
F®£
, 
_·¿m1
=NÚe, 
_·¿m2
=None):

221 
cwd
 = 
NÚe


223 
£lf
.
	`g‘_´İ”ty
('‹rm_zoomed'è=ğ
True
:

224 
	`”r
("You can't create‡ab while‡erminal is maximised/zoomed")

227 
widg‘
:

228 
cwd
 = 
widg‘
.
	$g‘_cwd
()

229 
mak”
 = 
	$FaùÜy
()

230 
nÙ
 
£lf
.
	$is_chd_nÙebook
():

231 
	`dbg
('Making‡‚ew Notebook')

232 
nÙebook
 = 
mak”
.
	`make
('NÙebook', 
wšdow
=
£lf
)

233 
£lf
.
	`g‘_chd
().
	$Ãwb
(
debugb
, 
cwd
=cwd)

235 
def
 
	$Ú_d–‘e_ev’t
(
£lf
, 
wšdow
, 
ev’t
, 
d©a
=
NÚe
):

237 
mak”
 = 
	$FaùÜy
()

238 
mak”
.
	`isš¡ªû
(
£lf
.
	`g‘_chd
(), 'Terminal'):

239 
	`dbg
('Window::on_delete_event: Only one child, closing is fine')

240 (
F®£
)

241 
–if
 
mak”
.
	`isš¡ªû
(
£lf
.
	`g‘_chd
(), 'Container'):

242 (
£lf
.
	`cÚfœm_şo£
(
wšdow
, 
	`_
('window')))

244 
	`dbg
('unknowÀchd: %s' % 
£lf
.
	$g‘_chd
())

246 
def
 
	$cÚfœm_şo£
(
£lf
, 
wšdow
, 
ty³
):

248 
‹rmš®s
 
š
 
Úe
 
wšdow
"""

249 
dŸlog
 = 
£lf
.
	$cÚ¡ruù_cÚfœm_şo£
(
wšdow
, 
ty³
)

250 
»suÉ
 = 
dŸlog
.
	$run
()

251 
dŸlog
.
	$de¡roy
()

252 (
	$nÙ
 (
»suÉ
 =ğ
gtk
.
RESPONSE_ACCEPT
))

254 
def
 
	$Ú_de¡roy_ev’t
(
£lf
, 
widg‘
, 
d©a
=
NÚe
):

256 
	`dbg
('destroying self')

257 
‹rmš®
 
š
 
£lf
.
	$g‘_visibË_‹rmš®s
():

258 
‹rmš®
.
	$şo£
()

259 
£lf
.
úxids
.
	$»move_®l
()

260 
£lf
.
‹rmš©Ü
.
	$d”egi¡”_wšdow
(
£lf
)

261 
£lf
.
	$de¡roy
()

262 
	$d–
(
£lf
)

264 
def
 
	$Ú_hide_wšdow
(
£lf
, 
d©a
=
NÚe
):

267 
nÙ
 
£lf
.
	`g‘_´İ”ty
('visible'):

269 #lo¡ 
focus


270 ià(
time
.
	`time
(è- 
£lf
.
lo£focus_time
 < 0.1è
ªd
 \

271 
£lf
.
cÚfig
['hide_on_lose_focus']:

273 
£lf
.
pos™iÚ
:

274 
£lf
.
	$move
(
£lf
.
pos™iÚ
[0], self.position[1])

275 
£lf
.
	$show
()

277 
£lf
.
pos™iÚ
 = s–f.
	$g‘_pos™iÚ
()

278 
£lf
.
	$hidefunc
()

280 #pylšt: 
di§bË
-
msg
=
W0613


281 
def
 
	$Ú_wšdow_¡©e_chªged
(
£lf
, 
wšdow
, 
ev’t
):

283 
£lf
.
isfuÎsü“n
 = 
	$boŞ
(
ev’t
.
Ãw_wšdow_¡©e
 &

284 
gtk
.
gdk
.
WINDOW_STATE_FULLSCREEN
)

285 
£lf
.
ismaximi£d
 = 
	$boŞ
(
ev’t
.
Ãw_wšdow_¡©e
 &

286 
gtk
.
gdk
.
WINDOW_STATE_MAXIMIZED
)

287 
	`dbg
('Window::on_window_state_changed: fullscreen=%s, maximised=%s' \

288 % (
£lf
.
isfuÎsü“n
, s–f.
ismaximi£d
))

290 (
F®£
)

292 
def
 
	$£t_maximi£d
(
£lf
, 
v®ue
):

294 
v®ue
 =ğ
True
:

295 
£lf
.
	$maximize
()

297 
£lf
.
	$unmaximize
()

299 
def
 
	$£t_fuÎsü“n
(
£lf
, 
v®ue
):

301 
v®ue
 =ğ
True
:

302 
£lf
.
	$fuÎsü“n
()

304 
£lf
.
	$unfuÎsü“n
()

306 
def
 
	$£t_bÜd”Ëss
(
£lf
, 
v®ue
):

308 
£lf
.
	$£t_decÜ©ed
 (
nÙ
 
v®ue
)

310 
def
 
	$£t_hidd’
(
£lf
, 
v®ue
):

312 
v®ue
 =ğ
True
:

313 
£lf
.
ignÜe_¡¬tup_show
 = 
True


315 
£lf
.
ignÜe_¡¬tup_show
 = 
F®£


317 
def
 
	$£t_icÚif›d
(
£lf
, 
v®ue
):

319 
v®ue
 =ğ
True
:

320 
£lf
.
	$icÚify
()

322 
def
 
	$£t_®ways_Ú_tİ
(
£lf
, 
v®ue
):

324 
£lf
.
	$£t_k“p_above
(
v®ue
)

326 
def
 
	$£t_¡icky
(
£lf
, 
v®ue
):

328 
v®ue
 =ğ
True
:

329 
£lf
.
	$¡ick
()

331 
def
 
	$£t_»®_Œª¥¬’cy
(
£lf
, 
v®ue
=
True
):

333 
£lf
.
	`is_compos™ed
(è=ğ
F®£
:

334 
v®ue
 = 
F®£


336 
sü“n
 = 
£lf
.
	$g‘_sü“n
()

337 
v®ue
:

338 
	`dbg
('setting„gba colormap')

339 
cŞÜm­
 = 
sü“n
.
	$g‘_rgba_cŞÜm­
()

341 
	`dbg
('setting„gb colormap')

342 
cŞÜm­
 = 
sü“n
.
	$g‘_rgb_cŞÜm­
()

344 
cŞÜm­
:

345 
£lf
.
	$£t_cŞÜm­
(
cŞÜm­
)

347 
def
 
	$show
(
£lf
, 
¡¬tup
=
F®£
):

349 
gtk
.
Wšdow
.
	$show
(
£lf
)

350 #P»£Á 
is
 
Ãûs§ry
 
to
 
g¿b
 
focus
 
wh’
 
wšdow
 i 
hidd’
 
äom
 
skb¬


351 
£lf
.
	$´e£Á
()

353 #Wšdow 
mu¡
 
be
 
shown
, 
th’
 
hidd’
 
the
 
hÙkeys
 
to
 b
»gi¡”ed


354 ià(
£lf
.
ignÜe_¡¬tup_show
 
ªd
 
¡¬tup
 =ğ
True
):

355 
£lf
.
	$hide
()

358 
def
 
	$add
(
£lf
, 
widg‘
, 
m‘ad©a
=
NÚe
):

360 
mak”
 = 
	$FaùÜy
()

361 
gtk
.
Wšdow
.
	$add
(
£lf
, 
widg‘
)

362 
mak”
.
	`isš¡ªû
(
widg‘
, 'Terminal'):

363 
sigÇls
 = {'şo£-‹rm': 
£lf
.
şo£‹rm
,

364 't™Ë-chªge': 
£lf
.
t™Ë
.
£t_t™Ë
,

365 '¥l™-hÜiz': 
£lf
.
¥l™_hÜiz
,

366 '¥l™-v”t': 
£lf
.
¥l™_v”t
,

367 'unzoom': 
£lf
.
unzoom
,

368 'b-chªge': 
£lf
.
b_chªge
,

369 'group-®l': 
£lf
.
group_®l
,

370 'ungroup-®l': 
£lf
.
ungroup_®l
,

371 'group-b': 
£lf
.
group_b
,

372 'ungroup-b': 
£lf
.
ungroup_b
,

373 'move-b': 
£lf
.
move_b
,

374 'b-Ãw': [
£lf
.
b_Ãw
, 
widg‘
],

375 'Çvig©e': 
£lf
.
Çvig©e_‹rmš®
}

377 
sigÇl
 
š
 
sigÇls
:

378 
¬gs
 = []

379 
hªdËr
 = 
sigÇls
[
sigÇl
]

380 
	$isš¡ªû
(
hªdËr
, 
li¡
):

381 
¬gs
 = 
hªdËr
[1:]

382 
hªdËr
 = handler[0]

383 
£lf
.
	$cÚÃù_chd
(
widg‘
, 
sigÇl
, 
hªdËr
, *
¬gs
)

385 
widg‘
.
	$g¿b_focus
()

387 
def
 
	$»move
(
£lf
, 
widg‘
):

389 
gtk
.
Wšdow
.
	$»move
(
£lf
, 
widg‘
)

390 
£lf
.
	$discÚÃù_chd
(
widg‘
)

391 (
True
)

393 
def
 
	$g‘_chd»n
(
£lf
):

395 
chd»n
 = []

396 
chd»n
.
	`­³nd
(
£lf
.
	$g‘_chd
())

397 (
chd»n
)

399 
def
 
	$hoov”
(
£lf
):

401 
nÙ
 
£lf
.
	$g‘_chd
():

402 
£lf
.
	`em™
('destroy')

404 
def
 
	$şo£‹rm
(
£lf
, 
widg‘
):

406 
CÚš”
.
	$şo£‹rm
(
£lf
, 
widg‘
)

407 
£lf
.
	$hoov”
()

409 
def
 
	$¥l™_axis
(
£lf
, 
widg‘
, 
v”tiÿl
=
True
, 
cwd
=
NÚe
, 
siblšg
=NÚe, 
widg‘fœ¡
=True):

411 
£lf
.
	`g‘_´İ”ty
('‹rm_zoomed'è=ğ
True
:

412 
	`”r
("You can't split while‡erminal is maximised/zoomed")

415 
Üd”
 = 
NÚe


416 
mak”
 = 
	$FaùÜy
()

417 
£lf
.
	$»move
(
widg‘
)

419 
v”tiÿl
:

420 
cÚš”
 = 
mak”
.
	`make
('VPaned')

422 
cÚš”
 = 
mak”
.
	`make
('HPaned')

424 
nÙ
 
siblšg
:

425 
siblšg
 = 
mak”
.
	`make
('Terminal')

426 
siblšg
.
	$£t_cwd
(
cwd
)

427 
siblšg
.
	$¥awn_chd
()

428 
£lf
.
	$add
(
cÚš”
)

429 
cÚš”
.
	$show_®l
()

431 
Üd”
 = [
widg‘
, 
siblšg
]

432 
widg‘fœ¡
 
is
 
F®£
:

433 
Üd”
.
	$»v”£
()

435 
‹rm
 
š
 
Üd”
:

436 
cÚš”
.
	$add
(
‹rm
)

437 
cÚš”
.
	$show_®l
()

439 
def
 
	$zoom
(
£lf
, 
widg‘
, 
fÚt_sÿË
=
True
):

441 
chd»n
 = 
£lf
.
	$g‘_chd»n
()

443 
widg‘
 
š
 
chd»n
:

444 #Thi 
widg‘
 
is
 
a
 
dœeù
 
chd
 
of
 
ours
 
ªd
 
we
're‡ Window

445 #sØ
zoomšg
 
is
 
a
 
no
-
İ


448 
£lf
.
zoom_d©a
 = 
widg‘
.
	$g‘_zoom_d©a
()

449 
£lf
.
zoom_d©a
['widg‘'] = 
widg‘


450 
£lf
.
zoom_d©a
['Şd_chd'] = 
chd»n
[0]

451 
£lf
.
zoom_d©a
['fÚt_sÿË'] = 
fÚt_sÿË


453 
£lf
.
	`»move
(£lf.
zoom_d©a
['old_child'])

454 
£lf
.
zoom_d©a
['Şd_·»Á'].
	$»move
(
widg‘
)

455 
£lf
.
	$add
(
widg‘
)

456 
£lf
.
	`£t_´İ”ty
('‹rm_zoomed', 
True
)

458 
fÚt_sÿË
:

459 
widg‘
.
úxids
.
	`Ãw
(widget, 'size-allocate',

460 
widg‘
.
zoom_sÿË
, 
£lf
.
zoom_d©a
)

462 
widg‘
.
	$g¿b_focus
()

464 
def
 
	$unzoom
(
£lf
, 
widg‘
):

466 
nÙ
 
£lf
.
	`g‘_´İ”ty
('term_zoomed'):

468 
	`dbg
('Window::unzoom:‚ot zoomed,‚o-op')

471 
widg‘
 = 
£lf
.
zoom_d©a
['widget']

472 
£lf
.
zoom_d©a
['font_scale']:

473 
widg‘
.
v‹
.
	`£t_fÚt
(
£lf
.
zoom_d©a
['old_font'])

475 
£lf
.
	$»move
(
widg‘
)

476 
£lf
.
	`add
(£lf.
zoom_d©a
['old_child'])

477 
£lf
.
zoom_d©a
['Şd_·»Á'].
	$add
(
widg‘
)

478 
widg‘
.
	$g¿b_focus
()

479 
£lf
.
zoom_d©a
 = 
NÚe


480 
£lf
.
	`£t_´İ”ty
('‹rm_zoomed', 
F®£
)

482 
def
 
	$g‘_visibË_‹rmš®s
(
£lf
):

484 
Mo¡ly
 
usšg
 
CÚš”
::
	`g‘_visibË_‹rmš®s
()"""

485 
‹rmš®s
 = {
	}
}

486 
nÙ
 
ha§‰r
(
£lf
, 'cached_maker'):

487 
£lf
.
ÿched_mak”
 = 
	$FaùÜy
()

488 
mak”
 = 
£lf
.
ÿched_mak”


489 
chd
 = 
£lf
.
	$g‘_chd
()

491 
nÙ
 
chd
:

494 #Ià
our
 
chd
 
is
 
a
 
NÙebook
, 
»£t
 
to
 
wÜk
 
äom
 
™s
 
visibË
 child

495 
mak”
.
	`isš¡ªû
(
chd
, 'Notebook'):

496 
·g’um
 = 
chd
.
	$g‘_cu¼’t_·ge
()

497 
chd
 = chd.
	$g‘_Áh_·ge
(
·g’um
)

499 
mak”
.
	`isš¡ªû
(
chd
, 'Container'):

500 
‹rmš®s
.
	`upd©e
(
chd
.
	$g‘_visibË_‹rmš®s
())

501 
–if
 
mak”
.
	`isš¡ªû
(
chd
, 'Terminal'):

502 
‹rmš®s
[
chd
] = chd.
	$g‘_®loÿtiÚ
()

504 
	`”r
('UnknowÀchdy³ %s' % 
	$ty³
(
chd
))

506 (
‹rmš®s
)

508 
def
 
	$g‘_focus£d_‹rmš®
(
£lf
):

510 
‹rmš®s
 = 
£lf
.
	$g‘_visibË_‹rmš®s
()

511 
‹rmš®
 
š
 
‹rmš®s
:

512 
‹rmš®
.
v‹
.
	$is_focus
():

513 (
‹rmš®
)

514 (
NÚe
)

516 
def
 
	$deã¼ed_£t_rough_geom‘ry_hšts
(
£lf
):

517 #nØ
·¿m‘”s
 
¬e
 
u£d
 
š
 
£t_rough_geom‘ry_hšts
, 
so
 
we
 
ÿn


518 #u£ 
the
 
£t_rough_geom‘ry_hšts


519 
£lf
.
³ndšg_£t_rough_geom‘ry_hšt
 =ğ
True
:

521 
£lf
.
³ndšg_£t_rough_geom‘ry_hšt
 = 
True


522 
gobjeù
.
	$idË_add
(
£lf
.
do_deã¼ed_£t_rough_geom‘ry_hšts
)

524 
def
 
	$do_deã¼ed_£t_rough_geom‘ry_hšts
(
£lf
):

525 
£lf
.
³ndšg_£t_rough_geom‘ry_hšt
 = 
F®£


526 
£lf
.
	$£t_rough_geom‘ry_hšts
()

528 
def
 
	$£t_rough_geom‘ry_hšts
(
£lf
):

530 
mªy
 
cŞumns
/
rows
 
we
 
sÜt
 
of
 
have
"""

531 
nÙ
 
	`ha§‰r
(
£lf
, 'cached_maker'):

532 
£lf
.
ÿched_mak”
 = 
	$FaùÜy
()

533 
mak”
 = 
£lf
.
ÿched_mak”


534 
mak”
.
	`isš¡ªû
(
£lf
.
	`g‘_chd
(), 'Notebook'):

535 
	`dbg
("We don't currently support geometry hinting withabs")

538 
‹rmš®s
 = 
£lf
.
	$g‘_visibË_‹rmš®s
()

539 
cŞumn_sum
 = 0

540 
row_sum
 = 0

542 
‹rmš®
 
š
 
‹rmš®s
:

543 
»ù
 = 
‹rmš®
.
	$g‘_®loÿtiÚ
()

544 
»ù
.
x
 == 0:

545 
cŞs
, 
rows
 = 
‹rmš®
.
	$g‘_size
()

546 
row_sum
 =„ow_sum + 
rows


547 
»ù
.
y
 == 0:

548 
cŞs
, 
rows
 = 
‹rmš®
.
	$g‘_size
()

549 
cŞumn_sum
 = cŞumn_sum + 
cŞs


551 
cŞumn_sum
 =ğ0 
Ü
 
row_sum
 == 0:

552 
	`dbg
('column_sum=%s,row_sum=%s. Noerminals found in >=1‡xis' %

553 (
cŞumn_sum
, 
row_sum
))

556 #FIXME: 
I
 
dÚ
'think we should just use whatever font size info is on

557 #th
Ï¡
 
‹rmš®
 
we
 
š¥eùed
. 
Lookšg
 
up
 
the
  
´ofe
 
fÚt


558 #siz
ªd
 
ÿlcuÏtšg
 
™s
 
ch¬aù”
 
sizes
 
would
 
be
 
¿th”
 
ex³nsive


560 
fÚt_width
, 
fÚt_height
 = 
‹rmš®
.
	$g‘_fÚt_size
()

561 
tÙ®_fÚt_width
 = 
fÚt_width
 * 
cŞumn_sum


562 
tÙ®_fÚt_height
 = 
fÚt_height
 * 
row_sum


564 
wš_width
, 
wš_height
 = 
£lf
.
	$g‘_size
()

565 
exŒa_width
 = 
wš_width
 - 
tÙ®_fÚt_width


566 
exŒa_height
 = 
wš_height
 - 
tÙ®_fÚt_height


568 
	`dbg
('£‰šg geom‘ry hšts: (ewidth:%s)Óheight:%s),\
(fwidth:%s)(fheight:%s)' % (
exŒa_width
, 
exŒa_height
,

570 
fÚt_width
, 
fÚt_height
))

571 
£lf
.
	`£t_geom‘ry_hšts
(£lf, -1, -1, -1, -1, 
exŒa_width
,

572 
exŒa_height
, 
fÚt_width
, 
fÚt_height
, -1.0, -1.0)

574 
def
 
	$b_chªge
(
£lf
, 
widg‘
, 
num
=
NÚe
):

576 
num
 
is
 
NÚe
:

577 
	`”r
('must specify‡abo changeo')

579 
mak”
 = 
	$FaùÜy
()

580 
chd
 = 
£lf
.
	$g‘_chd
()

582 
nÙ
 
mak”
.
	`isš¡ªû
(
chd
, 'Notebook'):

583 
	`dbg
('child is‚ot‡‚otebook,‚othingo changeo')

586 
num
 == -1:

587 #GØ
to
 
the
 
Ãxt
 
b


588 
cur
 = 
chd
.
	$g‘_cu¼’t_·ge
()

589 
·ges
 = 
chd
.
	$g‘_n_·ges
()

590 
cur
 =ğ
·ges
 - 1:

591 
num
 = 0

593 
num
 = 
cur
 + 1

594 
–if
 
num
 == -2:

595 #GØ
to
 
the
 
´evious
 
b


596 
cur
 = 
chd
.
	$g‘_cu¼’t_·ge
()

597 
cur
 > 0:

598 
num
 = 
cur
 - 1

600 
num
 = 
chd
.
	`g‘_n_·ges
() - 1

602 
chd
.
	$£t_cu¼’t_·ge
(
num
)

603 #WÜk 
¬ound
 
¡¿nge
 
bug
 
š
 
gtk
-2.12.11 
ªd
 
pygtk
-2.12.1

604 #W™houˆ
™
, 
the
 
£ËùiÚ
 
chªges
, 
but
h
di¥Ïyed
 
·ge
 
dÛ¢
't

606 
chd
.
	`£t_cu¼’t_·ge
(chd.
	$g‘_cu¼’t_·ge
())

608 #FIXME: 
AÎ
 
of
 
	`the£
 (
un
)
	`group_
(
®l
|
b
è
m‘hods
 
Ãed
 
»çùÜšg
 
wÜk


609 
def
 
	$group_®l
(
£lf
, 
widg‘
):

611 #FIXME: 
Why
 
i¢
'this being done by Terminator() ?

612 
group
 = 
	`_
('All')

613 
£lf
.
‹rmš©Ü
.
	$ü—‹_group
(
group
)

614 
‹rmš®
 
š
 
£lf
.
‹rmš©Ü
.
‹rmš®s
:

615 
‹rmš®
.
	$£t_group
(
NÚe
, 
group
)

617 
def
 
	$ungroup_®l
(
£lf
, 
widg‘
):

619 
‹rmš®
 
š
 
£lf
.
‹rmš©Ü
.
‹rmš®s
:

620 
‹rmš®
.
	$£t_group
(
NÚe
, None)

622 
def
 
	$group_b
(
£lf
, 
widg‘
):

624 
mak”
 = 
	$FaùÜy
()

625 
nÙebook
 = 
£lf
.
	$g‘_chd
()

627 
nÙ
 
mak”
.
	`isš¡ªû
(
nÙebook
, 'Notebook'):

628 
	`dbg
('not in‡‚otebook,„efusingo groupab')

631 
·g’um
 = 
nÙebook
.
	$g‘_cu¼’t_·ge
()

632 
True
:

633 
group
 = 
	`_
('Tab %d'è% 
·g’um


634 
group
 
nÙ
 
š
 
£lf
.
‹rmš©Ü
.
groups
:

636 
·g’um
 += 1

637 
‹rmš®
 
š
 
£lf
.
	$g‘_visibË_‹rmš®s
():

638 
‹rmš®
.
	$£t_group
(
NÚe
, 
group
)

640 
def
 
	$ungroup_b
(
£lf
, 
widg‘
):

642 
mak”
 = 
	$FaùÜy
()

643 
nÙebook
 = 
£lf
.
	$g‘_chd
()

645 
nÙ
 
mak”
.
	`isš¡ªû
(
nÙebook
, 'Notebook'):

646 
	`dbg
('note in‡‚otebook,„efusingo ungroupab')

649 
‹rmš®
 
š
 
£lf
.
	$g‘_visibË_‹rmš®s
():

650 
‹rmš®
.
	$£t_group
(
NÚe
, None)

652 
def
 
	$move_b
(
£lf
, 
widg‘
, 
dœeùiÚ
):

654 
mak”
 = 
	$FaùÜy
()

655 
nÙebook
 = 
£lf
.
	$g‘_chd
()

657 
nÙ
 
mak”
.
	`isš¡ªû
(
nÙebook
, 'Notebook'):

658 
	`dbg
('nÙ iÀ¨nÙebook,„efusšgØmovb %s' % 
dœeùiÚ
)

661 
	`dbg
('movšgab %s' % 
dœeùiÚ
)

662 
num·ges
 = 
nÙebook
.
	$g‘_n_·ges
()

663 
·ge
 = 
nÙebook
.
	$g‘_cu¼’t_·ge
()

664 
chd
 = 
nÙebook
.
	$g‘_Áh_·ge
(
·ge
)

666 
dœeùiÚ
 == 'left':

667 
·ge
 == 0:

668 
·ge
 = 
num·ges


670 
·ge
 =…age - 1

671 
–if
 
dœeùiÚ
 == 'right':

672 
·ge
 =ğ
num·ges
 - 1:

673 
·ge
 = 0

675 
·ge
 =…age + 1

677 
	`”r
('unknowÀdœeùiÚ: %s' % 
dœeùiÚ
)

680 
nÙebook
.
	$»Üd”_chd
(
chd
, 
·ge
)

682 
def
 
	$Çvig©e_‹rmš®
(
£lf
, 
‹rmš®
, 
dœeùiÚ
):

684 
_cÚš”s
, 
‹rmš®s
 = 
ut
.
	$’um”©e_desûndªts
(
£lf
)

685 
visibËs
 = 
£lf
.
	$g‘_visibË_‹rmš®s
()

686 
cu¼’t
 = 
‹rmš®s
.
	$šdex
(
‹rmš®
)

687 
Ëngth
 = 
	$Ën
(
‹rmš®s
)

688 
Ãxt
 = 
NÚe


690 
Ëngth
 <ğ1 
Ü
 
	`Ën
(
visibËs
) <= 1:

693 
dœeùiÚ
 
š
 ['next', 'prev']:

694 
tm±”ms
 = 
cİy
.
	$cİy
(
‹rmš®s
)

695 
tm±”ms
 =m±”ms[
cu¼’t
+1:]

696 
tm±”ms
.
	`ex‹nd
(
‹rmš®s
[0:
cu¼’t
])

698 
dœeùiÚ
 == 'next':

699 
tm±”ms
.
	$»v”£
()

701 
Ãxt
 = 0

702 
	`Ën
(
tm±”ms
) > 0:

703 
tmp™em
 = 
tm±”ms
.
	$pİ
()

704 
tmp™em
 
š
 
visibËs
:

705 
Ãxt
 = 
‹rmš®s
.
	$šdex
(
tmp™em
)

707 
–if
 
dœeùiÚ
 
š
 ['left', 'right', 'up', 'down']:

708 
Ïyout
 = 
£lf
.
	$g‘_visibË_‹rmš®s
()

709 
®loÿtiÚ
 = 
‹rmš®
.
	$g‘_®loÿtiÚ
()

710 
possibËs
 = []

712 #G‘ 
the
 
co
-
Üdš©e
 
of
h
­´İrŸ‹
 
edge
 
this
 
dœeùiÚ


713 
edge
 = 
ut
.
	$g‘_edge
(
®loÿtiÚ
, 
dœeùiÚ
)

714 #Fšd 
®l
 
visibË
 
‹rmš®s
 
which
 
¬e
, 
š
 
theœ
 
’tœ™y
, iÀ
the


715 #dœeùiÚ 
we
 
wªt
 
to
 
move


716 
‹rm
 
š
 
Ïyout
:

717 
»ù
 = 
Ïyout
[
‹rm
]

718 
ut
.
	$g‘_Çv_possibË
(
edge
, 
»ù
, 
dœeùiÚ
):

719 
possibËs
.
	$­³nd
(
‹rm
)

721 
	`Ën
(
possibËs
) == 0:

724 #Fšd 
out
 
how
 
çr
 
away
 
—ch
 
of
 
the
 
possibË
 
‹rmš®s
 
is
, 
th’


725 #fšd 
the
 
sm®Ë¡
 
di¡ªû
. 
The
 
wšnšg
 
‹rmš®s
 
¬e
 
®l
 
of


726 #tho£ 
who
 
¬e
 
th©
 
di¡ªû
 
away
.

727 
off£ts
 = {
	}
}

728 
‹rm
 
š
 
possibËs
:

729 
»ù
 = 
Ïyout
[
‹rm
]

730 
off£ts
[
‹rm
] = 
ut
.
	$g‘_Çv_off£t
(
edge
, 
»ù
, 
dœeùiÚ
)

731 
keys
 = 
off£ts
.
	$v®ues
()

732 
keys
.
	$sÜt
()

733 
wšÃrs
 = [
k
 k, 
v
 
š
 
off£ts
.
	$™”™ems
(è
v
 =ğ
keys
[0]]

734 
Ãxt
 = 
‹rmš®s
.
	$šdex
(
wšÃrs
[0])

736 
	`Ën
(
wšÃrs
) > 1:

737 #B»ak 
ª
 
n
-
way
 
t›
 
usšg
 
the
 
cursÜ
 
pos™iÚ


738 
‹rm_®loc
 = 
‹rmš®
.
®loÿtiÚ


739 
cursÜ_x
 = 
‹rm_®loc
.
x
 +”m_®loc.
width
 / 2

740 
cursÜ_y
 = 
‹rm_®loc
.
y
 +”m_®loc.
height
 / 2

742 
‹rm
 
š
 
wšÃrs
:

743 
»ù
 = 
Ïyout
[
‹rm
]

744 
ut
.
	$g‘_Çv_t›b»ak
(
dœeùiÚ
, 
cursÜ_x
, 
cursÜ_y
,

745 
»ù
):

746 
Ãxt
 = 
‹rmš®s
.
	$šdex
(
‹rm
)

749 
	`”r
('UnknowÀÇvig©iÚ dœeùiÚ: %s' % 
dœeùiÚ
)

751 
Ãxt
 
is
 
nÙ
 
NÚe
:

752 
‹rmš®s
[
Ãxt
].
	$g¿b_focus
()

754 
def
 
	$ü—‹_Ïyout
(
£lf
, 
Ïyout
):

756 
nÙ
 
Ïyout
.
	`has_key
('children'):

757 
	`”r
('Ïyouˆdesüibe nØchd»n: %s' % 
Ïyout
)

759 
chd»n
 = 
Ïyout
['children']

760 
	`Ën
(
chd»n
) != 1:

762 
	`”r
('šcÜ»ù‚umb” oàchd»ÀfÜ Wšdow: %s' % 
Ïyout
)

765 
chd
 = 
chd»n
[chd»n.
	`keys
()[0]]

766 
‹rmš®
 = 
£lf
.
	`g‘_chd»n
()[0]

767 
	`dbg
('Makšg‡ chd oàty³: %s' % 
chd
['type'])

768 
chd
['type'] == 'VPaned':

769 
£lf
.
	$¥l™_axis
(
‹rmš®
, 
True
)

770 
–if
 
chd
['type'] == 'HPaned':

771 
£lf
.
	$¥l™_axis
(
‹rmš®
, 
F®£
)

772 
–if
 
chd
['type'] == 'Notebook':

773 
£lf
.
	$b_Ãw
()

774 
i
 = 2

775 
i
 < 
	`Ën
(
chd
['children']):

776 
£lf
.
	$b_Ãw
()

777 
i
 = i + 1

778 
–if
 
chd
['type'] == 'Terminal':

779 
·ss


781 
	`”r
('unknowÀchdy³: %s' % 
chd
['type'])

784 
£lf
.
	`g‘_chd»n
()[0].
	$ü—‹_Ïyout
(
chd
)

786 
şass
 
	$WšdowT™Ë
(
objeù
):

789 
wšdow
 = 
NÚe


790 
‹xt
 = 
NÚe


791 
fÜûd
 = 
NÚe


793 
def
 
	$__š™__
(
£lf
, 
wšdow
):

795 
£lf
.
wšdow
 = window

796 
£lf
.
fÜûd
 = 
F®£


798 
def
 
	$£t_t™Ë
(
£lf
, 
widg‘
, 
‹xt
):

800 
nÙ
 
£lf
.
fÜûd
:

801 
£lf
.
‹xt
 =ext

802 
£lf
.
	$upd©e
()

804 
def
 
	$fÜû_t™Ë
(
£lf
, 
Ãw‹xt
):

806 
Ãw‹xt
:

807 
£lf
.
	$£t_t™Ë
(
NÚe
, 
Ãw‹xt
)

808 
£lf
.
fÜûd
 = 
True


810 
£lf
.
fÜûd
 = 
F®£


812 
def
 
	$upd©e
(
£lf
):

814 
t™Ë
 = 
NÚe


816 #FIXME: 
Wh©
 
the
 
h–l
 
is
 
this
 ?!

817 
£lf
.
fÜûd
:

818 
t™Ë
 = 
£lf
.
‹xt


820 
t™Ë
 = "%s" % 
£lf
.
‹xt


822 
£lf
.
wšdow
.
	$£t_t™Ë
(
t™Ë
)

824 #vim: 
£t
 
ex·ndb
 
ts
=4 
sw
=4:

	@
1
.
0
40
2498
/home/zq/Project/terminator-0.96/terminatorlib/__init__.py
/home/zq/Project/terminator-0.96/terminatorlib/borg.py
/home/zq/Project/terminator-0.96/terminatorlib/config.py
/home/zq/Project/terminator-0.96/terminatorlib/configobj/__init__.py
/home/zq/Project/terminator-0.96/terminatorlib/configobj/configobj.py
/home/zq/Project/terminator-0.96/terminatorlib/configobj/validate.py
/home/zq/Project/terminator-0.96/terminatorlib/container.py
/home/zq/Project/terminator-0.96/terminatorlib/cwd.py
/home/zq/Project/terminator-0.96/terminatorlib/debugserver.py
/home/zq/Project/terminator-0.96/terminatorlib/editablelabel.py
/home/zq/Project/terminator-0.96/terminatorlib/encoding.py
/home/zq/Project/terminator-0.96/terminatorlib/factory.py
/home/zq/Project/terminator-0.96/terminatorlib/freebsd.py
/home/zq/Project/terminator-0.96/terminatorlib/ipc.py
/home/zq/Project/terminator-0.96/terminatorlib/keybindings.py
/home/zq/Project/terminator-0.96/terminatorlib/notebook.py
/home/zq/Project/terminator-0.96/terminatorlib/optionparse.py
/home/zq/Project/terminator-0.96/terminatorlib/paned.py
/home/zq/Project/terminator-0.96/terminatorlib/plugin.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/activitywatch.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/custom_commands.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/maven.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/terminalshot.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/testplugin.py
/home/zq/Project/terminator-0.96/terminatorlib/plugins/url_handlers.py
/home/zq/Project/terminator-0.96/terminatorlib/prefseditor.py
/home/zq/Project/terminator-0.96/terminatorlib/searchbar.py
/home/zq/Project/terminator-0.96/terminatorlib/signalman.py
/home/zq/Project/terminator-0.96/terminatorlib/terminal.py
/home/zq/Project/terminator-0.96/terminatorlib/terminal_popup_menu.py
/home/zq/Project/terminator-0.96/terminatorlib/terminator.py
/home/zq/Project/terminator-0.96/terminatorlib/tests/__init__.py
/home/zq/Project/terminator-0.96/terminatorlib/tests/test_doctests.py
/home/zq/Project/terminator-0.96/terminatorlib/tests/testborg.py
/home/zq/Project/terminator-0.96/terminatorlib/tests/testsignalman.py
/home/zq/Project/terminator-0.96/terminatorlib/titlebar.py
/home/zq/Project/terminator-0.96/terminatorlib/translation.py
/home/zq/Project/terminator-0.96/terminatorlib/util.py
/home/zq/Project/terminator-0.96/terminatorlib/version.py
/home/zq/Project/terminator-0.96/terminatorlib/window.py
